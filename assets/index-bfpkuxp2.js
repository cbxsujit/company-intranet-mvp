function VO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},Fo={},Pm={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN;function GO(){if(PN)return Be;PN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function y(V,Q,ge){this.props=V,this.context=Q,this.refs=S,this.updater=ge||w}y.prototype.isReactComponent={},y.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function E(){}E.prototype=y.prototype;function T(V,Q,ge){this.props=V,this.context=Q,this.refs=S,this.updater=ge||w}var A=T.prototype=new E;A.constructor=T,N(A,y.prototype),A.isPureReactComponent=!0;var I=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(V,Q,ge){var Ie,ne={},Pe=null,Le=null;if(Q!=null)for(Ie in Q.ref!==void 0&&(Le=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)_.call(Q,Ie)&&!M.hasOwnProperty(Ie)&&(ne[Ie]=Q[Ie]);var ke=arguments.length-2;if(ke===1)ne.children=ge;else if(1<ke){for(var ce=Array(ke),_e=0;_e<ke;_e++)ce[_e]=arguments[_e+2];ne.children=ce}if(V&&V.defaultProps)for(Ie in ke=V.defaultProps,ke)ne[Ie]===void 0&&(ne[Ie]=ke[Ie]);return{$$typeof:t,type:V,key:Pe,ref:Le,props:ne,_owner:k.current}}function O(V,Q){return{$$typeof:t,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function B(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function $(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return Q[ge]})}var F=/\/+/g;function L(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?$(""+V.key):Q.toString(36)}function z(V,Q,ge,Ie,ne){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Pe){case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case t:case e:Le=!0}}if(Le)return Le=V,ne=ne(Le),V=Ie===""?"."+L(Le,0):Ie,I(ne)?(ge="",V!=null&&(ge=V.replace(F,"$&/")+"/"),z(ne,Q,ge,"",function(_e){return _e})):ne!=null&&(B(ne)&&(ne=O(ne,ge+(!ne.key||Le&&Le.key===ne.key?"":(""+ne.key).replace(F,"$&/")+"/")+V)),Q.push(ne)),1;if(Le=0,Ie=Ie===""?".":Ie+":",I(V))for(var ke=0;ke<V.length;ke++){Pe=V[ke];var ce=Ie+L(Pe,ke);Le+=z(Pe,Q,ge,ce,ne)}else if(ce=v(V),typeof ce=="function")for(V=ce.call(V),ke=0;!(Pe=V.next()).done;)Pe=Pe.value,ce=Ie+L(Pe,ke++),Le+=z(Pe,Q,ge,ce,ne);else if(Pe==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Le}function J(V,Q,ge){if(V==null)return V;var Ie=[],ne=0;return z(V,Ie,"","",function(Pe){return Q.call(ge,Pe,ne++)}),Ie}function q(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var ee={current:null},X={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:X,ReactCurrentOwner:k};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:J,forEach:function(V,Q,ge){J(V,function(){Q.apply(this,arguments)},ge)},count:function(V){var Q=0;return J(V,function(){Q++}),Q},toArray:function(V){return J(V,function(Q){return Q})||[]},only:function(V){if(!B(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Be.Component=y,Be.Fragment=n,Be.Profiler=i,Be.PureComponent=T,Be.StrictMode=r,Be.Suspense=d,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Be.act=ae,Be.cloneElement=function(V,Q,ge){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ie=N({},V.props),ne=V.key,Pe=V.ref,Le=V._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,Le=k.current),Q.key!==void 0&&(ne=""+Q.key),V.type&&V.type.defaultProps)var ke=V.type.defaultProps;for(ce in Q)_.call(Q,ce)&&!M.hasOwnProperty(ce)&&(Ie[ce]=Q[ce]===void 0&&ke!==void 0?ke[ce]:Q[ce])}var ce=arguments.length-2;if(ce===1)Ie.children=ge;else if(1<ce){ke=Array(ce);for(var _e=0;_e<ce;_e++)ke[_e]=arguments[_e+2];Ie.children=ke}return{$$typeof:t,type:V.type,key:ne,ref:Pe,props:Ie,_owner:Le}},Be.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Be.createElement=R,Be.createFactory=function(V){var Q=R.bind(null,V);return Q.type=V,Q},Be.createRef=function(){return{current:null}},Be.forwardRef=function(V){return{$$typeof:c,render:V}},Be.isValidElement=B,Be.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:q}},Be.memo=function(V,Q){return{$$typeof:f,type:V,compare:Q===void 0?null:Q}},Be.startTransition=function(V){var Q=X.transition;X.transition={};try{V()}finally{X.transition=Q}},Be.unstable_act=ae,Be.useCallback=function(V,Q){return ee.current.useCallback(V,Q)},Be.useContext=function(V){return ee.current.useContext(V)},Be.useDebugValue=function(){},Be.useDeferredValue=function(V){return ee.current.useDeferredValue(V)},Be.useEffect=function(V,Q){return ee.current.useEffect(V,Q)},Be.useId=function(){return ee.current.useId()},Be.useImperativeHandle=function(V,Q,ge){return ee.current.useImperativeHandle(V,Q,ge)},Be.useInsertionEffect=function(V,Q){return ee.current.useInsertionEffect(V,Q)},Be.useLayoutEffect=function(V,Q){return ee.current.useLayoutEffect(V,Q)},Be.useMemo=function(V,Q){return ee.current.useMemo(V,Q)},Be.useReducer=function(V,Q,ge){return ee.current.useReducer(V,Q,ge)},Be.useRef=function(V){return ee.current.useRef(V)},Be.useState=function(V){return ee.current.useState(V)},Be.useSyncExternalStore=function(V,Q,ge){return ee.current.useSyncExternalStore(V,Q,ge)},Be.useTransition=function(){return ee.current.useTransition()},Be.version="18.3.1",Be}var kN;function yy(){return kN||(kN=1,Pm.exports=GO()),Pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function HO(){if(MN)return Fo;MN=1;var t=yy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,m={},v=null,w=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:w,props:m,_owner:i.current}}return Fo.Fragment=n,Fo.jsx=l,Fo.jsxs=l,Fo}var RN;function WO(){return RN||(RN=1,Im.exports=HO()),Im.exports}var s=WO(),P=yy();const Z=dt(P),KO=VO({__proto__:null,default:Z},[P]);var _u={},km={exports:{}},wn={},Mm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN;function JO(){return DN||(DN=1,(function(t){function e(X,re){var ae=X.length;X.push(re);e:for(;0<ae;){var V=ae-1>>>1,Q=X[V];if(0<i(Q,re))X[V]=re,X[ae]=Q,ae=V;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],ae=X.pop();if(ae!==re){X[0]=ae;e:for(var V=0,Q=X.length,ge=Q>>>1;V<ge;){var Ie=2*(V+1)-1,ne=X[Ie],Pe=Ie+1,Le=X[Pe];if(0>i(ne,ae))Pe<Q&&0>i(Le,ne)?(X[V]=Le,X[Pe]=ae,V=Pe):(X[V]=ne,X[Ie]=ae,V=Ie);else if(Pe<Q&&0>i(Le,ae))X[V]=Le,X[Pe]=ae,V=Pe;else break e}}return re}function i(X,re){var ae=X.sortIndex-re.sortIndex;return ae!==0?ae:X.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,w=!1,N=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=X)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function I(X){if(S=!1,A(X),!N)if(n(d)!==null)N=!0,q(_);else{var re=n(f);re!==null&&ee(I,re.startTime-X)}}function _(X,re){N=!1,S&&(S=!1,E(R),R=-1),w=!0;var ae=v;try{for(A(re),m=n(d);m!==null&&(!(m.expirationTime>re)||X&&!$());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var Q=V(m.expirationTime<=re);re=t.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(d)&&r(d),A(re)}else r(d);m=n(d)}if(m!==null)var ge=!0;else{var Ie=n(f);Ie!==null&&ee(I,Ie.startTime-re),ge=!1}return ge}finally{m=null,v=ae,w=!1}}var k=!1,M=null,R=-1,O=5,B=-1;function $(){return!(t.unstable_now()-B<O)}function F(){if(M!==null){var X=t.unstable_now();B=X;var re=!0;try{re=M(!0,X)}finally{re?L():(k=!1,M=null)}}else k=!1}var L;if(typeof T=="function")L=function(){T(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=F,L=function(){J.postMessage(null)}}else L=function(){y(F,0)};function q(X){M=X,k||(k=!0,L())}function ee(X,re){R=y(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,q(_))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var ae=v;v=re;try{return X()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=v;v=X;try{return re()}finally{v=ae}},t.unstable_scheduleCallback=function(X,re,ae){var V=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?V+ae:V):ae=V,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,X={id:p++,callback:re,priorityLevel:X,startTime:ae,expirationTime:Q,sortIndex:-1},ae>V?(X.sortIndex=ae,e(f,X),n(d)===null&&X===n(f)&&(S?(E(R),R=-1):S=!0,ee(I,ae-V))):(X.sortIndex=Q,e(d,X),N||w||(N=!0,q(_))),X},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(X){var re=v;return function(){var ae=v;v=re;try{return X.apply(this,arguments)}finally{v=ae}}}})(Rm)),Rm}var ON;function YO(){return ON||(ON=1,Mm.exports=JO()),Mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function XO(){if(LN)return wn;LN=1;var t=yy(),e=YO();function n(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(i[o]=u,o=0;o<u.length;o++)r.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function w(o,u,h,b){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function N(o,u,h,b){if(u===null||typeof u>"u"||w(o,u,h,b))return!0;if(b)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(o,u,h,b,C,j,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=o,this.type=u,this.sanitizeURL=j,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){y[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];y[u]=new S(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){y[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){y[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){y[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){y[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){y[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){y[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){y[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(E,T);y[u]=new S(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(E,T);y[u]=new S(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(E,T);y[u]=new S(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){y[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),y.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){y[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,u,h,b){var C=y.hasOwnProperty(u)?y[u]:null;(C!==null?C.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(N(u,h,C,b)&&(h=null),b||C===null?v(u)&&(h===null?o.removeAttribute(u):o.setAttribute(u,""+h)):C.mustUseProperty?o[C.propertyName]=h===null?C.type===3?!1:"":h:(u=C.attributeName,b=C.attributeNamespace,h===null?o.removeAttribute(u):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,b?o.setAttributeNS(b,u,h):o.setAttribute(u,h))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),X=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Object.assign,V;function Q(o){if(V===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);V=u&&u[1]||""}return`
`+V+o}var ge=!1;function Ie(o,u){if(!o||ge)return"";ge=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var b=te}Reflect.construct(o,[],u)}else{try{u.call()}catch(te){b=te}o.call(u.prototype)}else{try{throw Error()}catch(te){b=te}o()}}catch(te){if(te&&b&&typeof te.stack=="string"){for(var C=te.stack.split(`
`),j=b.stack.split(`
`),D=C.length-1,U=j.length-1;1<=D&&0<=U&&C[D]!==j[U];)U--;for(;1<=D&&0<=U;D--,U--)if(C[D]!==j[U]){if(D!==1||U!==1)do if(D--,U--,0>U||C[D]!==j[U]){var G=`
`+C[D].replace(" at new "," at ");return o.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",o.displayName)),G}while(1<=D&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ne(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=Ie(o.type,!1),o;case 11:return o=Ie(o.type.render,!1),o;case 1:return o=Ie(o.type,!0),o;default:return""}}function Pe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case M:return"Fragment";case k:return"Portal";case O:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case B:return(o._context.displayName||"Context")+".Provider";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case J:return u=o.displayName||null,u!==null?u:Pe(o.type)||"Memo";case q:u=o._payload,o=o._init;try{return Pe(o(u))}catch{}}return null}function Le(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ce(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function _e(o){var u=ce(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),b=""+o[u];if(!o.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,j=h.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(D){b=""+D,j.call(this,D)}}),Object.defineProperty(o,u,{enumerable:h.enumerable}),{getValue:function(){return b},setValue:function(D){b=""+D},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Fe(o){o._valueTracker||(o._valueTracker=_e(o))}function pe(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),b="";return o&&(b=ce(o)?o.checked?"true":"false":o.value),o=b,o!==h?(u.setValue(o),!0):!1}function rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function $e(o,u){var h=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function it(o,u){var h=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;h=ke(u.value!=null?u.value:h),o._wrapperState={initialChecked:b,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ft(o,u){u=u.checked,u!=null&&A(o,"checked",u,!1)}function Wt(o,u){ft(o,u);var h=ke(u.value),b=u.type;if(h!=null)b==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(b==="submit"||b==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?ti(o,u.type,h):u.hasOwnProperty("defaultValue")&&ti(o,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function Dn(o,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,h||u===o.value||(o.value=u),o.defaultValue=u}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function ti(o,u,h){(u!=="number"||rt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var _n=Array.isArray;function hn(o,u,h,b){if(o=o.options,u){u={};for(var C=0;C<h.length;C++)u["$"+h[C]]=!0;for(h=0;h<o.length;h++)C=u.hasOwnProperty("$"+o[h].value),o[h].selected!==C&&(o[h].selected=C),C&&b&&(o[h].defaultSelected=!0)}else{for(h=""+ke(h),u=null,C=0;C<o.length;C++){if(o[C].value===h){o[C].selected=!0,b&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function Vi(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Xa(o,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(n(92));if(_n(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),h=u}o._wrapperState={initialValue:ke(h)}}function Qa(o,u){var h=ke(u.value),b=ke(u.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),u.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),b!=null&&(o.defaultValue=""+b)}function zb(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Vb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qf(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Vb(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var vc,Gb=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,b,C){MSApp.execUnsafeLocalFunction(function(){return o(u,h,b,C)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=vc.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Za(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KR=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(o){KR.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),eo[u]=eo[o]})});function Hb(o,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||eo.hasOwnProperty(o)&&eo[o]?(""+u).trim():u+"px"}function Wb(o,u){o=o.style;for(var h in u)if(u.hasOwnProperty(h)){var b=h.indexOf("--")===0,C=Hb(h,u[h],b);h==="float"&&(h="cssFloat"),b?o.setProperty(h,C):o[h]=C}}var JR=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(o,u){if(u){if(JR[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function zf(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Gf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Hf=null,Os=null,Ls=null;function Kb(o){if(o=No(o)){if(typeof Hf!="function")throw Error(n(280));var u=o.stateNode;u&&(u=Uc(u),Hf(o.stateNode,o.type,u))}}function Jb(o){Os?Ls?Ls.push(o):Ls=[o]:Os=o}function Yb(){if(Os){var o=Os,u=Ls;if(Ls=Os=null,Kb(o),u)for(o=0;o<u.length;o++)Kb(u[o])}}function Xb(o,u){return o(u)}function Qb(){}var Wf=!1;function Zb(o,u,h){if(Wf)return o(u,h);Wf=!0;try{return Xb(o,u,h)}finally{Wf=!1,(Os!==null||Ls!==null)&&(Qb(),Yb())}}function to(o,u){var h=o.stateNode;if(h===null)return null;var b=Uc(h);if(b===null)return null;h=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Kf=!1;if(c)try{var no={};Object.defineProperty(no,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Kf=!1}function YR(o,u,h,b,C,j,D,U,G){var te=Array.prototype.slice.call(arguments,3);try{u.apply(h,te)}catch(fe){this.onError(fe)}}var ro=!1,xc=null,yc=!1,Jf=null,XR={onError:function(o){ro=!0,xc=o}};function QR(o,u,h,b,C,j,D,U,G){ro=!1,xc=null,YR.apply(XR,arguments)}function ZR(o,u,h,b,C,j,D,U,G){if(QR.apply(this,arguments),ro){if(ro){var te=xc;ro=!1,xc=null}else throw Error(n(198));yc||(yc=!0,Jf=te)}}function Gi(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function ew(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function tw(o){if(Gi(o)!==o)throw Error(n(188))}function eD(o){var u=o.alternate;if(!u){if(u=Gi(o),u===null)throw Error(n(188));return u!==o?null:o}for(var h=o,b=u;;){var C=h.return;if(C===null)break;var j=C.alternate;if(j===null){if(b=C.return,b!==null){h=b;continue}break}if(C.child===j.child){for(j=C.child;j;){if(j===h)return tw(C),o;if(j===b)return tw(C),u;j=j.sibling}throw Error(n(188))}if(h.return!==b.return)h=C,b=j;else{for(var D=!1,U=C.child;U;){if(U===h){D=!0,h=C,b=j;break}if(U===b){D=!0,b=C,h=j;break}U=U.sibling}if(!D){for(U=j.child;U;){if(U===h){D=!0,h=j,b=C;break}if(U===b){D=!0,b=j,h=C;break}U=U.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==b)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:u}function nw(o){return o=eD(o),o!==null?rw(o):null}function rw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=rw(o);if(u!==null)return u;o=o.sibling}return null}var iw=e.unstable_scheduleCallback,sw=e.unstable_cancelCallback,tD=e.unstable_shouldYield,nD=e.unstable_requestPaint,_t=e.unstable_now,rD=e.unstable_getCurrentPriorityLevel,Yf=e.unstable_ImmediatePriority,aw=e.unstable_UserBlockingPriority,bc=e.unstable_NormalPriority,iD=e.unstable_LowPriority,ow=e.unstable_IdlePriority,wc=null,vr=null;function sD(o){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(wc,o,void 0,(o.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:lD,aD=Math.log,oD=Math.LN2;function lD(o){return o>>>=0,o===0?32:31-(aD(o)/oD|0)|0}var Sc=64,Nc=4194304;function io(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ec(o,u){var h=o.pendingLanes;if(h===0)return 0;var b=0,C=o.suspendedLanes,j=o.pingedLanes,D=h&268435455;if(D!==0){var U=D&~C;U!==0?b=io(U):(j&=D,j!==0&&(b=io(j)))}else D=h&~C,D!==0?b=io(D):j!==0&&(b=io(j));if(b===0)return 0;if(u!==0&&u!==b&&(u&C)===0&&(C=b&-b,j=u&-u,C>=j||C===16&&(j&4194240)!==0))return u;if((b&4)!==0&&(b|=h&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=b;0<u;)h=31-tr(u),C=1<<h,b|=o[h],u&=~C;return b}function cD(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uD(o,u){for(var h=o.suspendedLanes,b=o.pingedLanes,C=o.expirationTimes,j=o.pendingLanes;0<j;){var D=31-tr(j),U=1<<D,G=C[D];G===-1?((U&h)===0||(U&b)!==0)&&(C[D]=cD(U,u)):G<=u&&(o.expiredLanes|=U),j&=~U}}function Xf(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function lw(){var o=Sc;return Sc<<=1,(Sc&4194240)===0&&(Sc=64),o}function Qf(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function so(o,u,h){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-tr(u),o[u]=h}function dD(o,u){var h=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var b=o.eventTimes;for(o=o.expirationTimes;0<h;){var C=31-tr(h),j=1<<C;u[C]=0,b[C]=-1,o[C]=-1,h&=~j}}function Zf(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var b=31-tr(h),C=1<<b;C&u|o[b]&u&&(o[b]|=u),h&=~C}}var st=0;function cw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var uw,ep,dw,fw,pw,tp=!1,Cc=[],ni=null,ri=null,ii=null,ao=new Map,oo=new Map,si=[],fD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(o,u){switch(o){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ao.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(u.pointerId)}}function lo(o,u,h,b,C,j){return o===null||o.nativeEvent!==j?(o={blockedOn:u,domEventName:h,eventSystemFlags:b,nativeEvent:j,targetContainers:[C]},u!==null&&(u=No(u),u!==null&&ep(u)),o):(o.eventSystemFlags|=b,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function pD(o,u,h,b,C){switch(u){case"focusin":return ni=lo(ni,o,u,h,b,C),!0;case"dragenter":return ri=lo(ri,o,u,h,b,C),!0;case"mouseover":return ii=lo(ii,o,u,h,b,C),!0;case"pointerover":var j=C.pointerId;return ao.set(j,lo(ao.get(j)||null,o,u,h,b,C)),!0;case"gotpointercapture":return j=C.pointerId,oo.set(j,lo(oo.get(j)||null,o,u,h,b,C)),!0}return!1}function hw(o){var u=Hi(o.target);if(u!==null){var h=Gi(u);if(h!==null){if(u=h.tag,u===13){if(u=ew(h),u!==null){o.blockedOn=u,pw(o.priority,function(){dw(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function _c(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=rp(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var b=new h.constructor(h.type,h);Vf=b,h.target.dispatchEvent(b),Vf=null}else return u=No(h),u!==null&&ep(u),o.blockedOn=h,!1;u.shift()}return!0}function gw(o,u,h){_c(o)&&h.delete(u)}function mD(){tp=!1,ni!==null&&_c(ni)&&(ni=null),ri!==null&&_c(ri)&&(ri=null),ii!==null&&_c(ii)&&(ii=null),ao.forEach(gw),oo.forEach(gw)}function co(o,u){o.blockedOn===u&&(o.blockedOn=null,tp||(tp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mD)))}function uo(o){function u(C){return co(C,o)}if(0<Cc.length){co(Cc[0],o);for(var h=1;h<Cc.length;h++){var b=Cc[h];b.blockedOn===o&&(b.blockedOn=null)}}for(ni!==null&&co(ni,o),ri!==null&&co(ri,o),ii!==null&&co(ii,o),ao.forEach(u),oo.forEach(u),h=0;h<si.length;h++)b=si[h],b.blockedOn===o&&(b.blockedOn=null);for(;0<si.length&&(h=si[0],h.blockedOn===null);)hw(h),h.blockedOn===null&&si.shift()}var Fs=I.ReactCurrentBatchConfig,Tc=!0;function hD(o,u,h,b){var C=st,j=Fs.transition;Fs.transition=null;try{st=1,np(o,u,h,b)}finally{st=C,Fs.transition=j}}function gD(o,u,h,b){var C=st,j=Fs.transition;Fs.transition=null;try{st=4,np(o,u,h,b)}finally{st=C,Fs.transition=j}}function np(o,u,h,b){if(Tc){var C=rp(o,u,h,b);if(C===null)bp(o,u,b,Ac,h),mw(o,b);else if(pD(C,o,u,h,b))b.stopPropagation();else if(mw(o,b),u&4&&-1<fD.indexOf(o)){for(;C!==null;){var j=No(C);if(j!==null&&uw(j),j=rp(o,u,h,b),j===null&&bp(o,u,b,Ac,h),j===C)break;C=j}C!==null&&b.stopPropagation()}else bp(o,u,b,null,h)}}var Ac=null;function rp(o,u,h,b){if(Ac=null,o=Gf(b),o=Hi(o),o!==null)if(u=Gi(o),u===null)o=null;else if(h=u.tag,h===13){if(o=ew(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Ac=o,null}function vw(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rD()){case Yf:return 1;case aw:return 4;case bc:case iD:return 16;case ow:return 536870912;default:return 16}default:return 16}}var ai=null,ip=null,jc=null;function xw(){if(jc)return jc;var o,u=ip,h=u.length,b,C="value"in ai?ai.value:ai.textContent,j=C.length;for(o=0;o<h&&u[o]===C[o];o++);var D=h-o;for(b=1;b<=D&&u[h-b]===C[j-b];b++);return jc=C.slice(o,1<b?1-b:void 0)}function Ic(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Pc(){return!0}function yw(){return!1}function Tn(o){function u(h,b,C,j,D){this._reactName=h,this._targetInst=C,this.type=b,this.nativeEvent=j,this.target=D,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(h=o[U],this[U]=h?h(j):j[U]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Pc:yw,this.isPropagationStopped=yw,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),u}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=Tn($s),fo=ae({},$s,{view:0,detail:0}),vD=Tn(fo),ap,op,po,kc=ae({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==po&&(po&&o.type==="mousemove"?(ap=o.screenX-po.screenX,op=o.screenY-po.screenY):op=ap=0,po=o),ap)},movementY:function(o){return"movementY"in o?o.movementY:op}}),bw=Tn(kc),xD=ae({},kc,{dataTransfer:0}),yD=Tn(xD),bD=ae({},fo,{relatedTarget:0}),lp=Tn(bD),wD=ae({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),SD=Tn(wD),ND=ae({},$s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ED=Tn(ND),CD=ae({},$s,{data:0}),ww=Tn(CD),_D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jD(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=AD[o])?!!u[o]:!1}function cp(){return jD}var ID=ae({},fo,{key:function(o){if(o.key){var u=_D[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ic(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?TD[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(o){return o.type==="keypress"?Ic(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ic(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),PD=Tn(ID),kD=ae({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=Tn(kD),MD=ae({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),RD=Tn(MD),DD=ae({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=Tn(DD),LD=ae({},kc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),FD=Tn(LD),$D=[9,13,27,32],up=c&&"CompositionEvent"in window,mo=null;c&&"documentMode"in document&&(mo=document.documentMode);var UD=c&&"TextEvent"in window&&!mo,Nw=c&&(!up||mo&&8<mo&&11>=mo),Ew=" ",Cw=!1;function _w(o,u){switch(o){case"keyup":return $D.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Us=!1;function qD(o,u){switch(o){case"compositionend":return Tw(u);case"keypress":return u.which!==32?null:(Cw=!0,Ew);case"textInput":return o=u.data,o===Ew&&Cw?null:o;default:return null}}function BD(o,u){if(Us)return o==="compositionend"||!up&&_w(o,u)?(o=xw(),jc=ip=ai=null,Us=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Nw&&u.locale!=="ko"?null:u.data;default:return null}}var zD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!zD[o.type]:u==="textarea"}function jw(o,u,h,b){Jb(b),u=Lc(u,"onChange"),0<u.length&&(h=new sp("onChange","change",null,h,b),o.push({event:h,listeners:u}))}var ho=null,go=null;function VD(o){Ww(o,0)}function Mc(o){var u=Gs(o);if(pe(u))return o}function GD(o,u){if(o==="change")return u}var Iw=!1;if(c){var dp;if(c){var fp="oninput"in document;if(!fp){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),fp=typeof Pw.oninput=="function"}dp=fp}else dp=!1;Iw=dp&&(!document.documentMode||9<document.documentMode)}function kw(){ho&&(ho.detachEvent("onpropertychange",Mw),go=ho=null)}function Mw(o){if(o.propertyName==="value"&&Mc(go)){var u=[];jw(u,go,o,Gf(o)),Zb(VD,u)}}function HD(o,u,h){o==="focusin"?(kw(),ho=u,go=h,ho.attachEvent("onpropertychange",Mw)):o==="focusout"&&kw()}function WD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Mc(go)}function KD(o,u){if(o==="click")return Mc(u)}function JD(o,u){if(o==="input"||o==="change")return Mc(u)}function YD(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var nr=typeof Object.is=="function"?Object.is:YD;function vo(o,u){if(nr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),b=Object.keys(u);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var C=h[b];if(!d.call(u,C)||!nr(o[C],u[C]))return!1}return!0}function Rw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Dw(o,u){var h=Rw(o);o=0;for(var b;h;){if(h.nodeType===3){if(b=o+h.textContent.length,o<=u&&b>=u)return{node:h,offset:u-o};o=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Rw(h)}}function Ow(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ow(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Lw(){for(var o=window,u=rt();u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=rt(o.document)}return u}function pp(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function XD(o){var u=Lw(),h=o.focusedElem,b=o.selectionRange;if(u!==h&&h&&h.ownerDocument&&Ow(h.ownerDocument.documentElement,h)){if(b!==null&&pp(h)){if(u=b.start,o=b.end,o===void 0&&(o=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(o,h.value.length);else if(o=(u=h.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var C=h.textContent.length,j=Math.min(b.start,C);b=b.end===void 0?j:Math.min(b.end,C),!o.extend&&j>b&&(C=b,b=j,j=C),C=Dw(h,j);var D=Dw(h,b);C&&D&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),o.removeAllRanges(),j>b?(o.addRange(u),o.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),o.addRange(u)))}}for(u=[],o=h;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)o=u[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var QD=c&&"documentMode"in document&&11>=document.documentMode,qs=null,mp=null,xo=null,hp=!1;function Fw(o,u,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hp||qs==null||qs!==rt(b)||(b=qs,"selectionStart"in b&&pp(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),xo&&vo(xo,b)||(xo=b,b=Lc(mp,"onSelect"),0<b.length&&(u=new sp("onSelect","select",null,u,h),o.push({event:u,listeners:b}),u.target=qs)))}function Rc(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var Bs={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},gp={},$w={};c&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Dc(o){if(gp[o])return gp[o];if(!Bs[o])return o;var u=Bs[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in $w)return gp[o]=u[h];return o}var Uw=Dc("animationend"),qw=Dc("animationiteration"),Bw=Dc("animationstart"),zw=Dc("transitionend"),Vw=new Map,Gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(o,u){Vw.set(o,u),a(u,[o])}for(var vp=0;vp<Gw.length;vp++){var xp=Gw[vp],ZD=xp.toLowerCase(),eO=xp[0].toUpperCase()+xp.slice(1);oi(ZD,"on"+eO)}oi(Uw,"onAnimationEnd"),oi(qw,"onAnimationIteration"),oi(Bw,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(zw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tO=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Hw(o,u,h){var b=o.type||"unknown-event";o.currentTarget=h,ZR(b,u,void 0,o),o.currentTarget=null}function Ww(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var b=o[h],C=b.event;b=b.listeners;e:{var j=void 0;if(u)for(var D=b.length-1;0<=D;D--){var U=b[D],G=U.instance,te=U.currentTarget;if(U=U.listener,G!==j&&C.isPropagationStopped())break e;Hw(C,U,te),j=G}else for(D=0;D<b.length;D++){if(U=b[D],G=U.instance,te=U.currentTarget,U=U.listener,G!==j&&C.isPropagationStopped())break e;Hw(C,U,te),j=G}}}if(yc)throw o=Jf,yc=!1,Jf=null,o}function ht(o,u){var h=u[_p];h===void 0&&(h=u[_p]=new Set);var b=o+"__bubble";h.has(b)||(Kw(u,o,2,!1),h.add(b))}function yp(o,u,h){var b=0;u&&(b|=4),Kw(h,o,b,u)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function bo(o){if(!o[Oc]){o[Oc]=!0,r.forEach(function(h){h!=="selectionchange"&&(tO.has(h)||yp(h,!1,o),yp(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Oc]||(u[Oc]=!0,yp("selectionchange",!1,u))}}function Kw(o,u,h,b){switch(vw(u)){case 1:var C=hD;break;case 4:C=gD;break;default:C=np}h=C.bind(null,u,h,o),C=void 0,!Kf||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),b?C!==void 0?o.addEventListener(u,h,{capture:!0,passive:C}):o.addEventListener(u,h,!0):C!==void 0?o.addEventListener(u,h,{passive:C}):o.addEventListener(u,h,!1)}function bp(o,u,h,b,C){var j=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var U=b.stateNode.containerInfo;if(U===C||U.nodeType===8&&U.parentNode===C)break;if(D===4)for(D=b.return;D!==null;){var G=D.tag;if((G===3||G===4)&&(G=D.stateNode.containerInfo,G===C||G.nodeType===8&&G.parentNode===C))return;D=D.return}for(;U!==null;){if(D=Hi(U),D===null)return;if(G=D.tag,G===5||G===6){b=j=D;continue e}U=U.parentNode}}b=b.return}Zb(function(){var te=j,fe=Gf(h),me=[];e:{var ue=Vw.get(o);if(ue!==void 0){var ye=sp,Ee=o;switch(o){case"keypress":if(Ic(h)===0)break e;case"keydown":case"keyup":ye=PD;break;case"focusin":Ee="focus",ye=lp;break;case"focusout":Ee="blur",ye=lp;break;case"beforeblur":case"afterblur":ye=lp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=yD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=RD;break;case Uw:case qw:case Bw:ye=SD;break;case zw:ye=OD;break;case"scroll":ye=vD;break;case"wheel":ye=FD;break;case"copy":case"cut":case"paste":ye=ED;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Sw}var Ce=(u&4)!==0,Tt=!Ce&&o==="scroll",K=Ce?ue!==null?ue+"Capture":null:ue;Ce=[];for(var H=te,Y;H!==null;){Y=H;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,K!==null&&(he=to(H,K),he!=null&&Ce.push(wo(H,he,Y)))),Tt)break;H=H.return}0<Ce.length&&(ue=new ye(ue,Ee,null,h,fe),me.push({event:ue,listeners:Ce}))}}if((u&7)===0){e:{if(ue=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",ue&&h!==Vf&&(Ee=h.relatedTarget||h.fromElement)&&(Hi(Ee)||Ee[kr]))break e;if((ye||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,ye?(Ee=h.relatedTarget||h.toElement,ye=te,Ee=Ee?Hi(Ee):null,Ee!==null&&(Tt=Gi(Ee),Ee!==Tt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=te),ye!==Ee)){if(Ce=bw,he="onMouseLeave",K="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=Sw,he="onPointerLeave",K="onPointerEnter",H="pointer"),Tt=ye==null?ue:Gs(ye),Y=Ee==null?ue:Gs(Ee),ue=new Ce(he,H+"leave",ye,h,fe),ue.target=Tt,ue.relatedTarget=Y,he=null,Hi(fe)===te&&(Ce=new Ce(K,H+"enter",Ee,h,fe),Ce.target=Y,Ce.relatedTarget=Tt,he=Ce),Tt=he,ye&&Ee)t:{for(Ce=ye,K=Ee,H=0,Y=Ce;Y;Y=zs(Y))H++;for(Y=0,he=K;he;he=zs(he))Y++;for(;0<H-Y;)Ce=zs(Ce),H--;for(;0<Y-H;)K=zs(K),Y--;for(;H--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=zs(Ce),K=zs(K)}Ce=null}else Ce=null;ye!==null&&Jw(me,ue,ye,Ce,!1),Ee!==null&&Tt!==null&&Jw(me,Tt,Ee,Ce,!0)}}e:{if(ue=te?Gs(te):window,ye=ue.nodeName&&ue.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ue.type==="file")var Te=GD;else if(Aw(ue))if(Iw)Te=JD;else{Te=WD;var Me=HD}else(ye=ue.nodeName)&&ye.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Te=KD);if(Te&&(Te=Te(o,te))){jw(me,Te,h,fe);break e}Me&&Me(o,ue,te),o==="focusout"&&(Me=ue._wrapperState)&&Me.controlled&&ue.type==="number"&&ti(ue,"number",ue.value)}switch(Me=te?Gs(te):window,o){case"focusin":(Aw(Me)||Me.contentEditable==="true")&&(qs=Me,mp=te,xo=null);break;case"focusout":xo=mp=qs=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Fw(me,h,fe);break;case"selectionchange":if(QD)break;case"keydown":case"keyup":Fw(me,h,fe)}var Re;if(up)e:{switch(o){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Us?_w(o,h)&&(Oe="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Oe="onCompositionStart");Oe&&(Nw&&h.locale!=="ko"&&(Us||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Us&&(Re=xw()):(ai=fe,ip="value"in ai?ai.value:ai.textContent,Us=!0)),Me=Lc(te,Oe),0<Me.length&&(Oe=new ww(Oe,o,null,h,fe),me.push({event:Oe,listeners:Me}),Re?Oe.data=Re:(Re=Tw(h),Re!==null&&(Oe.data=Re)))),(Re=UD?qD(o,h):BD(o,h))&&(te=Lc(te,"onBeforeInput"),0<te.length&&(fe=new ww("onBeforeInput","beforeinput",null,h,fe),me.push({event:fe,listeners:te}),fe.data=Re))}Ww(me,u)})}function wo(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Lc(o,u){for(var h=u+"Capture",b=[];o!==null;){var C=o,j=C.stateNode;C.tag===5&&j!==null&&(C=j,j=to(o,h),j!=null&&b.unshift(wo(o,j,C)),j=to(o,u),j!=null&&b.push(wo(o,j,C))),o=o.return}return b}function zs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Jw(o,u,h,b,C){for(var j=u._reactName,D=[];h!==null&&h!==b;){var U=h,G=U.alternate,te=U.stateNode;if(G!==null&&G===b)break;U.tag===5&&te!==null&&(U=te,C?(G=to(h,j),G!=null&&D.unshift(wo(h,G,U))):C||(G=to(h,j),G!=null&&D.push(wo(h,G,U)))),h=h.return}D.length!==0&&o.push({event:u,listeners:D})}var nO=/\r\n?/g,rO=/\u0000|\uFFFD/g;function Yw(o){return(typeof o=="string"?o:""+o).replace(nO,`
`).replace(rO,"")}function Fc(o,u,h){if(u=Yw(u),Yw(o)!==u&&h)throw Error(n(425))}function $c(){}var wp=null,Sp=null;function Np(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,Xw=typeof Promise=="function"?Promise:void 0,sO=typeof queueMicrotask=="function"?queueMicrotask:typeof Xw<"u"?function(o){return Xw.resolve(null).then(o).catch(aO)}:Ep;function aO(o){setTimeout(function(){throw o})}function Cp(o,u){var h=u,b=0;do{var C=h.nextSibling;if(o.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(b===0){o.removeChild(C),uo(u);return}b--}else h!=="$"&&h!=="$?"&&h!=="$!"||b++;h=C}while(h);uo(u)}function li(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function Qw(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return o;u--}else h==="/$"&&u++}o=o.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),xr="__reactFiber$"+Vs,So="__reactProps$"+Vs,kr="__reactContainer$"+Vs,_p="__reactEvents$"+Vs,oO="__reactListeners$"+Vs,lO="__reactHandles$"+Vs;function Hi(o){var u=o[xr];if(u)return u;for(var h=o.parentNode;h;){if(u=h[kr]||h[xr]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=Qw(o);o!==null;){if(h=o[xr])return h;o=Qw(o)}return u}o=h,h=o.parentNode}return null}function No(o){return o=o[xr]||o[kr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Gs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Uc(o){return o[So]||null}var Tp=[],Hs=-1;function ci(o){return{current:o}}function gt(o){0>Hs||(o.current=Tp[Hs],Tp[Hs]=null,Hs--)}function pt(o,u){Hs++,Tp[Hs]=o.current,o.current=u}var ui={},Zt=ci(ui),gn=ci(!1),Wi=ui;function Ws(o,u){var h=o.type.contextTypes;if(!h)return ui;var b=o.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var C={},j;for(j in h)C[j]=u[j];return b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=C),C}function vn(o){return o=o.childContextTypes,o!=null}function qc(){gt(gn),gt(Zt)}function Zw(o,u,h){if(Zt.current!==ui)throw Error(n(168));pt(Zt,u),pt(gn,h)}function eS(o,u,h){var b=o.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return h;b=b.getChildContext();for(var C in b)if(!(C in u))throw Error(n(108,Le(o)||"Unknown",C));return ae({},h,b)}function Bc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ui,Wi=Zt.current,pt(Zt,o),pt(gn,gn.current),!0}function tS(o,u,h){var b=o.stateNode;if(!b)throw Error(n(169));h?(o=eS(o,u,Wi),b.__reactInternalMemoizedMergedChildContext=o,gt(gn),gt(Zt),pt(Zt,o)):gt(gn),pt(gn,h)}var Mr=null,zc=!1,Ap=!1;function nS(o){Mr===null?Mr=[o]:Mr.push(o)}function cO(o){zc=!0,nS(o)}function di(){if(!Ap&&Mr!==null){Ap=!0;var o=0,u=st;try{var h=Mr;for(st=1;o<h.length;o++){var b=h[o];do b=b(!0);while(b!==null)}Mr=null,zc=!1}catch(C){throw Mr!==null&&(Mr=Mr.slice(o+1)),iw(Yf,di),C}finally{st=u,Ap=!1}}return null}var Ks=[],Js=0,Vc=null,Gc=0,On=[],Ln=0,Ki=null,Rr=1,Dr="";function Ji(o,u){Ks[Js++]=Gc,Ks[Js++]=Vc,Vc=o,Gc=u}function rS(o,u,h){On[Ln++]=Rr,On[Ln++]=Dr,On[Ln++]=Ki,Ki=o;var b=Rr;o=Dr;var C=32-tr(b)-1;b&=~(1<<C),h+=1;var j=32-tr(u)+C;if(30<j){var D=C-C%5;j=(b&(1<<D)-1).toString(32),b>>=D,C-=D,Rr=1<<32-tr(u)+C|h<<C|b,Dr=j+o}else Rr=1<<j|h<<C|b,Dr=o}function jp(o){o.return!==null&&(Ji(o,1),rS(o,1,0))}function Ip(o){for(;o===Vc;)Vc=Ks[--Js],Ks[Js]=null,Gc=Ks[--Js],Ks[Js]=null;for(;o===Ki;)Ki=On[--Ln],On[Ln]=null,Dr=On[--Ln],On[Ln]=null,Rr=On[--Ln],On[Ln]=null}var An=null,jn=null,xt=!1,rr=null;function iS(o,u){var h=qn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=o,u=o.deletions,u===null?(o.deletions=[h],o.flags|=16):u.push(h)}function sS(o,u){switch(o.tag){case 5:var h=o.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,An=o,jn=li(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,An=o,jn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Ki!==null?{id:Rr,overflow:Dr}:null,o.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=qn(18,null,null,0),h.stateNode=u,h.return=o,o.child=h,An=o,jn=null,!0):!1;default:return!1}}function Pp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function kp(o){if(xt){var u=jn;if(u){var h=u;if(!sS(o,u)){if(Pp(o))throw Error(n(418));u=li(h.nextSibling);var b=An;u&&sS(o,u)?iS(b,h):(o.flags=o.flags&-4097|2,xt=!1,An=o)}}else{if(Pp(o))throw Error(n(418));o.flags=o.flags&-4097|2,xt=!1,An=o}}}function aS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;An=o}function Hc(o){if(o!==An)return!1;if(!xt)return aS(o),xt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Np(o.type,o.memoizedProps)),u&&(u=jn)){if(Pp(o))throw oS(),Error(n(418));for(;u;)iS(o,u),u=li(u.nextSibling)}if(aS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(u===0){jn=li(o.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}o=o.nextSibling}jn=null}}else jn=An?li(o.stateNode.nextSibling):null;return!0}function oS(){for(var o=jn;o;)o=li(o.nextSibling)}function Ys(){jn=An=null,xt=!1}function Mp(o){rr===null?rr=[o]:rr.push(o)}var uO=I.ReactCurrentBatchConfig;function Eo(o,u,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var b=h.stateNode}if(!b)throw Error(n(147,o));var C=b,j=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(D){var U=C.refs;D===null?delete U[j]:U[j]=D},u._stringRef=j,u)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Wc(o,u){throw o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function lS(o){var u=o._init;return u(o._payload)}function cS(o){function u(K,H){if(o){var Y=K.deletions;Y===null?(K.deletions=[H],K.flags|=16):Y.push(H)}}function h(K,H){if(!o)return null;for(;H!==null;)u(K,H),H=H.sibling;return null}function b(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function C(K,H){return K=yi(K,H),K.index=0,K.sibling=null,K}function j(K,H,Y){return K.index=Y,o?(Y=K.alternate,Y!==null?(Y=Y.index,Y<H?(K.flags|=2,H):Y):(K.flags|=2,H)):(K.flags|=1048576,H)}function D(K){return o&&K.alternate===null&&(K.flags|=2),K}function U(K,H,Y,he){return H===null||H.tag!==6?(H=Em(Y,K.mode,he),H.return=K,H):(H=C(H,Y),H.return=K,H)}function G(K,H,Y,he){var Te=Y.type;return Te===M?fe(K,H,Y.props.children,he,Y.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===q&&lS(Te)===H.type)?(he=C(H,Y.props),he.ref=Eo(K,H,Y),he.return=K,he):(he=vu(Y.type,Y.key,Y.props,null,K.mode,he),he.ref=Eo(K,H,Y),he.return=K,he)}function te(K,H,Y,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Cm(Y,K.mode,he),H.return=K,H):(H=C(H,Y.children||[]),H.return=K,H)}function fe(K,H,Y,he,Te){return H===null||H.tag!==7?(H=rs(Y,K.mode,he,Te),H.return=K,H):(H=C(H,Y),H.return=K,H)}function me(K,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Em(""+H,K.mode,Y),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return Y=vu(H.type,H.key,H.props,null,K.mode,Y),Y.ref=Eo(K,null,H),Y.return=K,Y;case k:return H=Cm(H,K.mode,Y),H.return=K,H;case q:var he=H._init;return me(K,he(H._payload),Y)}if(_n(H)||re(H))return H=rs(H,K.mode,Y,null),H.return=K,H;Wc(K,H)}return null}function ue(K,H,Y,he){var Te=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Te!==null?null:U(K,H,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Y.key===Te?G(K,H,Y,he):null;case k:return Y.key===Te?te(K,H,Y,he):null;case q:return Te=Y._init,ue(K,H,Te(Y._payload),he)}if(_n(Y)||re(Y))return Te!==null?null:fe(K,H,Y,he,null);Wc(K,Y)}return null}function ye(K,H,Y,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Y)||null,U(H,K,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return K=K.get(he.key===null?Y:he.key)||null,G(H,K,he,Te);case k:return K=K.get(he.key===null?Y:he.key)||null,te(H,K,he,Te);case q:var Me=he._init;return ye(K,H,Y,Me(he._payload),Te)}if(_n(he)||re(he))return K=K.get(Y)||null,fe(H,K,he,Te,null);Wc(H,he)}return null}function Ee(K,H,Y,he){for(var Te=null,Me=null,Re=H,Oe=H=0,$t=null;Re!==null&&Oe<Y.length;Oe++){Re.index>Oe?($t=Re,Re=null):$t=Re.sibling;var Ke=ue(K,Re,Y[Oe],he);if(Ke===null){Re===null&&(Re=$t);break}o&&Re&&Ke.alternate===null&&u(K,Re),H=j(Ke,H,Oe),Me===null?Te=Ke:Me.sibling=Ke,Me=Ke,Re=$t}if(Oe===Y.length)return h(K,Re),xt&&Ji(K,Oe),Te;if(Re===null){for(;Oe<Y.length;Oe++)Re=me(K,Y[Oe],he),Re!==null&&(H=j(Re,H,Oe),Me===null?Te=Re:Me.sibling=Re,Me=Re);return xt&&Ji(K,Oe),Te}for(Re=b(K,Re);Oe<Y.length;Oe++)$t=ye(Re,K,Oe,Y[Oe],he),$t!==null&&(o&&$t.alternate!==null&&Re.delete($t.key===null?Oe:$t.key),H=j($t,H,Oe),Me===null?Te=$t:Me.sibling=$t,Me=$t);return o&&Re.forEach(function(bi){return u(K,bi)}),xt&&Ji(K,Oe),Te}function Ce(K,H,Y,he){var Te=re(Y);if(typeof Te!="function")throw Error(n(150));if(Y=Te.call(Y),Y==null)throw Error(n(151));for(var Me=Te=null,Re=H,Oe=H=0,$t=null,Ke=Y.next();Re!==null&&!Ke.done;Oe++,Ke=Y.next()){Re.index>Oe?($t=Re,Re=null):$t=Re.sibling;var bi=ue(K,Re,Ke.value,he);if(bi===null){Re===null&&(Re=$t);break}o&&Re&&bi.alternate===null&&u(K,Re),H=j(bi,H,Oe),Me===null?Te=bi:Me.sibling=bi,Me=bi,Re=$t}if(Ke.done)return h(K,Re),xt&&Ji(K,Oe),Te;if(Re===null){for(;!Ke.done;Oe++,Ke=Y.next())Ke=me(K,Ke.value,he),Ke!==null&&(H=j(Ke,H,Oe),Me===null?Te=Ke:Me.sibling=Ke,Me=Ke);return xt&&Ji(K,Oe),Te}for(Re=b(K,Re);!Ke.done;Oe++,Ke=Y.next())Ke=ye(Re,K,Oe,Ke.value,he),Ke!==null&&(o&&Ke.alternate!==null&&Re.delete(Ke.key===null?Oe:Ke.key),H=j(Ke,H,Oe),Me===null?Te=Ke:Me.sibling=Ke,Me=Ke);return o&&Re.forEach(function(zO){return u(K,zO)}),xt&&Ji(K,Oe),Te}function Tt(K,H,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:e:{for(var Te=Y.key,Me=H;Me!==null;){if(Me.key===Te){if(Te=Y.type,Te===M){if(Me.tag===7){h(K,Me.sibling),H=C(Me,Y.props.children),H.return=K,K=H;break e}}else if(Me.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===q&&lS(Te)===Me.type){h(K,Me.sibling),H=C(Me,Y.props),H.ref=Eo(K,Me,Y),H.return=K,K=H;break e}h(K,Me);break}else u(K,Me);Me=Me.sibling}Y.type===M?(H=rs(Y.props.children,K.mode,he,Y.key),H.return=K,K=H):(he=vu(Y.type,Y.key,Y.props,null,K.mode,he),he.ref=Eo(K,H,Y),he.return=K,K=he)}return D(K);case k:e:{for(Me=Y.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){h(K,H.sibling),H=C(H,Y.children||[]),H.return=K,K=H;break e}else{h(K,H);break}else u(K,H);H=H.sibling}H=Cm(Y,K.mode,he),H.return=K,K=H}return D(K);case q:return Me=Y._init,Tt(K,H,Me(Y._payload),he)}if(_n(Y))return Ee(K,H,Y,he);if(re(Y))return Ce(K,H,Y,he);Wc(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(h(K,H.sibling),H=C(H,Y),H.return=K,K=H):(h(K,H),H=Em(Y,K.mode,he),H.return=K,K=H),D(K)):h(K,H)}return Tt}var Xs=cS(!0),uS=cS(!1),Kc=ci(null),Jc=null,Qs=null,Rp=null;function Dp(){Rp=Qs=Jc=null}function Op(o){var u=Kc.current;gt(Kc),o._currentValue=u}function Lp(o,u,h){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===h)break;o=o.return}}function Zs(o,u){Jc=o,Rp=Qs=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(xn=!0),o.firstContext=null)}function Fn(o){var u=o._currentValue;if(Rp!==o)if(o={context:o,memoizedValue:u,next:null},Qs===null){if(Jc===null)throw Error(n(308));Qs=o,Jc.dependencies={lanes:0,firstContext:o}}else Qs=Qs.next=o;return u}var Yi=null;function Fp(o){Yi===null?Yi=[o]:Yi.push(o)}function dS(o,u,h,b){var C=u.interleaved;return C===null?(h.next=h,Fp(u)):(h.next=C.next,C.next=h),u.interleaved=h,Or(o,b)}function Or(o,u){o.lanes|=u;var h=o.alternate;for(h!==null&&(h.lanes|=u),h=o,o=o.return;o!==null;)o.childLanes|=u,h=o.alternate,h!==null&&(h.childLanes|=u),h=o,o=o.return;return h.tag===3?h.stateNode:null}var fi=!1;function $p(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fS(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Lr(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function pi(o,u,h){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(Ve&2)!==0){var C=b.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),b.pending=u,Or(o,h)}return C=b.interleaved,C===null?(u.next=u,Fp(b)):(u.next=C.next,C.next=u),b.interleaved=u,Or(o,h)}function Yc(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var b=u.lanes;b&=o.pendingLanes,h|=b,u.lanes=h,Zf(o,h)}}function pS(o,u){var h=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var C=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?C=j=D:j=j.next=D,h=h.next}while(h!==null);j===null?C=j=u:j=j.next=u}else C=j=u;h={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:j,shared:b.shared,effects:b.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}function Xc(o,u,h,b){var C=o.updateQueue;fi=!1;var j=C.firstBaseUpdate,D=C.lastBaseUpdate,U=C.shared.pending;if(U!==null){C.shared.pending=null;var G=U,te=G.next;G.next=null,D===null?j=te:D.next=te,D=G;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,U=fe.lastBaseUpdate,U!==D&&(U===null?fe.firstBaseUpdate=te:U.next=te,fe.lastBaseUpdate=G))}if(j!==null){var me=C.baseState;D=0,fe=te=G=null,U=j;do{var ue=U.lane,ye=U.eventTime;if((b&ue)===ue){fe!==null&&(fe=fe.next={eventTime:ye,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ee=o,Ce=U;switch(ue=u,ye=h,Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){me=Ee.call(ye,me,ue);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,ue=typeof Ee=="function"?Ee.call(ye,me,ue):Ee,ue==null)break e;me=ae({},me,ue);break e;case 2:fi=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,ue=C.effects,ue===null?C.effects=[U]:ue.push(U))}else ye={eventTime:ye,lane:ue,tag:U.tag,payload:U.payload,callback:U.callback,next:null},fe===null?(te=fe=ye,G=me):fe=fe.next=ye,D|=ue;if(U=U.next,U===null){if(U=C.shared.pending,U===null)break;ue=U,U=ue.next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}while(!0);if(fe===null&&(G=me),C.baseState=G,C.firstBaseUpdate=te,C.lastBaseUpdate=fe,u=C.shared.interleaved,u!==null){C=u;do D|=C.lane,C=C.next;while(C!==u)}else j===null&&(C.shared.lanes=0);Zi|=D,o.lanes=D,o.memoizedState=me}}function mS(o,u,h){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var b=o[u],C=b.callback;if(C!==null){if(b.callback=null,b=h,typeof C!="function")throw Error(n(191,C));C.call(b)}}}var Co={},yr=ci(Co),_o=ci(Co),To=ci(Co);function Xi(o){if(o===Co)throw Error(n(174));return o}function Up(o,u){switch(pt(To,u),pt(_o,o),pt(yr,Co),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:qf(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=qf(u,o)}gt(yr),pt(yr,u)}function ea(){gt(yr),gt(_o),gt(To)}function hS(o){Xi(To.current);var u=Xi(yr.current),h=qf(u,o.type);u!==h&&(pt(_o,o),pt(yr,h))}function qp(o){_o.current===o&&(gt(yr),gt(_o))}var bt=ci(0);function Qc(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bp=[];function zp(){for(var o=0;o<Bp.length;o++)Bp[o]._workInProgressVersionPrimary=null;Bp.length=0}var Zc=I.ReactCurrentDispatcher,Vp=I.ReactCurrentBatchConfig,Qi=0,wt=null,Pt=null,Lt=null,eu=!1,Ao=!1,jo=0,dO=0;function en(){throw Error(n(321))}function Gp(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!nr(o[h],u[h]))return!1;return!0}function Hp(o,u,h,b,C,j){if(Qi=j,wt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Zc.current=o===null||o.memoizedState===null?hO:gO,o=h(b,C),Ao){j=0;do{if(Ao=!1,jo=0,25<=j)throw Error(n(301));j+=1,Lt=Pt=null,u.updateQueue=null,Zc.current=vO,o=h(b,C)}while(Ao)}if(Zc.current=ru,u=Pt!==null&&Pt.next!==null,Qi=0,Lt=Pt=wt=null,eu=!1,u)throw Error(n(300));return o}function Wp(){var o=jo!==0;return jo=0,o}function br(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?wt.memoizedState=Lt=o:Lt=Lt.next=o,Lt}function $n(){if(Pt===null){var o=wt.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var u=Lt===null?wt.memoizedState:Lt.next;if(u!==null)Lt=u,Pt=o;else{if(o===null)throw Error(n(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?wt.memoizedState=Lt=o:Lt=Lt.next=o}return Lt}function Io(o,u){return typeof u=="function"?u(o):u}function Kp(o){var u=$n(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var b=Pt,C=b.baseQueue,j=h.pending;if(j!==null){if(C!==null){var D=C.next;C.next=j.next,j.next=D}b.baseQueue=C=j,h.pending=null}if(C!==null){j=C.next,b=b.baseState;var U=D=null,G=null,te=j;do{var fe=te.lane;if((Qi&fe)===fe)G!==null&&(G=G.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),b=te.hasEagerState?te.eagerState:o(b,te.action);else{var me={lane:fe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};G===null?(U=G=me,D=b):G=G.next=me,wt.lanes|=fe,Zi|=fe}te=te.next}while(te!==null&&te!==j);G===null?D=b:G.next=U,nr(b,u.memoizedState)||(xn=!0),u.memoizedState=b,u.baseState=D,u.baseQueue=G,h.lastRenderedState=b}if(o=h.interleaved,o!==null){C=o;do j=C.lane,wt.lanes|=j,Zi|=j,C=C.next;while(C!==o)}else C===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Jp(o){var u=$n(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var b=h.dispatch,C=h.pending,j=u.memoizedState;if(C!==null){h.pending=null;var D=C=C.next;do j=o(j,D.action),D=D.next;while(D!==C);nr(j,u.memoizedState)||(xn=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),h.lastRenderedState=j}return[j,b]}function gS(){}function vS(o,u){var h=wt,b=$n(),C=u(),j=!nr(b.memoizedState,C);if(j&&(b.memoizedState=C,xn=!0),b=b.queue,Yp(bS.bind(null,h,b,o),[o]),b.getSnapshot!==u||j||Lt!==null&&Lt.memoizedState.tag&1){if(h.flags|=2048,Po(9,yS.bind(null,h,b,C,u),void 0,null),Ft===null)throw Error(n(349));(Qi&30)!==0||xS(h,u,C)}return C}function xS(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=wt.updateQueue,u===null?(u={lastEffect:null,stores:null},wt.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function yS(o,u,h,b){u.value=h,u.getSnapshot=b,wS(u)&&SS(o)}function bS(o,u,h){return h(function(){wS(u)&&SS(o)})}function wS(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!nr(o,h)}catch{return!0}}function SS(o){var u=Or(o,1);u!==null&&or(u,o,1,-1)}function NS(o){var u=br();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:o},u.queue=o,o=o.dispatch=mO.bind(null,wt,o),[u.memoizedState,o]}function Po(o,u,h,b){return o={tag:o,create:u,destroy:h,deps:b,next:null},u=wt.updateQueue,u===null?(u={lastEffect:null,stores:null},wt.updateQueue=u,u.lastEffect=o.next=o):(h=u.lastEffect,h===null?u.lastEffect=o.next=o:(b=h.next,h.next=o,o.next=b,u.lastEffect=o)),o}function ES(){return $n().memoizedState}function tu(o,u,h,b){var C=br();wt.flags|=o,C.memoizedState=Po(1|u,h,void 0,b===void 0?null:b)}function nu(o,u,h,b){var C=$n();b=b===void 0?null:b;var j=void 0;if(Pt!==null){var D=Pt.memoizedState;if(j=D.destroy,b!==null&&Gp(b,D.deps)){C.memoizedState=Po(u,h,j,b);return}}wt.flags|=o,C.memoizedState=Po(1|u,h,j,b)}function CS(o,u){return tu(8390656,8,o,u)}function Yp(o,u){return nu(2048,8,o,u)}function _S(o,u){return nu(4,2,o,u)}function TS(o,u){return nu(4,4,o,u)}function AS(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function jS(o,u,h){return h=h!=null?h.concat([o]):null,nu(4,4,AS.bind(null,u,o),h)}function Xp(){}function IS(o,u){var h=$n();u=u===void 0?null:u;var b=h.memoizedState;return b!==null&&u!==null&&Gp(u,b[1])?b[0]:(h.memoizedState=[o,u],o)}function PS(o,u){var h=$n();u=u===void 0?null:u;var b=h.memoizedState;return b!==null&&u!==null&&Gp(u,b[1])?b[0]:(o=o(),h.memoizedState=[o,u],o)}function kS(o,u,h){return(Qi&21)===0?(o.baseState&&(o.baseState=!1,xn=!0),o.memoizedState=h):(nr(h,u)||(h=lw(),wt.lanes|=h,Zi|=h,o.baseState=!0),u)}function fO(o,u){var h=st;st=h!==0&&4>h?h:4,o(!0);var b=Vp.transition;Vp.transition={};try{o(!1),u()}finally{st=h,Vp.transition=b}}function MS(){return $n().memoizedState}function pO(o,u,h){var b=vi(o);if(h={lane:b,action:h,hasEagerState:!1,eagerState:null,next:null},RS(o))DS(u,h);else if(h=dS(o,u,h,b),h!==null){var C=cn();or(h,o,b,C),OS(h,u,b)}}function mO(o,u,h){var b=vi(o),C={lane:b,action:h,hasEagerState:!1,eagerState:null,next:null};if(RS(o))DS(u,C);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var D=u.lastRenderedState,U=j(D,h);if(C.hasEagerState=!0,C.eagerState=U,nr(U,D)){var G=u.interleaved;G===null?(C.next=C,Fp(u)):(C.next=G.next,G.next=C),u.interleaved=C;return}}catch{}finally{}h=dS(o,u,C,b),h!==null&&(C=cn(),or(h,o,b,C),OS(h,u,b))}}function RS(o){var u=o.alternate;return o===wt||u!==null&&u===wt}function DS(o,u){Ao=eu=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function OS(o,u,h){if((h&4194240)!==0){var b=u.lanes;b&=o.pendingLanes,h|=b,u.lanes=h,Zf(o,h)}}var ru={readContext:Fn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},hO={readContext:Fn,useCallback:function(o,u){return br().memoizedState=[o,u===void 0?null:u],o},useContext:Fn,useEffect:CS,useImperativeHandle:function(o,u,h){return h=h!=null?h.concat([o]):null,tu(4194308,4,AS.bind(null,u,o),h)},useLayoutEffect:function(o,u){return tu(4194308,4,o,u)},useInsertionEffect:function(o,u){return tu(4,2,o,u)},useMemo:function(o,u){var h=br();return u=u===void 0?null:u,o=o(),h.memoizedState=[o,u],o},useReducer:function(o,u,h){var b=br();return u=h!==void 0?h(u):u,b.memoizedState=b.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},b.queue=o,o=o.dispatch=pO.bind(null,wt,o),[b.memoizedState,o]},useRef:function(o){var u=br();return o={current:o},u.memoizedState=o},useState:NS,useDebugValue:Xp,useDeferredValue:function(o){return br().memoizedState=o},useTransition:function(){var o=NS(!1),u=o[0];return o=fO.bind(null,o[1]),br().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,h){var b=wt,C=br();if(xt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),Ft===null)throw Error(n(349));(Qi&30)!==0||xS(b,u,h)}C.memoizedState=h;var j={value:h,getSnapshot:u};return C.queue=j,CS(bS.bind(null,b,j,o),[o]),b.flags|=2048,Po(9,yS.bind(null,b,j,h,u),void 0,null),h},useId:function(){var o=br(),u=Ft.identifierPrefix;if(xt){var h=Dr,b=Rr;h=(b&~(1<<32-tr(b)-1)).toString(32)+h,u=":"+u+"R"+h,h=jo++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=dO++,u=":"+u+"r"+h.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},gO={readContext:Fn,useCallback:IS,useContext:Fn,useEffect:Yp,useImperativeHandle:jS,useInsertionEffect:_S,useLayoutEffect:TS,useMemo:PS,useReducer:Kp,useRef:ES,useState:function(){return Kp(Io)},useDebugValue:Xp,useDeferredValue:function(o){var u=$n();return kS(u,Pt.memoizedState,o)},useTransition:function(){var o=Kp(Io)[0],u=$n().memoizedState;return[o,u]},useMutableSource:gS,useSyncExternalStore:vS,useId:MS,unstable_isNewReconciler:!1},vO={readContext:Fn,useCallback:IS,useContext:Fn,useEffect:Yp,useImperativeHandle:jS,useInsertionEffect:_S,useLayoutEffect:TS,useMemo:PS,useReducer:Jp,useRef:ES,useState:function(){return Jp(Io)},useDebugValue:Xp,useDeferredValue:function(o){var u=$n();return Pt===null?u.memoizedState=o:kS(u,Pt.memoizedState,o)},useTransition:function(){var o=Jp(Io)[0],u=$n().memoizedState;return[o,u]},useMutableSource:gS,useSyncExternalStore:vS,useId:MS,unstable_isNewReconciler:!1};function ir(o,u){if(o&&o.defaultProps){u=ae({},u),o=o.defaultProps;for(var h in o)u[h]===void 0&&(u[h]=o[h]);return u}return u}function Qp(o,u,h,b){u=o.memoizedState,h=h(b,u),h=h==null?u:ae({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var iu={isMounted:function(o){return(o=o._reactInternals)?Gi(o)===o:!1},enqueueSetState:function(o,u,h){o=o._reactInternals;var b=cn(),C=vi(o),j=Lr(b,C);j.payload=u,h!=null&&(j.callback=h),u=pi(o,j,C),u!==null&&(or(u,o,C,b),Yc(u,o,C))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var b=cn(),C=vi(o),j=Lr(b,C);j.tag=1,j.payload=u,h!=null&&(j.callback=h),u=pi(o,j,C),u!==null&&(or(u,o,C,b),Yc(u,o,C))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=cn(),b=vi(o),C=Lr(h,b);C.tag=2,u!=null&&(C.callback=u),u=pi(o,C,b),u!==null&&(or(u,o,b,h),Yc(u,o,b))}};function LS(o,u,h,b,C,j,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,j,D):u.prototype&&u.prototype.isPureReactComponent?!vo(h,b)||!vo(C,j):!0}function FS(o,u,h){var b=!1,C=ui,j=u.contextType;return typeof j=="object"&&j!==null?j=Fn(j):(C=vn(u)?Wi:Zt.current,b=u.contextTypes,j=(b=b!=null)?Ws(o,C):ui),u=new u(h,j),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=iu,o.stateNode=u,u._reactInternals=o,b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=j),u}function $S(o,u,h,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,b),u.state!==o&&iu.enqueueReplaceState(u,u.state,null)}function Zp(o,u,h,b){var C=o.stateNode;C.props=h,C.state=o.memoizedState,C.refs={},$p(o);var j=u.contextType;typeof j=="object"&&j!==null?C.context=Fn(j):(j=vn(u)?Wi:Zt.current,C.context=Ws(o,j)),C.state=o.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(Qp(o,u,j,h),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&iu.enqueueReplaceState(C,C.state,null),Xc(o,h,C,b),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function ta(o,u){try{var h="",b=u;do h+=ne(b),b=b.return;while(b);var C=h}catch(j){C=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:u,stack:C,digest:null}}function em(o,u,h){return{value:o,source:null,stack:h??null,digest:u??null}}function tm(o,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function US(o,u,h){h=Lr(-1,h),h.tag=3,h.payload={element:null};var b=u.value;return h.callback=function(){du||(du=!0,gm=b),tm(o,u)},h}function qS(o,u,h){h=Lr(-1,h),h.tag=3;var b=o.type.getDerivedStateFromError;if(typeof b=="function"){var C=u.value;h.payload=function(){return b(C)},h.callback=function(){tm(o,u)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){tm(o,u),typeof b!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),h}function BS(o,u,h){var b=o.pingCache;if(b===null){b=o.pingCache=new xO;var C=new Set;b.set(u,C)}else C=b.get(u),C===void 0&&(C=new Set,b.set(u,C));C.has(h)||(C.add(h),o=kO.bind(null,o,u,h),u.then(o,o))}function zS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function VS(o,u,h,b,C){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Lr(-1,1),u.tag=2,pi(h,u,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var yO=I.ReactCurrentOwner,xn=!1;function ln(o,u,h,b){u.child=o===null?uS(u,null,h,b):Xs(u,o.child,h,b)}function GS(o,u,h,b,C){h=h.render;var j=u.ref;return Zs(u,C),b=Hp(o,u,h,b,j,C),h=Wp(),o!==null&&!xn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,Fr(o,u,C)):(xt&&h&&jp(u),u.flags|=1,ln(o,u,b,C),u.child)}function HS(o,u,h,b,C){if(o===null){var j=h.type;return typeof j=="function"&&!Nm(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=j,WS(o,u,j,b,C)):(o=vu(h.type,null,b,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(j=o.child,(o.lanes&C)===0){var D=j.memoizedProps;if(h=h.compare,h=h!==null?h:vo,h(D,b)&&o.ref===u.ref)return Fr(o,u,C)}return u.flags|=1,o=yi(j,b),o.ref=u.ref,o.return=u,u.child=o}function WS(o,u,h,b,C){if(o!==null){var j=o.memoizedProps;if(vo(j,b)&&o.ref===u.ref)if(xn=!1,u.pendingProps=b=j,(o.lanes&C)!==0)(o.flags&131072)!==0&&(xn=!0);else return u.lanes=o.lanes,Fr(o,u,C)}return nm(o,u,h,b,C)}function KS(o,u,h){var b=u.pendingProps,C=b.children,j=o!==null?o.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ra,In),In|=h;else{if((h&1073741824)===0)return o=j!==null?j.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,pt(ra,In),In|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=j!==null?j.baseLanes:h,pt(ra,In),In|=b}else j!==null?(b=j.baseLanes|h,u.memoizedState=null):b=h,pt(ra,In),In|=b;return ln(o,u,C,h),u.child}function JS(o,u){var h=u.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function nm(o,u,h,b,C){var j=vn(h)?Wi:Zt.current;return j=Ws(u,j),Zs(u,C),h=Hp(o,u,h,b,j,C),b=Wp(),o!==null&&!xn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,Fr(o,u,C)):(xt&&b&&jp(u),u.flags|=1,ln(o,u,h,C),u.child)}function YS(o,u,h,b,C){if(vn(h)){var j=!0;Bc(u)}else j=!1;if(Zs(u,C),u.stateNode===null)au(o,u),FS(u,h,b),Zp(u,h,b,C),b=!0;else if(o===null){var D=u.stateNode,U=u.memoizedProps;D.props=U;var G=D.context,te=h.contextType;typeof te=="object"&&te!==null?te=Fn(te):(te=vn(h)?Wi:Zt.current,te=Ws(u,te));var fe=h.getDerivedStateFromProps,me=typeof fe=="function"||typeof D.getSnapshotBeforeUpdate=="function";me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==b||G!==te)&&$S(u,D,b,te),fi=!1;var ue=u.memoizedState;D.state=ue,Xc(u,b,D,C),G=u.memoizedState,U!==b||ue!==G||gn.current||fi?(typeof fe=="function"&&(Qp(u,h,fe,b),G=u.memoizedState),(U=fi||LS(u,h,U,b,ue,G,te))?(me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=G),D.props=b,D.state=G,D.context=te,b=U):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{D=u.stateNode,fS(o,u),U=u.memoizedProps,te=u.type===u.elementType?U:ir(u.type,U),D.props=te,me=u.pendingProps,ue=D.context,G=h.contextType,typeof G=="object"&&G!==null?G=Fn(G):(G=vn(h)?Wi:Zt.current,G=Ws(u,G));var ye=h.getDerivedStateFromProps;(fe=typeof ye=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==me||ue!==G)&&$S(u,D,b,G),fi=!1,ue=u.memoizedState,D.state=ue,Xc(u,b,D,C);var Ee=u.memoizedState;U!==me||ue!==Ee||gn.current||fi?(typeof ye=="function"&&(Qp(u,h,ye,b),Ee=u.memoizedState),(te=fi||LS(u,h,te,b,ue,Ee,G)||!1)?(fe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(b,Ee,G),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(b,Ee,G)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&ue===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&ue===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Ee),D.props=b,D.state=Ee,D.context=G,b=te):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&ue===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&ue===o.memoizedState||(u.flags|=1024),b=!1)}return rm(o,u,h,b,j,C)}function rm(o,u,h,b,C,j){JS(o,u);var D=(u.flags&128)!==0;if(!b&&!D)return C&&tS(u,h,!1),Fr(o,u,j);b=u.stateNode,yO.current=u;var U=D&&typeof h.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,o!==null&&D?(u.child=Xs(u,o.child,null,j),u.child=Xs(u,null,U,j)):ln(o,u,U,j),u.memoizedState=b.state,C&&tS(u,h,!0),u.child}function XS(o){var u=o.stateNode;u.pendingContext?Zw(o,u.pendingContext,u.pendingContext!==u.context):u.context&&Zw(o,u.context,!1),Up(o,u.containerInfo)}function QS(o,u,h,b,C){return Ys(),Mp(C),u.flags|=256,ln(o,u,h,b),u.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(o){return{baseLanes:o,cachePool:null,transitions:null}}function ZS(o,u,h){var b=u.pendingProps,C=bt.current,j=!1,D=(u.flags&128)!==0,U;if((U=D)||(U=o!==null&&o.memoizedState===null?!1:(C&2)!==0),U?(j=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),pt(bt,C&1),o===null)return kp(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=b.children,o=b.fallback,j?(b=u.mode,j=u.child,D={mode:"hidden",children:D},(b&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=D):j=xu(D,b,0,null),o=rs(o,b,h,null),j.return=u,o.return=u,j.sibling=o,u.child=j,u.child.memoizedState=sm(h),u.memoizedState=im,o):am(u,D));if(C=o.memoizedState,C!==null&&(U=C.dehydrated,U!==null))return bO(o,u,D,b,U,C,h);if(j){j=b.fallback,D=u.mode,C=o.child,U=C.sibling;var G={mode:"hidden",children:b.children};return(D&1)===0&&u.child!==C?(b=u.child,b.childLanes=0,b.pendingProps=G,u.deletions=null):(b=yi(C,G),b.subtreeFlags=C.subtreeFlags&14680064),U!==null?j=yi(U,j):(j=rs(j,D,h,null),j.flags|=2),j.return=u,b.return=u,b.sibling=j,u.child=b,b=j,j=u.child,D=o.child.memoizedState,D=D===null?sm(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},j.memoizedState=D,j.childLanes=o.childLanes&~h,u.memoizedState=im,b}return j=o.child,o=j.sibling,b=yi(j,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=h),b.return=u,b.sibling=null,o!==null&&(h=u.deletions,h===null?(u.deletions=[o],u.flags|=16):h.push(o)),u.child=b,u.memoizedState=null,b}function am(o,u){return u=xu({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function su(o,u,h,b){return b!==null&&Mp(b),Xs(u,o.child,null,h),o=am(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function bO(o,u,h,b,C,j,D){if(h)return u.flags&256?(u.flags&=-257,b=em(Error(n(422))),su(o,u,D,b)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(j=b.fallback,C=u.mode,b=xu({mode:"visible",children:b.children},C,0,null),j=rs(j,C,D,null),j.flags|=2,b.return=u,j.return=u,b.sibling=j,u.child=b,(u.mode&1)!==0&&Xs(u,o.child,null,D),u.child.memoizedState=sm(D),u.memoizedState=im,j);if((u.mode&1)===0)return su(o,u,D,null);if(C.data==="$!"){if(b=C.nextSibling&&C.nextSibling.dataset,b)var U=b.dgst;return b=U,j=Error(n(419)),b=em(j,b,void 0),su(o,u,D,b)}if(U=(D&o.childLanes)!==0,xn||U){if(b=Ft,b!==null){switch(D&-D){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(b.suspendedLanes|D))!==0?0:C,C!==0&&C!==j.retryLane&&(j.retryLane=C,Or(o,C),or(b,o,C,-1))}return Sm(),b=em(Error(n(421))),su(o,u,D,b)}return C.data==="$?"?(u.flags|=128,u.child=o.child,u=MO.bind(null,o),C._reactRetry=u,null):(o=j.treeContext,jn=li(C.nextSibling),An=u,xt=!0,rr=null,o!==null&&(On[Ln++]=Rr,On[Ln++]=Dr,On[Ln++]=Ki,Rr=o.id,Dr=o.overflow,Ki=u),u=am(u,b.children),u.flags|=4096,u)}function eN(o,u,h){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),Lp(o.return,u,h)}function om(o,u,h,b,C){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:C}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=b,j.tail=h,j.tailMode=C)}function tN(o,u,h){var b=u.pendingProps,C=b.revealOrder,j=b.tail;if(ln(o,u,b.children,h),b=bt.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eN(o,h,u);else if(o.tag===19)eN(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}if(pt(bt,b),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(h=u.child,C=null;h!==null;)o=h.alternate,o!==null&&Qc(o)===null&&(C=h),h=h.sibling;h=C,h===null?(C=u.child,u.child=null):(C=h.sibling,h.sibling=null),om(u,!1,C,h,j);break;case"backwards":for(h=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&Qc(o)===null){u.child=C;break}o=C.sibling,C.sibling=h,h=C,C=o}om(u,!0,h,null,j);break;case"together":om(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function au(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function Fr(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),Zi|=u.lanes,(h&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,h=yi(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=yi(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function wO(o,u,h){switch(u.tag){case 3:XS(u),Ys();break;case 5:hS(u);break;case 1:vn(u.type)&&Bc(u);break;case 4:Up(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,C=u.memoizedProps.value;pt(Kc,b._currentValue),b._currentValue=C;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(pt(bt,bt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?ZS(o,u,h):(pt(bt,bt.current&1),o=Fr(o,u,h),o!==null?o.sibling:null);pt(bt,bt.current&1);break;case 19:if(b=(h&u.childLanes)!==0,(o.flags&128)!==0){if(b)return tN(o,u,h);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),pt(bt,bt.current),b)break;return null;case 22:case 23:return u.lanes=0,KS(o,u,h)}return Fr(o,u,h)}var nN,lm,rN,iN;nN=function(o,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},lm=function(){},rN=function(o,u,h,b){var C=o.memoizedProps;if(C!==b){o=u.stateNode,Xi(yr.current);var j=null;switch(h){case"input":C=$e(o,C),b=$e(o,b),j=[];break;case"select":C=ae({},C,{value:void 0}),b=ae({},b,{value:void 0}),j=[];break;case"textarea":C=Vi(o,C),b=Vi(o,b),j=[];break;default:typeof C.onClick!="function"&&typeof b.onClick=="function"&&(o.onclick=$c)}Bf(h,b);var D;h=null;for(te in C)if(!b.hasOwnProperty(te)&&C.hasOwnProperty(te)&&C[te]!=null)if(te==="style"){var U=C[te];for(D in U)U.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?j||(j=[]):(j=j||[]).push(te,null));for(te in b){var G=b[te];if(U=C!=null?C[te]:void 0,b.hasOwnProperty(te)&&G!==U&&(G!=null||U!=null))if(te==="style")if(U){for(D in U)!U.hasOwnProperty(D)||G&&G.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in G)G.hasOwnProperty(D)&&U[D]!==G[D]&&(h||(h={}),h[D]=G[D])}else h||(j||(j=[]),j.push(te,h)),h=G;else te==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,U=U?U.__html:void 0,G!=null&&U!==G&&(j=j||[]).push(te,G)):te==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(te,""+G):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(G!=null&&te==="onScroll"&&ht("scroll",o),j||U===G||(j=[])):(j=j||[]).push(te,G))}h&&(j=j||[]).push("style",h);var te=j;(u.updateQueue=te)&&(u.flags|=4)}},iN=function(o,u,h,b){h!==b&&(u.flags|=4)};function ko(o,u){if(!xt)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function tn(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,b=0;if(u)for(var C=o.child;C!==null;)h|=C.lanes|C.childLanes,b|=C.subtreeFlags&14680064,b|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)h|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=b,o.childLanes=h,u}function SO(o,u,h){var b=u.pendingProps;switch(Ip(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(u),null;case 1:return vn(u.type)&&qc(),tn(u),null;case 3:return b=u.stateNode,ea(),gt(gn),gt(Zt),zp(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(o===null||o.child===null)&&(Hc(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rr!==null&&(ym(rr),rr=null))),lm(o,u),tn(u),null;case 5:qp(u);var C=Xi(To.current);if(h=u.type,o!==null&&u.stateNode!=null)rN(o,u,h,b,C),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return tn(u),null}if(o=Xi(yr.current),Hc(u)){b=u.stateNode,h=u.type;var j=u.memoizedProps;switch(b[xr]=u,b[So]=j,o=(u.mode&1)!==0,h){case"dialog":ht("cancel",b),ht("close",b);break;case"iframe":case"object":case"embed":ht("load",b);break;case"video":case"audio":for(C=0;C<yo.length;C++)ht(yo[C],b);break;case"source":ht("error",b);break;case"img":case"image":case"link":ht("error",b),ht("load",b);break;case"details":ht("toggle",b);break;case"input":it(b,j),ht("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!j.multiple},ht("invalid",b);break;case"textarea":Xa(b,j),ht("invalid",b)}Bf(h,j),C=null;for(var D in j)if(j.hasOwnProperty(D)){var U=j[D];D==="children"?typeof U=="string"?b.textContent!==U&&(j.suppressHydrationWarning!==!0&&Fc(b.textContent,U,o),C=["children",U]):typeof U=="number"&&b.textContent!==""+U&&(j.suppressHydrationWarning!==!0&&Fc(b.textContent,U,o),C=["children",""+U]):i.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&ht("scroll",b)}switch(h){case"input":Fe(b),Dn(b,j,!0);break;case"textarea":Fe(b),zb(b);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(b.onclick=$c)}b=C,u.updateQueue=b,b!==null&&(u.flags|=4)}else{D=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Vb(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof b.is=="string"?o=D.createElement(h,{is:b.is}):(o=D.createElement(h),h==="select"&&(D=o,b.multiple?D.multiple=!0:b.size&&(D.size=b.size))):o=D.createElementNS(o,h),o[xr]=u,o[So]=b,nN(o,u,!1,!1),u.stateNode=o;e:{switch(D=zf(h,b),h){case"dialog":ht("cancel",o),ht("close",o),C=b;break;case"iframe":case"object":case"embed":ht("load",o),C=b;break;case"video":case"audio":for(C=0;C<yo.length;C++)ht(yo[C],o);C=b;break;case"source":ht("error",o),C=b;break;case"img":case"image":case"link":ht("error",o),ht("load",o),C=b;break;case"details":ht("toggle",o),C=b;break;case"input":it(o,b),C=$e(o,b),ht("invalid",o);break;case"option":C=b;break;case"select":o._wrapperState={wasMultiple:!!b.multiple},C=ae({},b,{value:void 0}),ht("invalid",o);break;case"textarea":Xa(o,b),C=Vi(o,b),ht("invalid",o);break;default:C=b}Bf(h,C),U=C;for(j in U)if(U.hasOwnProperty(j)){var G=U[j];j==="style"?Wb(o,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Gb(o,G)):j==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&Za(o,G):typeof G=="number"&&Za(o,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?G!=null&&j==="onScroll"&&ht("scroll",o):G!=null&&A(o,j,G,D))}switch(h){case"input":Fe(o),Dn(o,b,!1);break;case"textarea":Fe(o),zb(o);break;case"option":b.value!=null&&o.setAttribute("value",""+ke(b.value));break;case"select":o.multiple=!!b.multiple,j=b.value,j!=null?hn(o,!!b.multiple,j,!1):b.defaultValue!=null&&hn(o,!!b.multiple,b.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=$c)}switch(h){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return tn(u),null;case 6:if(o&&u.stateNode!=null)iN(o,u,o.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(h=Xi(To.current),Xi(yr.current),Hc(u)){if(b=u.stateNode,h=u.memoizedProps,b[xr]=u,(j=b.nodeValue!==h)&&(o=An,o!==null))switch(o.tag){case 3:Fc(b.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Fc(b.nodeValue,h,(o.mode&1)!==0)}j&&(u.flags|=4)}else b=(h.nodeType===9?h:h.ownerDocument).createTextNode(b),b[xr]=u,u.stateNode=b}return tn(u),null;case 13:if(gt(bt),b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(xt&&jn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)oS(),Ys(),u.flags|=98560,j=!1;else if(j=Hc(u),b!==null&&b.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[xr]=u}else Ys(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;tn(u),j=!1}else rr!==null&&(ym(rr),rr=null),j=!0;if(!j)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(b=b!==null,b!==(o!==null&&o.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(bt.current&1)!==0?kt===0&&(kt=3):Sm())),u.updateQueue!==null&&(u.flags|=4),tn(u),null);case 4:return ea(),lm(o,u),o===null&&bo(u.stateNode.containerInfo),tn(u),null;case 10:return Op(u.type._context),tn(u),null;case 17:return vn(u.type)&&qc(),tn(u),null;case 19:if(gt(bt),j=u.memoizedState,j===null)return tn(u),null;if(b=(u.flags&128)!==0,D=j.rendering,D===null)if(b)ko(j,!1);else{if(kt!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(D=Qc(o),D!==null){for(u.flags|=128,ko(j,!1),b=D.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=h,h=u.child;h!==null;)j=h,o=b,j.flags&=14680066,D=j.alternate,D===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=D.childLanes,j.lanes=D.lanes,j.child=D.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=D.memoizedProps,j.memoizedState=D.memoizedState,j.updateQueue=D.updateQueue,j.type=D.type,o=D.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return pt(bt,bt.current&1|2),u.child}o=o.sibling}j.tail!==null&&_t()>ia&&(u.flags|=128,b=!0,ko(j,!1),u.lanes=4194304)}else{if(!b)if(o=Qc(D),o!==null){if(u.flags|=128,b=!0,h=o.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),ko(j,!0),j.tail===null&&j.tailMode==="hidden"&&!D.alternate&&!xt)return tn(u),null}else 2*_t()-j.renderingStartTime>ia&&h!==1073741824&&(u.flags|=128,b=!0,ko(j,!1),u.lanes=4194304);j.isBackwards?(D.sibling=u.child,u.child=D):(h=j.last,h!==null?h.sibling=D:u.child=D,j.last=D)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=_t(),u.sibling=null,h=bt.current,pt(bt,b?h&1|2:h&1),u):(tn(u),null);case 22:case 23:return wm(),b=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(In&1073741824)!==0&&(tn(u),u.subtreeFlags&6&&(u.flags|=8192)):tn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function NO(o,u){switch(Ip(u),u.tag){case 1:return vn(u.type)&&qc(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ea(),gt(gn),gt(Zt),zp(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return qp(u),null;case 13:if(gt(bt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ys()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return gt(bt),null;case 4:return ea(),null;case 10:return Op(u.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var ou=!1,nn=!1,EO=typeof WeakSet=="function"?WeakSet:Set,we=null;function na(o,u){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(b){St(o,u,b)}else h.current=null}function cm(o,u,h){try{h()}catch(b){St(o,u,b)}}var sN=!1;function CO(o,u){if(wp=Tc,o=Lw(),pp(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var C=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var D=0,U=-1,G=-1,te=0,fe=0,me=o,ue=null;t:for(;;){for(var ye;me!==h||C!==0&&me.nodeType!==3||(U=D+C),me!==j||b!==0&&me.nodeType!==3||(G=D+b),me.nodeType===3&&(D+=me.nodeValue.length),(ye=me.firstChild)!==null;)ue=me,me=ye;for(;;){if(me===o)break t;if(ue===h&&++te===C&&(U=D),ue===j&&++fe===b&&(G=D),(ye=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=ye}h=U===-1||G===-1?null:{start:U,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Sp={focusedElem:o,selectionRange:h},Tc=!1,we=u;we!==null;)if(u=we,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,we=o;else for(;we!==null;){u=we;try{var Ee=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ce=Ee.memoizedProps,Tt=Ee.memoizedState,K=u.stateNode,H=K.getSnapshotBeforeUpdate(u.elementType===u.type?Ce:ir(u.type,Ce),Tt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=u.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){St(u,u.return,he)}if(o=u.sibling,o!==null){o.return=u.return,we=o;break}we=u.return}return Ee=sN,sN=!1,Ee}function Mo(o,u,h){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var C=b=b.next;do{if((C.tag&o)===o){var j=C.destroy;C.destroy=void 0,j!==void 0&&cm(u,h,j)}C=C.next}while(C!==b)}}function lu(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&o)===o){var b=h.create;h.destroy=b()}h=h.next}while(h!==u)}}function um(o){var u=o.ref;if(u!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof u=="function"?u(o):u.current=o}}function aN(o){var u=o.alternate;u!==null&&(o.alternate=null,aN(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[xr],delete u[So],delete u[_p],delete u[oO],delete u[lO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function oN(o){return o.tag===5||o.tag===3||o.tag===4}function lN(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||oN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dm(o,u,h){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(o,u):h.insertBefore(o,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(o,h)):(u=h,u.appendChild(o)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=$c));else if(b!==4&&(o=o.child,o!==null))for(dm(o,u,h),o=o.sibling;o!==null;)dm(o,u,h),o=o.sibling}function fm(o,u,h){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(b!==4&&(o=o.child,o!==null))for(fm(o,u,h),o=o.sibling;o!==null;)fm(o,u,h),o=o.sibling}var Kt=null,sr=!1;function mi(o,u,h){for(h=h.child;h!==null;)cN(o,u,h),h=h.sibling}function cN(o,u,h){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(wc,h)}catch{}switch(h.tag){case 5:nn||na(h,u);case 6:var b=Kt,C=sr;Kt=null,mi(o,u,h),Kt=b,sr=C,Kt!==null&&(sr?(o=Kt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Kt.removeChild(h.stateNode));break;case 18:Kt!==null&&(sr?(o=Kt,h=h.stateNode,o.nodeType===8?Cp(o.parentNode,h):o.nodeType===1&&Cp(o,h),uo(o)):Cp(Kt,h.stateNode));break;case 4:b=Kt,C=sr,Kt=h.stateNode.containerInfo,sr=!0,mi(o,u,h),Kt=b,sr=C;break;case 0:case 11:case 14:case 15:if(!nn&&(b=h.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){C=b=b.next;do{var j=C,D=j.destroy;j=j.tag,D!==void 0&&((j&2)!==0||(j&4)!==0)&&cm(h,u,D),C=C.next}while(C!==b)}mi(o,u,h);break;case 1:if(!nn&&(na(h,u),b=h.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=h.memoizedProps,b.state=h.memoizedState,b.componentWillUnmount()}catch(U){St(h,u,U)}mi(o,u,h);break;case 21:mi(o,u,h);break;case 22:h.mode&1?(nn=(b=nn)||h.memoizedState!==null,mi(o,u,h),nn=b):mi(o,u,h);break;default:mi(o,u,h)}}function uN(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new EO),u.forEach(function(b){var C=RO.bind(null,o,b);h.has(b)||(h.add(b),b.then(C,C))})}}function ar(o,u){var h=u.deletions;if(h!==null)for(var b=0;b<h.length;b++){var C=h[b];try{var j=o,D=u,U=D;e:for(;U!==null;){switch(U.tag){case 5:Kt=U.stateNode,sr=!1;break e;case 3:Kt=U.stateNode.containerInfo,sr=!0;break e;case 4:Kt=U.stateNode.containerInfo,sr=!0;break e}U=U.return}if(Kt===null)throw Error(n(160));cN(j,D,C),Kt=null,sr=!1;var G=C.alternate;G!==null&&(G.return=null),C.return=null}catch(te){St(C,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)dN(u,o),u=u.sibling}function dN(o,u){var h=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ar(u,o),wr(o),b&4){try{Mo(3,o,o.return),lu(3,o)}catch(Ce){St(o,o.return,Ce)}try{Mo(5,o,o.return)}catch(Ce){St(o,o.return,Ce)}}break;case 1:ar(u,o),wr(o),b&512&&h!==null&&na(h,h.return);break;case 5:if(ar(u,o),wr(o),b&512&&h!==null&&na(h,h.return),o.flags&32){var C=o.stateNode;try{Za(C,"")}catch(Ce){St(o,o.return,Ce)}}if(b&4&&(C=o.stateNode,C!=null)){var j=o.memoizedProps,D=h!==null?h.memoizedProps:j,U=o.type,G=o.updateQueue;if(o.updateQueue=null,G!==null)try{U==="input"&&j.type==="radio"&&j.name!=null&&ft(C,j),zf(U,D);var te=zf(U,j);for(D=0;D<G.length;D+=2){var fe=G[D],me=G[D+1];fe==="style"?Wb(C,me):fe==="dangerouslySetInnerHTML"?Gb(C,me):fe==="children"?Za(C,me):A(C,fe,me,te)}switch(U){case"input":Wt(C,j);break;case"textarea":Qa(C,j);break;case"select":var ue=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!j.multiple;var ye=j.value;ye!=null?hn(C,!!j.multiple,ye,!1):ue!==!!j.multiple&&(j.defaultValue!=null?hn(C,!!j.multiple,j.defaultValue,!0):hn(C,!!j.multiple,j.multiple?[]:"",!1))}C[So]=j}catch(Ce){St(o,o.return,Ce)}}break;case 6:if(ar(u,o),wr(o),b&4){if(o.stateNode===null)throw Error(n(162));C=o.stateNode,j=o.memoizedProps;try{C.nodeValue=j}catch(Ce){St(o,o.return,Ce)}}break;case 3:if(ar(u,o),wr(o),b&4&&h!==null&&h.memoizedState.isDehydrated)try{uo(u.containerInfo)}catch(Ce){St(o,o.return,Ce)}break;case 4:ar(u,o),wr(o);break;case 13:ar(u,o),wr(o),C=o.child,C.flags&8192&&(j=C.memoizedState!==null,C.stateNode.isHidden=j,!j||C.alternate!==null&&C.alternate.memoizedState!==null||(hm=_t())),b&4&&uN(o);break;case 22:if(fe=h!==null&&h.memoizedState!==null,o.mode&1?(nn=(te=nn)||fe,ar(u,o),nn=te):ar(u,o),wr(o),b&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!fe&&(o.mode&1)!==0)for(we=o,fe=o.child;fe!==null;){for(me=we=fe;we!==null;){switch(ue=we,ye=ue.child,ue.tag){case 0:case 11:case 14:case 15:Mo(4,ue,ue.return);break;case 1:na(ue,ue.return);var Ee=ue.stateNode;if(typeof Ee.componentWillUnmount=="function"){b=ue,h=ue.return;try{u=b,Ee.props=u.memoizedProps,Ee.state=u.memoizedState,Ee.componentWillUnmount()}catch(Ce){St(b,h,Ce)}}break;case 5:na(ue,ue.return);break;case 22:if(ue.memoizedState!==null){mN(me);continue}}ye!==null?(ye.return=ue,we=ye):mN(me)}fe=fe.sibling}e:for(fe=null,me=o;;){if(me.tag===5){if(fe===null){fe=me;try{C=me.stateNode,te?(j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(U=me.stateNode,G=me.memoizedProps.style,D=G!=null&&G.hasOwnProperty("display")?G.display:null,U.style.display=Hb("display",D))}catch(Ce){St(o,o.return,Ce)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Ce){St(o,o.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ar(u,o),wr(o),b&4&&uN(o);break;case 21:break;default:ar(u,o),wr(o)}}function wr(o){var u=o.flags;if(u&2){try{e:{for(var h=o.return;h!==null;){if(oN(h)){var b=h;break e}h=h.return}throw Error(n(160))}switch(b.tag){case 5:var C=b.stateNode;b.flags&32&&(Za(C,""),b.flags&=-33);var j=lN(o);fm(o,j,C);break;case 3:case 4:var D=b.stateNode.containerInfo,U=lN(o);dm(o,U,D);break;default:throw Error(n(161))}}catch(G){St(o,o.return,G)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function _O(o,u,h){we=o,fN(o)}function fN(o,u,h){for(var b=(o.mode&1)!==0;we!==null;){var C=we,j=C.child;if(C.tag===22&&b){var D=C.memoizedState!==null||ou;if(!D){var U=C.alternate,G=U!==null&&U.memoizedState!==null||nn;U=ou;var te=nn;if(ou=D,(nn=G)&&!te)for(we=C;we!==null;)D=we,G=D.child,D.tag===22&&D.memoizedState!==null?hN(C):G!==null?(G.return=D,we=G):hN(C);for(;j!==null;)we=j,fN(j),j=j.sibling;we=C,ou=U,nn=te}pN(o)}else(C.subtreeFlags&8772)!==0&&j!==null?(j.return=C,we=j):pN(o)}}function pN(o){for(;we!==null;){var u=we;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:nn||lu(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!nn)if(h===null)b.componentDidMount();else{var C=u.elementType===u.type?h.memoizedProps:ir(u.type,h.memoizedProps);b.componentDidUpdate(C,h.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&mS(u,j,b);break;case 3:var D=u.updateQueue;if(D!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}mS(u,D,h)}break;case 5:var U=u.stateNode;if(h===null&&u.flags&4){h=U;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var te=u.alternate;if(te!==null){var fe=te.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&uo(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||u.flags&512&&um(u)}catch(ue){St(u,u.return,ue)}}if(u===o){we=null;break}if(h=u.sibling,h!==null){h.return=u.return,we=h;break}we=u.return}}function mN(o){for(;we!==null;){var u=we;if(u===o){we=null;break}var h=u.sibling;if(h!==null){h.return=u.return,we=h;break}we=u.return}}function hN(o){for(;we!==null;){var u=we;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{lu(4,u)}catch(G){St(u,h,G)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var C=u.return;try{b.componentDidMount()}catch(G){St(u,C,G)}}var j=u.return;try{um(u)}catch(G){St(u,j,G)}break;case 5:var D=u.return;try{um(u)}catch(G){St(u,D,G)}}}catch(G){St(u,u.return,G)}if(u===o){we=null;break}var U=u.sibling;if(U!==null){U.return=u.return,we=U;break}we=u.return}}var TO=Math.ceil,cu=I.ReactCurrentDispatcher,pm=I.ReactCurrentOwner,Un=I.ReactCurrentBatchConfig,Ve=0,Ft=null,jt=null,Jt=0,In=0,ra=ci(0),kt=0,Ro=null,Zi=0,uu=0,mm=0,Do=null,yn=null,hm=0,ia=1/0,$r=null,du=!1,gm=null,hi=null,fu=!1,gi=null,pu=0,Oo=0,vm=null,mu=-1,hu=0;function cn(){return(Ve&6)!==0?_t():mu!==-1?mu:mu=_t()}function vi(o){return(o.mode&1)===0?1:(Ve&2)!==0&&Jt!==0?Jt&-Jt:uO.transition!==null?(hu===0&&(hu=lw()),hu):(o=st,o!==0||(o=window.event,o=o===void 0?16:vw(o.type)),o)}function or(o,u,h,b){if(50<Oo)throw Oo=0,vm=null,Error(n(185));so(o,h,b),((Ve&2)===0||o!==Ft)&&(o===Ft&&((Ve&2)===0&&(uu|=h),kt===4&&xi(o,Jt)),bn(o,b),h===1&&Ve===0&&(u.mode&1)===0&&(ia=_t()+500,zc&&di()))}function bn(o,u){var h=o.callbackNode;uD(o,u);var b=Ec(o,o===Ft?Jt:0);if(b===0)h!==null&&sw(h),o.callbackNode=null,o.callbackPriority=0;else if(u=b&-b,o.callbackPriority!==u){if(h!=null&&sw(h),u===1)o.tag===0?cO(vN.bind(null,o)):nS(vN.bind(null,o)),sO(function(){(Ve&6)===0&&di()}),h=null;else{switch(cw(b)){case 1:h=Yf;break;case 4:h=aw;break;case 16:h=bc;break;case 536870912:h=ow;break;default:h=bc}h=CN(h,gN.bind(null,o))}o.callbackPriority=u,o.callbackNode=h}}function gN(o,u){if(mu=-1,hu=0,(Ve&6)!==0)throw Error(n(327));var h=o.callbackNode;if(sa()&&o.callbackNode!==h)return null;var b=Ec(o,o===Ft?Jt:0);if(b===0)return null;if((b&30)!==0||(b&o.expiredLanes)!==0||u)u=gu(o,b);else{u=b;var C=Ve;Ve|=2;var j=yN();(Ft!==o||Jt!==u)&&($r=null,ia=_t()+500,ts(o,u));do try{IO();break}catch(U){xN(o,U)}while(!0);Dp(),cu.current=j,Ve=C,jt!==null?u=0:(Ft=null,Jt=0,u=kt)}if(u!==0){if(u===2&&(C=Xf(o),C!==0&&(b=C,u=xm(o,C))),u===1)throw h=Ro,ts(o,0),xi(o,b),bn(o,_t()),h;if(u===6)xi(o,b);else{if(C=o.current.alternate,(b&30)===0&&!AO(C)&&(u=gu(o,b),u===2&&(j=Xf(o),j!==0&&(b=j,u=xm(o,j))),u===1))throw h=Ro,ts(o,0),xi(o,b),bn(o,_t()),h;switch(o.finishedWork=C,o.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:ns(o,yn,$r);break;case 3:if(xi(o,b),(b&130023424)===b&&(u=hm+500-_t(),10<u)){if(Ec(o,0)!==0)break;if(C=o.suspendedLanes,(C&b)!==b){cn(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Ep(ns.bind(null,o,yn,$r),u);break}ns(o,yn,$r);break;case 4:if(xi(o,b),(b&4194240)===b)break;for(u=o.eventTimes,C=-1;0<b;){var D=31-tr(b);j=1<<D,D=u[D],D>C&&(C=D),b&=~j}if(b=C,b=_t()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*TO(b/1960))-b,10<b){o.timeoutHandle=Ep(ns.bind(null,o,yn,$r),b);break}ns(o,yn,$r);break;case 5:ns(o,yn,$r);break;default:throw Error(n(329))}}}return bn(o,_t()),o.callbackNode===h?gN.bind(null,o):null}function xm(o,u){var h=Do;return o.current.memoizedState.isDehydrated&&(ts(o,u).flags|=256),o=gu(o,u),o!==2&&(u=yn,yn=h,u!==null&&ym(u)),o}function ym(o){yn===null?yn=o:yn.push.apply(yn,o)}function AO(o){for(var u=o;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var b=0;b<h.length;b++){var C=h[b],j=C.getSnapshot;C=C.value;try{if(!nr(j(),C))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function xi(o,u){for(u&=~mm,u&=~uu,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var h=31-tr(u),b=1<<h;o[h]=-1,u&=~b}}function vN(o){if((Ve&6)!==0)throw Error(n(327));sa();var u=Ec(o,0);if((u&1)===0)return bn(o,_t()),null;var h=gu(o,u);if(o.tag!==0&&h===2){var b=Xf(o);b!==0&&(u=b,h=xm(o,b))}if(h===1)throw h=Ro,ts(o,0),xi(o,u),bn(o,_t()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,ns(o,yn,$r),bn(o,_t()),null}function bm(o,u){var h=Ve;Ve|=1;try{return o(u)}finally{Ve=h,Ve===0&&(ia=_t()+500,zc&&di())}}function es(o){gi!==null&&gi.tag===0&&(Ve&6)===0&&sa();var u=Ve;Ve|=1;var h=Un.transition,b=st;try{if(Un.transition=null,st=1,o)return o()}finally{st=b,Un.transition=h,Ve=u,(Ve&6)===0&&di()}}function wm(){In=ra.current,gt(ra)}function ts(o,u){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,iO(h)),jt!==null)for(h=jt.return;h!==null;){var b=h;switch(Ip(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&qc();break;case 3:ea(),gt(gn),gt(Zt),zp();break;case 5:qp(b);break;case 4:ea();break;case 13:gt(bt);break;case 19:gt(bt);break;case 10:Op(b.type._context);break;case 22:case 23:wm()}h=h.return}if(Ft=o,jt=o=yi(o.current,null),Jt=In=u,kt=0,Ro=null,mm=uu=Zi=0,yn=Do=null,Yi!==null){for(u=0;u<Yi.length;u++)if(h=Yi[u],b=h.interleaved,b!==null){h.interleaved=null;var C=b.next,j=h.pending;if(j!==null){var D=j.next;j.next=C,b.next=D}h.pending=b}Yi=null}return o}function xN(o,u){do{var h=jt;try{if(Dp(),Zc.current=ru,eu){for(var b=wt.memoizedState;b!==null;){var C=b.queue;C!==null&&(C.pending=null),b=b.next}eu=!1}if(Qi=0,Lt=Pt=wt=null,Ao=!1,jo=0,pm.current=null,h===null||h.return===null){kt=1,Ro=u,jt=null;break}e:{var j=o,D=h.return,U=h,G=u;if(u=Jt,U.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var te=G,fe=U,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var ue=fe.alternate;ue?(fe.updateQueue=ue.updateQueue,fe.memoizedState=ue.memoizedState,fe.lanes=ue.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ye=zS(D);if(ye!==null){ye.flags&=-257,VS(ye,D,U,j,u),ye.mode&1&&BS(j,te,u),u=ye,G=te;var Ee=u.updateQueue;if(Ee===null){var Ce=new Set;Ce.add(G),u.updateQueue=Ce}else Ee.add(G);break e}else{if((u&1)===0){BS(j,te,u),Sm();break e}G=Error(n(426))}}else if(xt&&U.mode&1){var Tt=zS(D);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),VS(Tt,D,U,j,u),Mp(ta(G,U));break e}}j=G=ta(G,U),kt!==4&&(kt=2),Do===null?Do=[j]:Do.push(j),j=D;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var K=US(j,G,u);pS(j,K);break e;case 1:U=G;var H=j.type,Y=j.stateNode;if((j.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(hi===null||!hi.has(Y)))){j.flags|=65536,u&=-u,j.lanes|=u;var he=qS(j,U,u);pS(j,he);break e}}j=j.return}while(j!==null)}wN(h)}catch(Te){u=Te,jt===h&&h!==null&&(jt=h=h.return);continue}break}while(!0)}function yN(){var o=cu.current;return cu.current=ru,o===null?ru:o}function Sm(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||(Zi&268435455)===0&&(uu&268435455)===0||xi(Ft,Jt)}function gu(o,u){var h=Ve;Ve|=2;var b=yN();(Ft!==o||Jt!==u)&&($r=null,ts(o,u));do try{jO();break}catch(C){xN(o,C)}while(!0);if(Dp(),Ve=h,cu.current=b,jt!==null)throw Error(n(261));return Ft=null,Jt=0,kt}function jO(){for(;jt!==null;)bN(jt)}function IO(){for(;jt!==null&&!tD();)bN(jt)}function bN(o){var u=EN(o.alternate,o,In);o.memoizedProps=o.pendingProps,u===null?wN(o):jt=u,pm.current=null}function wN(o){var u=o;do{var h=u.alternate;if(o=u.return,(u.flags&32768)===0){if(h=SO(h,u,In),h!==null){jt=h;return}}else{if(h=NO(h,u),h!==null){h.flags&=32767,jt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{kt=6,jt=null;return}}if(u=u.sibling,u!==null){jt=u;return}jt=u=o}while(u!==null);kt===0&&(kt=5)}function ns(o,u,h){var b=st,C=Un.transition;try{Un.transition=null,st=1,PO(o,u,h,b)}finally{Un.transition=C,st=b}return null}function PO(o,u,h,b){do sa();while(gi!==null);if((Ve&6)!==0)throw Error(n(327));h=o.finishedWork;var C=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var j=h.lanes|h.childLanes;if(dD(o,j),o===Ft&&(jt=Ft=null,Jt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||fu||(fu=!0,CN(bc,function(){return sa(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Un.transition,Un.transition=null;var D=st;st=1;var U=Ve;Ve|=4,pm.current=null,CO(o,h),dN(h,o),XD(Sp),Tc=!!wp,Sp=wp=null,o.current=h,_O(h),nD(),Ve=U,st=D,Un.transition=j}else o.current=h;if(fu&&(fu=!1,gi=o,pu=C),j=o.pendingLanes,j===0&&(hi=null),sD(h.stateNode),bn(o,_t()),u!==null)for(b=o.onRecoverableError,h=0;h<u.length;h++)C=u[h],b(C.value,{componentStack:C.stack,digest:C.digest});if(du)throw du=!1,o=gm,gm=null,o;return(pu&1)!==0&&o.tag!==0&&sa(),j=o.pendingLanes,(j&1)!==0?o===vm?Oo++:(Oo=0,vm=o):Oo=0,di(),null}function sa(){if(gi!==null){var o=cw(pu),u=Un.transition,h=st;try{if(Un.transition=null,st=16>o?16:o,gi===null)var b=!1;else{if(o=gi,gi=null,pu=0,(Ve&6)!==0)throw Error(n(331));var C=Ve;for(Ve|=4,we=o.current;we!==null;){var j=we,D=j.child;if((we.flags&16)!==0){var U=j.deletions;if(U!==null){for(var G=0;G<U.length;G++){var te=U[G];for(we=te;we!==null;){var fe=we;switch(fe.tag){case 0:case 11:case 15:Mo(8,fe,j)}var me=fe.child;if(me!==null)me.return=fe,we=me;else for(;we!==null;){fe=we;var ue=fe.sibling,ye=fe.return;if(aN(fe),fe===te){we=null;break}if(ue!==null){ue.return=ye,we=ue;break}we=ye}}}var Ee=j.alternate;if(Ee!==null){var Ce=Ee.child;if(Ce!==null){Ee.child=null;do{var Tt=Ce.sibling;Ce.sibling=null,Ce=Tt}while(Ce!==null)}}we=j}}if((j.subtreeFlags&2064)!==0&&D!==null)D.return=j,we=D;else e:for(;we!==null;){if(j=we,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Mo(9,j,j.return)}var K=j.sibling;if(K!==null){K.return=j.return,we=K;break e}we=j.return}}var H=o.current;for(we=H;we!==null;){D=we;var Y=D.child;if((D.subtreeFlags&2064)!==0&&Y!==null)Y.return=D,we=Y;else e:for(D=H;we!==null;){if(U=we,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:lu(9,U)}}catch(Te){St(U,U.return,Te)}if(U===D){we=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,we=he;break e}we=U.return}}if(Ve=C,di(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(wc,o)}catch{}b=!0}return b}finally{st=h,Un.transition=u}}return!1}function SN(o,u,h){u=ta(h,u),u=US(o,u,1),o=pi(o,u,1),u=cn(),o!==null&&(so(o,1,u),bn(o,u))}function St(o,u,h){if(o.tag===3)SN(o,o,h);else for(;u!==null;){if(u.tag===3){SN(u,o,h);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(hi===null||!hi.has(b))){o=ta(h,o),o=qS(u,o,1),u=pi(u,o,1),o=cn(),u!==null&&(so(u,1,o),bn(u,o));break}}u=u.return}}function kO(o,u,h){var b=o.pingCache;b!==null&&b.delete(u),u=cn(),o.pingedLanes|=o.suspendedLanes&h,Ft===o&&(Jt&h)===h&&(kt===4||kt===3&&(Jt&130023424)===Jt&&500>_t()-hm?ts(o,0):mm|=h),bn(o,u)}function NN(o,u){u===0&&((o.mode&1)===0?u=1:(u=Nc,Nc<<=1,(Nc&130023424)===0&&(Nc=4194304)));var h=cn();o=Or(o,u),o!==null&&(so(o,u,h),bn(o,h))}function MO(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),NN(o,h)}function RO(o,u){var h=0;switch(o.tag){case 13:var b=o.stateNode,C=o.memoizedState;C!==null&&(h=C.retryLane);break;case 19:b=o.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),NN(o,h)}var EN;EN=function(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps||gn.current)xn=!0;else{if((o.lanes&h)===0&&(u.flags&128)===0)return xn=!1,wO(o,u,h);xn=(o.flags&131072)!==0}else xn=!1,xt&&(u.flags&1048576)!==0&&rS(u,Gc,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;au(o,u),o=u.pendingProps;var C=Ws(u,Zt.current);Zs(u,h),C=Hp(null,u,b,o,C,h);var j=Wp();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vn(b)?(j=!0,Bc(u)):j=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,$p(u),C.updater=iu,u.stateNode=C,C._reactInternals=u,Zp(u,b,o,h),u=rm(null,u,b,!0,j,h)):(u.tag=0,xt&&j&&jp(u),ln(null,u,C,h),u=u.child),u;case 16:b=u.elementType;e:{switch(au(o,u),o=u.pendingProps,C=b._init,b=C(b._payload),u.type=b,C=u.tag=OO(b),o=ir(b,o),C){case 0:u=nm(null,u,b,o,h);break e;case 1:u=YS(null,u,b,o,h);break e;case 11:u=GS(null,u,b,o,h);break e;case 14:u=HS(null,u,b,ir(b.type,o),h);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:ir(b,C),nm(o,u,b,C,h);case 1:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:ir(b,C),YS(o,u,b,C,h);case 3:e:{if(XS(u),o===null)throw Error(n(387));b=u.pendingProps,j=u.memoizedState,C=j.element,fS(o,u),Xc(u,b,null,h);var D=u.memoizedState;if(b=D.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){C=ta(Error(n(423)),u),u=QS(o,u,b,h,C);break e}else if(b!==C){C=ta(Error(n(424)),u),u=QS(o,u,b,h,C);break e}else for(jn=li(u.stateNode.containerInfo.firstChild),An=u,xt=!0,rr=null,h=uS(u,null,b,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ys(),b===C){u=Fr(o,u,h);break e}ln(o,u,b,h)}u=u.child}return u;case 5:return hS(u),o===null&&kp(u),b=u.type,C=u.pendingProps,j=o!==null?o.memoizedProps:null,D=C.children,Np(b,C)?D=null:j!==null&&Np(b,j)&&(u.flags|=32),JS(o,u),ln(o,u,D,h),u.child;case 6:return o===null&&kp(u),null;case 13:return ZS(o,u,h);case 4:return Up(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=Xs(u,null,b,h):ln(o,u,b,h),u.child;case 11:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:ir(b,C),GS(o,u,b,C,h);case 7:return ln(o,u,u.pendingProps,h),u.child;case 8:return ln(o,u,u.pendingProps.children,h),u.child;case 12:return ln(o,u,u.pendingProps.children,h),u.child;case 10:e:{if(b=u.type._context,C=u.pendingProps,j=u.memoizedProps,D=C.value,pt(Kc,b._currentValue),b._currentValue=D,j!==null)if(nr(j.value,D)){if(j.children===C.children&&!gn.current){u=Fr(o,u,h);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var U=j.dependencies;if(U!==null){D=j.child;for(var G=U.firstContext;G!==null;){if(G.context===b){if(j.tag===1){G=Lr(-1,h&-h),G.tag=2;var te=j.updateQueue;if(te!==null){te=te.shared;var fe=te.pending;fe===null?G.next=G:(G.next=fe.next,fe.next=G),te.pending=G}}j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),Lp(j.return,h,u),U.lanes|=h;break}G=G.next}}else if(j.tag===10)D=j.type===u.type?null:j.child;else if(j.tag===18){if(D=j.return,D===null)throw Error(n(341));D.lanes|=h,U=D.alternate,U!==null&&(U.lanes|=h),Lp(D,h,u),D=j.sibling}else D=j.child;if(D!==null)D.return=j;else for(D=j;D!==null;){if(D===u){D=null;break}if(j=D.sibling,j!==null){j.return=D.return,D=j;break}D=D.return}j=D}ln(o,u,C.children,h),u=u.child}return u;case 9:return C=u.type,b=u.pendingProps.children,Zs(u,h),C=Fn(C),b=b(C),u.flags|=1,ln(o,u,b,h),u.child;case 14:return b=u.type,C=ir(b,u.pendingProps),C=ir(b.type,C),HS(o,u,b,C,h);case 15:return WS(o,u,u.type,u.pendingProps,h);case 17:return b=u.type,C=u.pendingProps,C=u.elementType===b?C:ir(b,C),au(o,u),u.tag=1,vn(b)?(o=!0,Bc(u)):o=!1,Zs(u,h),FS(u,b,C),Zp(u,b,C,h),rm(null,u,b,!0,o,h);case 19:return tN(o,u,h);case 22:return KS(o,u,h)}throw Error(n(156,u.tag))};function CN(o,u){return iw(o,u)}function DO(o,u,h,b){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(o,u,h,b){return new DO(o,u,h,b)}function Nm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function OO(o){if(typeof o=="function")return Nm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===J)return 14}return 2}function yi(o,u){var h=o.alternate;return h===null?(h=qn(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function vu(o,u,h,b,C,j){var D=2;if(b=o,typeof o=="function")Nm(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case M:return rs(h.children,C,j,u);case R:D=8,C|=8;break;case O:return o=qn(12,h,u,C|2),o.elementType=O,o.lanes=j,o;case L:return o=qn(13,h,u,C),o.elementType=L,o.lanes=j,o;case z:return o=qn(19,h,u,C),o.elementType=z,o.lanes=j,o;case ee:return xu(h,C,j,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:D=10;break e;case $:D=9;break e;case F:D=11;break e;case J:D=14;break e;case q:D=16,b=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return u=qn(D,h,u,C),u.elementType=o,u.type=b,u.lanes=j,u}function rs(o,u,h,b){return o=qn(7,o,b,u),o.lanes=h,o}function xu(o,u,h,b){return o=qn(22,o,b,u),o.elementType=ee,o.lanes=h,o.stateNode={isHidden:!1},o}function Em(o,u,h){return o=qn(6,o,null,u),o.lanes=h,o}function Cm(o,u,h){return u=qn(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function LO(o,u,h,b,C){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=b,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function _m(o,u,h,b,C,j,D,U,G){return o=new LO(o,u,h,U,G),u===1?(u=1,j===!0&&(u|=8)):u=0,j=qn(3,null,null,u),o.current=j,j.stateNode=o,j.memoizedState={element:b,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(j),o}function FO(o,u,h){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:b==null?null:""+b,children:o,containerInfo:u,implementation:h}}function _N(o){if(!o)return ui;o=o._reactInternals;e:{if(Gi(o)!==o||o.tag!==1)throw Error(n(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(vn(h))return eS(o,h,u)}return u}function TN(o,u,h,b,C,j,D,U,G){return o=_m(h,b,!0,o,C,j,D,U,G),o.context=_N(null),h=o.current,b=cn(),C=vi(h),j=Lr(b,C),j.callback=u??null,pi(h,j,C),o.current.lanes=C,so(o,C,b),bn(o,b),o}function yu(o,u,h,b){var C=u.current,j=cn(),D=vi(C);return h=_N(h),u.context===null?u.context=h:u.pendingContext=h,u=Lr(j,D),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=pi(C,u,D),o!==null&&(or(o,C,D,j),Yc(o,C,D)),D}function bu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function AN(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function Tm(o,u){AN(o,u),(o=o.alternate)&&AN(o,u)}function $O(){return null}var jN=typeof reportError=="function"?reportError:function(o){console.error(o)};function Am(o){this._internalRoot=o}wu.prototype.render=Am.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));yu(o,u,null,null)},wu.prototype.unmount=Am.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;es(function(){yu(null,o,null,null)}),u[kr]=null}};function wu(o){this._internalRoot=o}wu.prototype.unstable_scheduleHydration=function(o){if(o){var u=fw();o={blockedOn:null,target:o,priority:u};for(var h=0;h<si.length&&u!==0&&u<si[h].priority;h++);si.splice(h,0,o),h===0&&hw(o)}};function jm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Su(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function IN(){}function UO(o,u,h,b,C){if(C){if(typeof b=="function"){var j=b;b=function(){var te=bu(D);j.call(te)}}var D=TN(u,b,o,0,null,!1,!1,"",IN);return o._reactRootContainer=D,o[kr]=D.current,bo(o.nodeType===8?o.parentNode:o),es(),D}for(;C=o.lastChild;)o.removeChild(C);if(typeof b=="function"){var U=b;b=function(){var te=bu(G);U.call(te)}}var G=_m(o,0,!1,null,null,!1,!1,"",IN);return o._reactRootContainer=G,o[kr]=G.current,bo(o.nodeType===8?o.parentNode:o),es(function(){yu(u,G,h,b)}),G}function Nu(o,u,h,b,C){var j=h._reactRootContainer;if(j){var D=j;if(typeof C=="function"){var U=C;C=function(){var G=bu(D);U.call(G)}}yu(u,D,o,C)}else D=UO(h,u,o,C,b);return bu(D)}uw=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var h=io(u.pendingLanes);h!==0&&(Zf(u,h|1),bn(u,_t()),(Ve&6)===0&&(ia=_t()+500,di()))}break;case 13:es(function(){var b=Or(o,1);if(b!==null){var C=cn();or(b,o,1,C)}}),Tm(o,1)}},ep=function(o){if(o.tag===13){var u=Or(o,134217728);if(u!==null){var h=cn();or(u,o,134217728,h)}Tm(o,134217728)}},dw=function(o){if(o.tag===13){var u=vi(o),h=Or(o,u);if(h!==null){var b=cn();or(h,o,u,b)}Tm(o,u)}},fw=function(){return st},pw=function(o,u){var h=st;try{return st=o,u()}finally{st=h}},Hf=function(o,u,h){switch(u){case"input":if(Wt(o,h),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var b=h[u];if(b!==o&&b.form===o.form){var C=Uc(b);if(!C)throw Error(n(90));pe(b),Wt(b,C)}}}break;case"textarea":Qa(o,h);break;case"select":u=h.value,u!=null&&hn(o,!!h.multiple,u,!1)}},Xb=bm,Qb=es;var qO={usingClientEntryPoint:!1,Events:[No,Gs,Uc,Jb,Yb,bm]},Lo={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BO={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=nw(o),o===null?null:o.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||$O,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{wc=Eu.inject(BO),vr=Eu}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qO,wn.createPortal=function(o,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(u))throw Error(n(200));return FO(o,u,null,h)},wn.createRoot=function(o,u){if(!jm(o))throw Error(n(299));var h=!1,b="",C=jN;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=_m(o,1,!1,null,null,h,!1,b,C),o[kr]=u.current,bo(o.nodeType===8?o.parentNode:o),new Am(u)},wn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=nw(u),o=o===null?null:o.stateNode,o},wn.flushSync=function(o){return es(o)},wn.hydrate=function(o,u,h){if(!Su(u))throw Error(n(200));return Nu(null,o,u,!0,h)},wn.hydrateRoot=function(o,u,h){if(!jm(o))throw Error(n(405));var b=h!=null&&h.hydratedSources||null,C=!1,j="",D=jN;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),u=TN(u,null,o,1,h??null,C,!1,j,D),o[kr]=u.current,bo(o),b)for(o=0;o<b.length;o++)h=b[o],C=h._getVersion,C=C(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,C]:u.mutableSourceEagerHydrationData.push(h,C);return new wu(u)},wn.render=function(o,u,h){if(!Su(u))throw Error(n(200));return Nu(null,o,u,!1,h)},wn.unmountComponentAtNode=function(o){if(!Su(o))throw Error(n(40));return o._reactRootContainer?(es(function(){Nu(null,null,o,!1,function(){o._reactRootContainer=null,o[kr]=null})}),!0):!1},wn.unstable_batchedUpdates=bm,wn.unstable_renderSubtreeIntoContainer=function(o,u,h,b){if(!Su(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Nu(o,u,h,!1,b)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var FN;function w2(){if(FN)return km.exports;FN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),km.exports=XO(),km.exports}var $N;function QO(){if($N)return _u;$N=1;var t=w2();return _u.createRoot=t.createRoot,_u.hydrateRoot=t.hydrateRoot,_u}var ZO=QO();const eL=dt(ZO);w2();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const UN="popstate";function tL(t){t===void 0&&(t={});function e(i,a){let{pathname:l="/",search:c="",hash:d=""}=Ss(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),q0("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:Yu(a))}function r(i,a){by(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return rL(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function by(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nL(){return Math.random().toString(36).substr(2,8)}function qN(t,e){return{usr:t.state,key:t.key,idx:e}}function q0(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:n,key:e&&e.key||r||nL()})}function Yu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=Ni.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(cl({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){c=Ni.Pop;let y=p(),E=y==null?null:y-f;f=y,d&&d({action:c,location:S.location,delta:E})}function v(y,E){c=Ni.Push;let T=q0(S.location,y,E);n&&n(T,y),f=p()+1;let A=qN(T,f),I=S.createHref(T);try{l.pushState(A,"",I)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(I)}a&&d&&d({action:c,location:S.location,delta:1})}function w(y,E){c=Ni.Replace;let T=q0(S.location,y,E);n&&n(T,y),f=p();let A=qN(T,f),I=S.createHref(T);l.replaceState(A,"",I),a&&d&&d({action:c,location:S.location,delta:0})}function N(y){let E=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof y=="string"?y:Yu(y);return T=T.replace(/ $/,"%20"),At(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let S={get action(){return c},get location(){return t(i,l)},listen(y){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(UN,m),d=y,()=>{i.removeEventListener(UN,m),d=null}},createHref(y){return e(i,y)},createURL:N,encodeLocation(y){let E=N(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(y){return l.go(y)}};return S}var BN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BN||(BN={}));function iL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ss(e):e,i=wy(r.pathname||"/",n);if(i==null)return null;let a=S2(t);sL(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=vL(i);l=mL(a[c],d)}return l}function S2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Ti([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),S2(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:fL(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of N2(a.path))i(a,l,d)}),e}function N2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=N2(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function sL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aL=/^:[\w-]+$/,oL=3,lL=2,cL=1,uL=10,dL=-2,zN=t=>t==="*";function fL(t,e){let n=t.split("/"),r=n.length;return n.some(zN)&&(r+=dL),e&&(r+=lL),n.filter(i=>!zN(i)).reduce((i,a)=>i+(aL.test(a)?oL:a===""?cL:uL),r)}function pL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mL(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=hL({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f);if(!p)return null;Object.assign(r,p.params);let m=c.route;a.push({params:r,pathname:Ti([i,p.pathname]),pathnameBase:wL(Ti([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ti([i,p.pathnameBase]))}return a}function hL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:v,isOptional:w}=p;if(v==="*"){let S=c[m]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const N=c[m];return w&&!N?f[v]=void 0:f[v]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function gL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),by(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return by(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ss(t):t;return{pathname:n?n.startsWith("/")?n:yL(n,e):e,search:SL(r),hash:NL(i)}}function yL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sy(t,e){let n=bL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ny(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ss(t):(i=cl({},t),At(!i.pathname||!i.pathname.includes("?"),Dm("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Dm("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Dm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=xL(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),wL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const E2=["post","put","patch","delete"];new Set(E2);const CL=["get",...E2];new Set(CL);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const Ey=P.createContext(null),_L=P.createContext(null),Ri=P.createContext(null),Jd=P.createContext(null),Ir=P.createContext({outlet:null,matches:[],isDataRoute:!1}),C2=P.createContext(null);function TL(t,e){let{relative:n}=e===void 0?{}:e;Ua()||At(!1);let{basename:r,navigator:i}=P.useContext(Ri),{hash:a,pathname:l,search:c}=T2(t,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Ti([r,l])),i.createHref({pathname:d,search:c,hash:a})}function Ua(){return P.useContext(Jd)!=null}function Di(){return Ua()||At(!1),P.useContext(Jd).location}function _2(t){P.useContext(Ri).static||P.useLayoutEffect(t)}function ze(){let{isDataRoute:t}=P.useContext(Ir);return t?BL():AL()}function AL(){Ua()||At(!1);let t=P.useContext(Ey),{basename:e,future:n,navigator:r}=P.useContext(Ri),{matches:i}=P.useContext(Ir),{pathname:a}=Di(),l=JSON.stringify(Sy(i,n.v7_relativeSplatPath)),c=P.useRef(!1);return _2(()=>{c.current=!0}),P.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=Ny(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ti([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,l,a,t])}const jL=P.createContext(null);function IL(t){let e=P.useContext(Ir).outlet;return e&&P.createElement(jL.Provider,{value:t},e)}function Vt(){let{matches:t}=P.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function T2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Ri),{matches:i}=P.useContext(Ir),{pathname:a}=Di(),l=JSON.stringify(Sy(i,r.v7_relativeSplatPath));return P.useMemo(()=>Ny(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function PL(t,e){return kL(t,e)}function kL(t,e,n,r){Ua()||At(!1);let{navigator:i}=P.useContext(Ri),{matches:a}=P.useContext(Ir),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Di(),p;if(e){var m;let y=typeof e=="string"?Ss(e):e;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||At(!1),p=y}else p=f;let v=p.pathname||"/",w=v;if(d!=="/"){let y=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let N=iL(t,{pathname:w}),S=LL(N&&N.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Ti([d,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Ti([d,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&S?P.createElement(Jd.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ni.Pop}},S):S}function ML(){let t=qL(),e=EL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const RL=P.createElement(ML,null);class DL extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Ir.Provider,{value:this.props.routeContext},P.createElement(C2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OL(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Ey);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ir.Provider,{value:e},r)}function LL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let l=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));p>=0||At(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:v,errors:w}=n,N=m.route.loader&&v[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||N){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,v)=>{let w,N=!1,S=null,y=null;n&&(w=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||RL,d&&(f<0&&v===0?(zL("route-fallback"),N=!0,y=null):f===v&&(N=!0,y=m.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,v+1)),T=()=>{let A;return w?A=S:N?A=y:m.route.Component?A=P.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=p,P.createElement(OL,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?P.createElement(DL,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}var A2=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(A2||{}),j2=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(j2||{});function FL(t){let e=P.useContext(Ey);return e||At(!1),e}function $L(t){let e=P.useContext(_L);return e||At(!1),e}function UL(t){let e=P.useContext(Ir);return e||At(!1),e}function I2(t){let e=UL(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function qL(){var t;let e=P.useContext(C2),n=$L(),r=I2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BL(){let{router:t}=FL(A2.UseNavigateStable),e=I2(j2.UseNavigateStable),n=P.useRef(!1);return _2(()=>{n.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ul({fromRouteId:e},a)))},[t,e])}const VN={};function zL(t,e,n){VN[t]||(VN[t]=!0)}function Ze(t){let{to:e,replace:n,state:r,relative:i}=t;Ua()||At(!1);let{future:a,static:l}=P.useContext(Ri),{matches:c}=P.useContext(Ir),{pathname:d}=Di(),f=ze(),p=Ny(e,Sy(c,a.v7_relativeSplatPath),d,i==="path"),m=JSON.stringify(p);return P.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:i}),[f,m,i,n,r]),null}function VL(t){return IL(t.context)}function Ne(t){At(!1)}function GL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:a,static:l=!1,future:c}=t;Ua()&&At(!1);let d=e.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:d,navigator:a,static:l,future:ul({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Ss(r));let{pathname:p="/",search:m="",hash:v="",state:w=null,key:N="default"}=r,S=P.useMemo(()=>{let y=wy(p,d);return y==null?null:{location:{pathname:y,search:m,hash:v,state:w,key:N},navigationType:i}},[d,p,m,v,w,N,i]);return S==null?null:P.createElement(Ri.Provider,{value:f},P.createElement(Jd.Provider,{children:n,value:S}))}function HL(t){let{children:e,location:n}=t;return PL(B0(e),n)}new Promise(()=>{});function B0(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){n.push.apply(n,B0(r.props.children,a));return}r.type!==Ne&&At(!1),!r.props.index||!r.props.children||At(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=B0(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function WL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JL(t,e){return t.button===0&&(!e||e==="_self")&&!KL(t)}function V0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function YL(t,e){let n=V0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const XL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QL="6";try{window.__reactRouterVersion=QL}catch{}const ZL="startTransition",GN=KO[ZL];function e6(t){let{basename:e,children:n,future:r,window:i}=t,a=P.useRef();a.current==null&&(a.current=tL({window:i,v5Compat:!0}));let l=a.current,[c,d]=P.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=P.useCallback(m=>{f&&GN?GN(()=>d(m)):d(m)},[d,f]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(GL,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const t6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,unstable_viewTransition:m}=e,v=WL(e,XL),{basename:w}=P.useContext(Ri),N,S=!1;if(typeof f=="string"&&n6.test(f)&&(N=f,t6))try{let A=new URL(window.location.href),I=f.startsWith("//")?new URL(A.protocol+f):new URL(f),_=wy(I.pathname,w);I.origin===A.origin&&_!=null?f=_+I.search+I.hash:S=!0}catch{}let y=TL(f,{relative:i}),E=r6(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,unstable_viewTransition:m});function T(A){r&&r(A),A.defaultPrevented||E(A)}return P.createElement("a",z0({},v,{href:N||y,onClick:S||a?r:T,ref:n,target:d}))});var HN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HN||(HN={}));var WN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WN||(WN={}));function r6(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,unstable_viewTransition:c}=e===void 0?{}:e,d=ze(),f=Di(),p=T2(t,{relative:l});return P.useCallback(m=>{if(JL(m,n)){m.preventDefault();let v=r!==void 0?r:Yu(f)===Yu(p);d(t,{replace:v,state:i,preventScrollReset:a,relative:l,unstable_viewTransition:c})}},[f,d,p,r,i,n,t,a,l,c])}function qa(t){let e=P.useRef(V0(t)),n=P.useRef(!1),r=Di(),i=P.useMemo(()=>YL(r.search,n.current?null:e.current),[r.search]),a=ze(),l=P.useCallback((c,d)=>{const f=V0(typeof c=="function"?c(i):c);n.current=!0,a("?"+f,d)},[a,i]);return[i,l]}var le=(t=>(t.SuperAdmin="SuperAdmin",t.CompanyAdmin="CompanyAdmin",t.SpaceManager="SpaceManager",t.Member="Member",t.Viewer="Viewer",t))(le||{}),Et=(t=>(t.Basic="Basic",t.Pro="Pro",t))(Et||{}),Cy=(t=>(t.Created="Created",t.Pending="Pending",t.Paid="Paid",t.Failed="Failed",t.Cancelled="Cancelled",t))(Cy||{}),Ei=(t=>(t.Light="Light",t.Dark="Dark",t.System="System",t))(Ei||{}),qe=(t=>(t.SpaceManager="SpaceManager",t.Member="Member",t))(qe||{}),G0=(t=>(t.EmbedFrame="EmbedFrame",t))(G0||{}),Je=(t=>(t.FileLink="FileLink",t.ExternalLink="ExternalLink",t.InternalNote="InternalNote",t.Embed="Embed",t))(Je||{}),fs=(t=>(t.Low="Low",t.Medium="Medium",t.High="High",t))(fs||{}),Sn=(t=>(t.CompanyWide="CompanyWide",t.SpaceSpecific="SpaceSpecific",t))(Sn||{}),We=(t=>(t.Page="Page",t.DocumentItem="DocumentItem",t.Announcement="Announcement",t.Space="Space",t.KnowledgeArticle="KnowledgeArticle",t.Event="Event",t.Other="Other",t))(We||{}),wi=(t=>(t.Created="Created",t.Updated="Updated",t.Deleted="Deleted",t.Published="Published",t.Unpublished="Unpublished",t.Pinned="Pinned",t.Unpinned="Unpinned",t))(wi||{}),Nt=(t=>(t.ExternalURL="ExternalURL",t.Page="Page",t.Space="Space",t.Documents="Documents",t.Announcements="Announcements",t.Other="Other",t))(Nt||{}),Sa=(t=>(t.CompanyEvent="CompanyEvent",t.Holiday="Holiday",t.Training="Training",t.Birthday="Birthday",t.Other="Other",t))(Sa||{}),qt=(t=>(t.Global="Global",t.Space="Space",t.Page="Page",t.Document="Document",t.KnowledgeBase="KnowledgeBase",t))(qt||{}),Ai=(t=>(t.Pending="Pending",t.Answered="Answered",t.Error="Error",t))(Ai||{});const i6=["SuperAdmin","CompanyAdmin","SpaceManager","Member","Viewer"];var s6={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a6,o6;function l6(){return{geminiUrl:a6,vertexUrl:o6}}function c6(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const l=l6();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jr{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];x(p,e.slice(a+1),n[f])}else for(const f of d)x(f,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];x(d[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>g(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function u6(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),l=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&a.length>c)for(let d=c;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}H0(t,i,a,0,l)}}function H0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])H0(d,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,p]of Object.entries(d)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);x(l,m,p)}for(const f of c)delete l[f]}}else{const l=t;a in l&&H0(l[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _y(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d6(t){const e={},n=g(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function f6(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&x(e,["response"],m6(l)),e}function p6(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response"]);return l!=null&&x(e,["response"],h6(l)),e}function m6(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>g6(l))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function h6(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>v6(l))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function g6(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],N6(n)),e}function v6(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],E6(n)),e}function x6(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function y6(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function b6(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response"]);return l!=null&&x(e,["response"],w6(l)),e}function w6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function P2(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response"]);return l!=null&&x(e,["response"],S6(l)),e}function S6(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function N6(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],_y(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function E6(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],_y(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KN||(KN={}));var JN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(JN||(JN={}));var YN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(YN||(YN={}));var Ci;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ci||(Ci={}));var XN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XN||(XN={}));var QN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(QN||(QN={}));var ZN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ZN||(ZN={}));var e1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(e1||(e1={}));var t1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(t1||(t1={}));var n1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(n1||(n1={}));var r1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(r1||(r1={}));var i1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(i1||(i1={}));var s1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(s1||(s1={}));var a1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(a1||(a1={}));var o1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(o1||(o1={}));var l1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(l1||(l1={}));var c1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(c1||(c1={}));var u1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(u1||(u1={}));var d1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(d1||(d1={}));var Xu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xu||(Xu={}));var f1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(f1||(f1={}));var p1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(p1||(p1={}));var m1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(m1||(m1={}));var W0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(W0||(W0={}));var h1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(h1||(h1={}));var g1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(g1||(g1={}));var v1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(v1||(v1={}));var x1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(x1||(x1={}));var y1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(y1||(y1={}));var b1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(b1||(b1={}));var w1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(w1||(w1={}));var S1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(S1||(S1={}));var N1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(N1||(N1={}));var E1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(E1||(E1={}));var C1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(C1||(C1={}));var _1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_1||(_1={}));var T1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(T1||(T1={}));var A1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(A1||(A1={}));var j1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(j1||(j1={}));var I1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(I1||(I1={}));var P1;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(P1||(P1={}));var k1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(k1||(k1={}));var M1;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(M1||(M1={}));var R1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(R1||(R1={}));var D1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(D1||(D1={}));var O1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(O1||(O1={}));var L1;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(L1||(L1={}));var F1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(F1||(F1={}));var $1;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($1||($1={}));var U1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(U1||(U1={}));var q1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(q1||(q1={}));var B1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(B1||(B1={}));var z1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(z1||(z1={}));var V1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(V1||(V1={}));var G1;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(G1||(G1={}));var da;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(da||(da={}));class K0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $o{get text(){var e,n,r,i,a,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const v of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[w,N]of Object.entries(v))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,r,i,a,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[v,w]of Object.entries(m))v!=="inlineData"&&(w!==null||w!==void 0)&&p.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class H1{}class W1{}class C6{}class _6{}class T6{}class A6{}class K1{}class J1{}class Y1{}class j6{}class Qu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Qu;let i;const a=e;return n?i=p6(a):i=f6(a),Object.assign(r,i),r}}class X1{}class Q1{}class Z1{}class eE{}class I6{}class P6{}class k6{}class Ty{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ty,a=b6(e);return Object.assign(r,a),r}}class M6{}class R6{}class D6{}class tE{}class O6{get text(){var e,n,r;let i="",a=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class L6{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ay{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ay,a=P2(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function k2(t,e){const n=Xe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function M2(t){return Array.isArray(t)?t.map(e=>Zu(e)):[Zu(t)]}function Zu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function R2(t){const e=Zu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function D2(t){const e=Zu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function O2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>nE(e)):[nE(t)]}function J0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function rE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function iE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function an(t){if(t==null)throw new Error("ContentUnion is required");return J0(t)?t:{role:"user",parts:O2(t)}}function jy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=an(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=an(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>an(n)):[an(e)]}function Wn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(rE(t)||iE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(t)]}const e=[],n=[],r=J0(t[0]);for(const i of t){const a=J0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(rE(i)||iE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:O2(n)}),e}function F6(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ci).includes(n[0].toUpperCase())?n[0].toUpperCase():Ci.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ci).includes(r.toUpperCase())?r.toUpperCase():Ci.TYPE_UNSPECIFIED})}}function ha(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&F6(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Ci).includes(c.toUpperCase())?c.toUpperCase():Ci.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=ha(c);else if(r.includes(l)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(ha(f))}e[l]=d}else if(i.includes(l)){const d={};for(const[f,p]of Object.entries(c))d[f]=ha(p);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function Iy(t){return ha(t)}function Py(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ky(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ba(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ha(e.response));return t}function za(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $6(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Yr(t,e){if(typeof e!="string")throw new Error("name must be a string");return $6(t,e,"cachedContents")}function L2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Oi(t){return _y(t)}function U6(t){return t!=null&&typeof t=="object"&&"name"in t}function q6(t){return t!=null&&typeof t=="object"&&"video"in t}function B6(t){return t!=null&&typeof t=="object"&&"uri"in t}function F2(t){var e;let n;if(U6(t)&&(n=t.name),!(B6(t)&&(n=t.uri,n===void 0))&&!(q6(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function U2(t){for(const e of["models","tunedModels","publisherModels"])if(z6(t,e))return t[e];return[]}function z6(t,e){return t!==null&&typeof t=="object"&&e in t}function V6(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function G6(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=V6(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function q2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function H6(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function B2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Va(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function z2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W6(t){const e={},n=g(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>T4(l))),x(e,["inlinedResponses"],a)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["inlinedEmbedContentResponses"],a)}return e}function K6(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function J6(t){const e={},n=g(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Hu(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&x(e,["state"],z2(i));const a=g(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const l=g(t,["metadata","endTime"]);l!=null&&x(e,["endTime"],l);const c=g(t,["metadata","updateTime"]);c!=null&&x(e,["updateTime"],c);const d=g(t,["metadata","model"]);d!=null&&x(e,["model"],d);const f=g(t,["metadata","output"]);return f!=null&&x(e,["dest"],W6(B2(f))),e}function Y0(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["state"]);i!=null&&x(e,["state"],z2(i));const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["createTime"]);l!=null&&x(e,["createTime"],l);const c=g(t,["startTime"]);c!=null&&x(e,["startTime"],c);const d=g(t,["endTime"]);d!=null&&x(e,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&x(e,["updateTime"],f);const p=g(t,["model"]);p!=null&&x(e,["model"],p);const m=g(t,["inputConfig"]);m!=null&&x(e,["src"],Y6(m));const v=g(t,["outputConfig"]);v!=null&&x(e,["dest"],K6(B2(v)));const w=g(t,["completionStats"]);return w!=null&&x(e,["completionStats"],w),e}function Y6(t){const e={},n=g(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function X6(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>_4(t,l))),x(n,["requests","requests"],a)}return n}function Q6(t){const e={},n=g(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Z6(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function e4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function t4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function n4(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],r4(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&x(e,["avgLogprobs"],l);const c=g(t,["groundingMetadata"]);c!=null&&x(e,["groundingMetadata"],c);const d=g(t,["index"]);d!=null&&x(e,["index"],d);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const p=g(t,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(w=>w)),x(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&x(e,["urlContextMetadata"],m),e}function r4(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function V2(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>R4(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function i4(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function s4(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],J6(H6(i))),n}function sE(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],X6(t,q2(t,i)));const a=g(e,["config"]);return a!=null&&i4(a,n),n}function a4(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],Xe(t,r));const i=g(e,["src"]);i!=null&&x(n,["inputConfig"],Q6(q2(t,i)));const a=g(e,["config"]);return a!=null&&s4(a,n),n}function o4(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function l4(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],h4(t,i));const a=g(e,["config"]);return a!=null&&o4(a,n),n}function c4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function u4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function d4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);return a!=null&&x(e,["error"],a),e}function f4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);return a!=null&&x(e,["error"],a),e}function p4(t,e){const n={},r=g(e,["contents"]);if(r!=null){let a=jy(t,r);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["requests[]","request","content"],a)}const i=g(e,["config"]);return i!=null&&(x(n,["_self"],m4(i,n)),u6(n,{"requests[].*":"requests[].request.*"})),n}function m4(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function h4(t,e){const n={},r=g(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],p4(t,i)),n}function g4(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function v4(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x4(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function y4(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],V2(an(i)));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&x(r,["topP"],l);const c=g(e,["topK"]);c!=null&&x(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=g(e,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&x(r,["presencePenalty"],w);const N=g(e,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const y=g(e,["responseMimeType"]);y!=null&&x(r,["responseMimeType"],y);const E=g(e,["responseSchema"]);E!=null&&x(r,["responseSchema"],Iy(E));const T=g(e,["responseJsonSchema"]);if(T!=null&&x(r,["responseJsonSchema"],T),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=g(e,["safetySettings"]);if(n!==void 0&&A!=null){let L=A;Array.isArray(L)&&(L=L.map(z=>D4(z))),x(n,["safetySettings"],L)}const I=g(e,["tools"]);if(n!==void 0&&I!=null){let L=za(I);Array.isArray(L)&&(L=L.map(z=>L4(Ba(z)))),x(n,["tools"],L)}const _=g(e,["toolConfig"]);if(n!==void 0&&_!=null&&x(n,["toolConfig"],O4(_)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(e,["cachedContent"]);n!==void 0&&k!=null&&x(n,["cachedContent"],Yr(t,k));const M=g(e,["responseModalities"]);M!=null&&x(r,["responseModalities"],M);const R=g(e,["mediaResolution"]);R!=null&&x(r,["mediaResolution"],R);const O=g(e,["speechConfig"]);if(O!=null&&x(r,["speechConfig"],Py(O)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const $=g(e,["imageConfig"]);$!=null&&x(r,["imageConfig"],C4($));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&x(r,["enableEnhancedCivicAnswers"],F),r}function b4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>n4(f))),x(e,["candidates"],d)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&x(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function w4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function S4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Va(t,r)),n}function N4(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function E4(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function C4(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _4(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["request","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let c=Wn(i);Array.isArray(c)&&(c=c.map(d=>V2(d))),x(n,["request","contents"],c)}const a=g(e,["metadata"]);a!=null&&x(n,["metadata"],a);const l=g(e,["config"]);return l!=null&&x(n,["request","generationConfig"],y4(t,l,g(n,["request"],{}))),n}function T4(t){const e={},n=g(t,["response"]);n!=null&&x(e,["response"],b4(n));const r=g(t,["error"]);return r!=null&&x(e,["error"],r),e}function A4(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function j4(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=g(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function I4(t){const e={},n=g(t,["config"]);return n!=null&&A4(n,e),e}function P4(t){const e={},n=g(t,["config"]);return n!=null&&j4(n,e),e}function k4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Hu(l))),x(e,["batchJobs"],a)}return e}function M4(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Y0(l))),x(e,["batchJobs"],a)}return e}function R4(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],g4(a));const l=g(t,["functionCall"]);l!=null&&x(e,["functionCall"],v4(l));const c=g(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&x(e,["inlineData"],Z6(d));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const p=g(t,["thought"]);p!=null&&x(e,["thought"],p);const m=g(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function D4(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function O4(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],x4(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function L4(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&x(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],N4(c));const d=g(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],E4(d));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vr||(Vr={}));class Ns{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F4 extends Jr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Vr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=sE(this.apiClient,e),r=n._url,i=xe("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const m=Object.assign({},p);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const w=m.request;w.systemInstruction=v,m.request=w}f.push(m)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=a4(this.apiClient,e);return c=xe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Y0(p))}else{const f=sE(this.apiClient,e);return c=xe("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Hu(p))}}async createEmbeddingsInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l4(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Hu(d))}}async get(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=S4(this.apiClient,e);return c=xe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Y0(p))}else{const f=w4(this.apiClient,e);return c=xe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Hu(p))}}async cancel(e){var n,r,i,a;let l="",c={};if(this.apiClient.isVertexAI()){const d=t4(this.apiClient,e);l=xe("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=e4(this.apiClient,e);l=xe("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=P4(e);return c=xe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=M4(p),v=new tE;return Object.assign(v,m),v})}else{const f=I4(e);return c=xe("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=k4(p),v=new tE;return Object.assign(v,m),v})}}async delete(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=u4(this.apiClient,e);return c=xe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>f4(p))}else{const f=c4(this.apiClient,e);return c=xe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>d4(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $4(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function aE(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>l5(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function U4(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let p=Wn(l);Array.isArray(p)&&(p=p.map(m=>aE(m))),x(e,["contents"],p)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],aE(an(c)));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>u5(m))),x(e,["tools"],p)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&x(e,["toolConfig"],c5(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function q4(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=Wn(l);Array.isArray(m)&&(m=m.map(v=>v)),x(e,["contents"],m)}const c=g(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],an(c));const d=g(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>d5(v))),x(e,["tools"],m)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&x(e,["toolConfig"],f);const p=g(t,["kmsKeyName"]);return e!==void 0&&p!=null&&x(e,["encryption_spec","kmsKeyName"],p),n}function B4(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],k2(t,r));const i=g(e,["config"]);return i!=null&&U4(i,n),n}function z4(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],k2(t,r));const i=g(e,["config"]);return i!=null&&q4(i,n),n}function V4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Yr(t,r)),n}function G4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Yr(t,r)),n}function H4(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function W4(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function K4(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function J4(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Y4(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X4(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&x(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&x(e,["responseJsonSchema"],c),e}function Q4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Yr(t,r)),n}function Z4(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Yr(t,r)),n}function e5(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function t5(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function n5(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function r5(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function i5(t){const e={},n=g(t,["config"]);return n!=null&&n5(n,e),e}function s5(t){const e={},n=g(t,["config"]);return n!=null&&r5(n,e),e}function a5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["cachedContents"],a)}return e}function o5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["cachedContents"],a)}return e}function l5(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],K4(a));const l=g(t,["functionCall"]);l!=null&&x(e,["functionCall"],J4(l));const c=g(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&x(e,["inlineData"],$4(d));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const p=g(t,["thought"]);p!=null&&x(e,["thought"],p);const m=g(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function c5(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],Y4(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function u5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&x(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],e5(c));const d=g(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],t5(d));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function d5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>X4(v))),x(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&x(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&x(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function f5(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function p5(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function m5(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Yr(t,r));const i=g(e,["config"]);return i!=null&&f5(i,n),n}function h5(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Yr(t,r));const i=g(e,["config"]);return i!=null&&p5(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g5 extends Jr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Vr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=z4(this.apiClient,e);return c=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=B4(this.apiClient,e);return c=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Z4(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=Q4(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=G4(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=W4(p),v=new Z1;return Object.assign(v,m),v})}else{const f=V4(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=H4(p),v=new Z1;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=h5(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=m5(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=s5(e);return c=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=o5(p),v=new eE;return Object.assign(v,m),v})}else{const f=i5(e);return c=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=a5(p),v=new eE;return Object.assign(v,m),v})}}}function ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function fr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(N){return Promise.resolve(N).then(w,m)}}function c(w,N){r[w]&&(i[w]=function(S){return new Promise(function(y,E){a.push([w,S,y,E])>1||d(w,S)})},N&&(i[w]=N(i[w])))}function d(w,N){try{f(r[w](N))}catch(S){v(a[0][3],S)}}function f(w){w.value instanceof Ue?Promise.resolve(w.value.v).then(p,m):v(a[0][2],w)}function p(w){d("next",w)}function m(w){d("throw",w)}function v(w,N){w(N),a.shift(),a.length&&d(a[0][0],a[0][1])}}function pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oE=="function"?oE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(c,d){l=t[a](l),i(c,d,l.done,l.value)})}}function i(a,l,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v5(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:G2(n)}function G2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function x5(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function lE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!G2(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class y5{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new b5(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class b5{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),x5(a)}async sendMessage(e){var n;await this.sendPromise;const r=an(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const d=await i,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];p!=null&&(v=(c=p.slice(m))!==null&&c!==void 0?c:[]);const w=f?[f]:[];this.recordHistory(r,w,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=an(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?lE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return fr(this,arguments,function*(){var i,a,l,c,d,f;const p=[];try{for(var m=!0,v=pr(e),w;w=yield Ue(v.next()),i=w.done,!i;m=!0){c=w.value,m=!1;const N=c;if(v5(N)){const S=(f=(d=N.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;S!==void 0&&p.push(S)}yield yield Ue(N)}}catch(N){a={error:N}}finally{try{!m&&!i&&(l=v.return)&&(yield Ue(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...lE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Yd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w5(t){const e={},n=g(t,["file"]);return n!=null&&x(e,["file"],n),e}function S5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function N5(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],F2(n)),e}function E5(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function C5(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],F2(n)),e}function _5(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function T5(t){const e={},n=g(t,["config"]);return n!=null&&_5(n,e),e}function A5(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j5 extends Jr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Vr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=T5(e);return a=xe("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=A5(d),p=new M6;return Object.assign(p,f),p})}}async createInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=w5(e);return a=xe("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=S5(d),p=new R6;return Object.assign(p,f),p})}}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=C5(e);return a=xe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=N5(e);return a=xe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=E5(d),p=new D6;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wu(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function I5(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>H5(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function P5(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function k5(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function M5(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&x(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&x(e,["responseJsonSchema"],c),e}function R5(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&x(e,["enableAffectiveDialog"],l);const c=g(t,["frequencyPenalty"]);c!=null&&x(e,["frequencyPenalty"],c);const d=g(t,["logprobs"]);d!=null&&x(e,["logprobs"],d);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const p=g(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const m=g(t,["presencePenalty"]);m!=null&&x(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const w=g(t,["responseMimeType"]);w!=null&&x(e,["responseMimeType"],w);const N=g(t,["responseModalities"]);N!=null&&x(e,["responseModalities"],N);const S=g(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const y=g(t,["routingConfig"]);y!=null&&x(e,["routingConfig"],y);const E=g(t,["seed"]);E!=null&&x(e,["seed"],E);const T=g(t,["speechConfig"]);T!=null&&x(e,["speechConfig"],H2(T));const A=g(t,["stopSequences"]);A!=null&&x(e,["stopSequences"],A);const I=g(t,["temperature"]);I!=null&&x(e,["temperature"],I);const _=g(t,["thinkingConfig"]);_!=null&&x(e,["thinkingConfig"],_);const k=g(t,["topK"]);k!=null&&x(e,["topK"],k);const M=g(t,["topP"]);if(M!=null&&x(e,["topP"],M),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function D5(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function O5(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function L5(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],ky(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&x(e,["setup","systemInstruction"],I5(an(N)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let k=za(S);Array.isArray(k)&&(k=k.map(M=>K5(Ba(M)))),x(e,["setup","tools"],k)}const y=g(t,["sessionResumption"]);e!==void 0&&y!=null&&x(e,["setup","sessionResumption"],W5(y));const E=g(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&x(e,["setup","inputAudioTranscription"],E);const T=g(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","outputAudioTranscription"],T);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&x(e,["setup","realtimeInputConfig"],A);const I=g(t,["contextWindowCompression"]);e!==void 0&&I!=null&&x(e,["setup","contextWindowCompression"],I);const _=g(t,["proactivity"]);if(e!==void 0&&_!=null&&x(e,["setup","proactivity"],_),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function F5(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],R5(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],H2(ky(m)));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&x(e,["setup","systemInstruction"],an(N));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let M=za(S);Array.isArray(M)&&(M=M.map(R=>J5(Ba(R)))),x(e,["setup","tools"],M)}const y=g(t,["sessionResumption"]);e!==void 0&&y!=null&&x(e,["setup","sessionResumption"],y);const E=g(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&x(e,["setup","inputAudioTranscription"],E);const T=g(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","outputAudioTranscription"],T);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&x(e,["setup","realtimeInputConfig"],A);const I=g(t,["contextWindowCompression"]);e!==void 0&&I!=null&&x(e,["setup","contextWindowCompression"],I);const _=g(t,["proactivity"]);e!==void 0&&_!=null&&x(e,["setup","proactivity"],_);const k=g(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&x(e,["setup","explicitVadSignal"],k),n}function $5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Xe(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],L5(i,n)),n}function U5(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Xe(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],F5(i,n)),n}function q5(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function B5(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function z5(t){const e={},n=g(t,["media"]);if(n!=null){let f=M2(n);Array.isArray(f)&&(f=f.map(p=>Wu(p))),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],Wu(D2(r)));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&x(e,["video"],Wu(R2(a)));const l=g(t,["text"]);l!=null&&x(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&x(e,["activityEnd"],d),e}function V5(t){const e={},n=g(t,["media"]);if(n!=null){let f=M2(n);Array.isArray(f)&&(f=f.map(p=>p)),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],D2(r));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&x(e,["video"],R2(a));const l=g(t,["text"]);l!=null&&x(e,["text"],l);const c=g(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const d=g(t,["activityEnd"]);return d!=null&&x(e,["activityEnd"],d),e}function G5(t){const e={},n=g(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=g(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const l=g(t,["usageMetadata"]);l!=null&&x(e,["usageMetadata"],Y5(l));const c=g(t,["goAway"]);c!=null&&x(e,["goAway"],c);const d=g(t,["sessionResumptionUpdate"]);d!=null&&x(e,["sessionResumptionUpdate"],d);const f=g(t,["voiceActivityDetectionSignal"]);return f!=null&&x(e,["voiceActivityDetectionSignal"],f),e}function H5(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],P5(a));const l=g(t,["functionCall"]);l!=null&&x(e,["functionCall"],k5(l));const c=g(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&x(e,["inlineData"],Wu(d));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const p=g(t,["thought"]);p!=null&&x(e,["thought"],p);const m=g(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function W5(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function H2(t){const e={},n=g(t,["voiceConfig"]);n!=null&&x(e,["voiceConfig"],n);const r=g(t,["languageCode"]);if(r!=null&&x(e,["languageCode"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function K5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&x(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],D5(c));const d=g(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],O5(d));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function J5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>M5(v))),x(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&x(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&x(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function Y5(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const l=g(t,["thoughtsTokenCount"]);l!=null&&x(e,["thoughtsTokenCount"],l);const c=g(t,["totalTokenCount"]);c!=null&&x(e,["totalTokenCount"],c);const d=g(t,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(N=>N)),x(e,["promptTokensDetails"],w)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(N=>N)),x(e,["cacheTokensDetails"],w)}const p=g(t,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(N=>N)),x(e,["responseTokensDetails"],w)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(N=>N)),x(e,["toolUsePromptTokensDetails"],w)}const v=g(t,["trafficType"]);return v!=null&&x(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X5(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Q5(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],Z5(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const l=g(t,["avgLogprobs"]);l!=null&&x(e,["avgLogprobs"],l);const c=g(t,["groundingMetadata"]);c!=null&&x(e,["groundingMetadata"],c);const d=g(t,["index"]);d!=null&&x(e,["index"],d);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const p=g(t,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(w=>w)),x(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&x(e,["urlContextMetadata"],m),e}function Z5(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function e3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let a=Wn(i);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["contents"],a)}return n}function t3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function n3(t){const e={},n=g(t,["values"]);n!=null&&x(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&x(e,["statistics"],r3(r)),e}function r3(t){const e={},n=g(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function Xd(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fF(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function i3(t){const e={},n=g(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function s3(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function a3(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],an(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>X2(c))),x(e,["tools"],l)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],X3(a)),n}function o3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let l=Wn(i);Array.isArray(l)&&(l=l.map(c=>Xd(c))),x(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&s3(a),n}function l3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let l=Wn(i);Array.isArray(l)&&(l=l.map(c=>c)),x(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&a3(a,n),n}function c3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function u3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function d3(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Xe(t,r)),n}function f3(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Xe(t,r)),n}function p3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function m3(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function h3(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&x(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&x(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&x(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&x(e,["parameters","includeRaiReason"],v);const w=g(t,["language"]);e!==void 0&&w!=null&&x(e,["parameters","language"],w);const N=g(t,["outputMimeType"]);e!==void 0&&N!=null&&x(e,["parameters","outputOptions","mimeType"],N);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const y=g(t,["addWatermark"]);e!==void 0&&y!=null&&x(e,["parameters","addWatermark"],y);const E=g(t,["labels"]);e!==void 0&&E!=null&&x(e,["labels"],E);const T=g(t,["editMode"]);e!==void 0&&T!=null&&x(e,["parameters","editMode"],T);const A=g(t,["baseSteps"]);return e!==void 0&&A!=null&&x(e,["parameters","editConfig","baseSteps"],A),n}function g3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>xF(d))),x(n,["instances[0]","referenceImages"],c)}const l=g(e,["config"]);return l!=null&&h3(l,n),n}function v3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Qd(a))),x(e,["generatedImages"],i)}return e}function x3(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function y3(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&x(e,["instances[]","mimeType"],l);const c=g(t,["autoTruncate"]);return e!==void 0&&c!=null&&x(e,["parameters","autoTruncate"],c),n}function b3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let c=jy(t,i);Array.isArray(c)&&(c=c.map(d=>d)),x(n,["requests[]","content"],c)}const a=g(e,["config"]);a!=null&&x3(a,n);const l=g(e,["model"]);return l!==void 0&&x(n,["requests[]","model"],Xe(t,l)),n}function w3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let l=jy(t,i);Array.isArray(l)&&(l=l.map(c=>c)),x(n,["instances[]","content"],l)}const a=g(e,["config"]);return a!=null&&y3(a,n),n}function S3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function N3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>n3(l))),x(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function E3(t){const e={},n=g(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function C3(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function _3(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function T3(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function A3(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const l=g(t,["response"]);l!=null&&x(e,["response"],l);const c=g(t,["responseJsonSchema"]);return c!=null&&x(e,["responseJsonSchema"],c),e}function j3(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Xd(an(i)));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&x(r,["topP"],l);const c=g(e,["topK"]);c!=null&&x(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=g(e,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&x(r,["presencePenalty"],w);const N=g(e,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const y=g(e,["responseMimeType"]);y!=null&&x(r,["responseMimeType"],y);const E=g(e,["responseSchema"]);E!=null&&x(r,["responseSchema"],Iy(E));const T=g(e,["responseJsonSchema"]);if(T!=null&&x(r,["responseJsonSchema"],T),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=g(e,["safetySettings"]);if(n!==void 0&&A!=null){let L=A;Array.isArray(L)&&(L=L.map(z=>yF(z))),x(n,["safetySettings"],L)}const I=g(e,["tools"]);if(n!==void 0&&I!=null){let L=za(I);Array.isArray(L)&&(L=L.map(z=>_F(Ba(z)))),x(n,["tools"],L)}const _=g(e,["toolConfig"]);if(n!==void 0&&_!=null&&x(n,["toolConfig"],CF(_)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(e,["cachedContent"]);n!==void 0&&k!=null&&x(n,["cachedContent"],Yr(t,k));const M=g(e,["responseModalities"]);M!=null&&x(r,["responseModalities"],M);const R=g(e,["mediaResolution"]);R!=null&&x(r,["mediaResolution"],R);const O=g(e,["speechConfig"]);if(O!=null&&x(r,["speechConfig"],Py(O)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const $=g(e,["imageConfig"]);$!=null&&x(r,["imageConfig"],nF($));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&x(r,["enableEnhancedCivicAnswers"],F),r}function I3(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],an(i));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const l=g(e,["topP"]);l!=null&&x(r,["topP"],l);const c=g(e,["topK"]);c!=null&&x(r,["topK"],c);const d=g(e,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=g(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=g(e,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const w=g(e,["presencePenalty"]);w!=null&&x(r,["presencePenalty"],w);const N=g(e,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const y=g(e,["responseMimeType"]);y!=null&&x(r,["responseMimeType"],y);const E=g(e,["responseSchema"]);E!=null&&x(r,["responseSchema"],Iy(E));const T=g(e,["responseJsonSchema"]);T!=null&&x(r,["responseJsonSchema"],T);const A=g(e,["routingConfig"]);A!=null&&x(r,["routingConfig"],A);const I=g(e,["modelSelectionConfig"]);I!=null&&x(r,["modelConfig"],I);const _=g(e,["safetySettings"]);if(n!==void 0&&_!=null){let q=_;Array.isArray(q)&&(q=q.map(ee=>ee)),x(n,["safetySettings"],q)}const k=g(e,["tools"]);if(n!==void 0&&k!=null){let q=za(k);Array.isArray(q)&&(q=q.map(ee=>X2(Ba(ee)))),x(n,["tools"],q)}const M=g(e,["toolConfig"]);n!==void 0&&M!=null&&x(n,["toolConfig"],M);const R=g(e,["labels"]);n!==void 0&&R!=null&&x(n,["labels"],R);const O=g(e,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Yr(t,O));const B=g(e,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const $=g(e,["mediaResolution"]);$!=null&&x(r,["mediaResolution"],$);const F=g(e,["speechConfig"]);F!=null&&x(r,["speechConfig"],Y2(Py(F)));const L=g(e,["audioTimestamp"]);L!=null&&x(r,["audioTimestamp"],L);const z=g(e,["thinkingConfig"]);z!=null&&x(r,["thinkingConfig"],z);const J=g(e,["imageConfig"]);if(J!=null&&x(r,["imageConfig"],rF(J)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function cE(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let l=Wn(i);Array.isArray(l)&&(l=l.map(c=>Xd(c))),x(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&x(n,["generationConfig"],j3(t,a,n)),n}function uE(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["contents"]);if(i!=null){let l=Wn(i);Array.isArray(l)&&(l=l.map(c=>c)),x(n,["contents"],l)}const a=g(e,["config"]);return a!=null&&x(n,["generationConfig"],I3(t,a,n)),n}function dE(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Q5(f))),x(e,["candidates"],d)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const l=g(t,["responseId"]);l!=null&&x(e,["responseId"],l);const c=g(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function fE(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=g(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const l=g(t,["promptFeedback"]);l!=null&&x(e,["promptFeedback"],l);const c=g(t,["responseId"]);c!=null&&x(e,["responseId"],c);const d=g(t,["usageMetadata"]);return d!=null&&x(e,["usageMetadata"],d),e}function P3(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&x(e,["parameters","personGeneration"],c);const d=g(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&x(e,["parameters","includeSafetyAttributes"],d);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&x(e,["parameters","includeRaiReason"],f);const p=g(t,["language"]);e!==void 0&&p!=null&&x(e,["parameters","language"],p);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&x(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["imageSize"]);if(e!==void 0&&w!=null&&x(e,["parameters","sampleImageSize"],w),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function k3(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&x(e,["parameters","aspectRatio"],l);const c=g(t,["guidanceScale"]);e!==void 0&&c!=null&&x(e,["parameters","guidanceScale"],c);const d=g(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&x(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&x(e,["parameters","includeRaiReason"],v);const w=g(t,["language"]);e!==void 0&&w!=null&&x(e,["parameters","language"],w);const N=g(t,["outputMimeType"]);e!==void 0&&N!=null&&x(e,["parameters","outputOptions","mimeType"],N);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const y=g(t,["addWatermark"]);e!==void 0&&y!=null&&x(e,["parameters","addWatermark"],y);const E=g(t,["labels"]);e!==void 0&&E!=null&&x(e,["labels"],E);const T=g(t,["imageSize"]);e!==void 0&&T!=null&&x(e,["parameters","sampleImageSize"],T);const A=g(t,["enhancePrompt"]);return e!==void 0&&A!=null&&x(e,["parameters","enhancePrompt"],A),n}function M3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&P3(a,n),n}function R3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&k3(a,n),n}function D3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>W3(l))),x(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],K2(i)),e}function O3(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Qd(l))),x(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],J2(i)),e}function L3(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const l=g(t,["resolution"]);e!==void 0&&l!=null&&x(e,["parameters","resolution"],l);const c=g(t,["personGeneration"]);if(e!==void 0&&c!=null&&x(e,["parameters","personGeneration"],c),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(t,["negativePrompt"]);e!==void 0&&d!=null&&x(e,["parameters","negativePrompt"],d);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&x(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=g(t,["lastFrame"]);e!==void 0&&p!=null&&x(e,["instances[0]","lastFrame"],Zd(p));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>$F(w))),x(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function F3(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=g(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&x(e,["parameters","durationSeconds"],l);const c=g(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const d=g(t,["aspectRatio"]);e!==void 0&&d!=null&&x(e,["parameters","aspectRatio"],d);const f=g(t,["resolution"]);e!==void 0&&f!=null&&x(e,["parameters","resolution"],f);const p=g(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&x(e,["parameters","pubsubTopic"],m);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","negativePrompt"],v);const w=g(t,["enhancePrompt"]);e!==void 0&&w!=null&&x(e,["parameters","enhancePrompt"],w);const N=g(t,["generateAudio"]);e!==void 0&&N!=null&&x(e,["parameters","generateAudio"],N);const S=g(t,["lastFrame"]);e!==void 0&&S!=null&&x(e,["instances[0]","lastFrame"],hr(S));const y=g(t,["referenceImages"]);if(e!==void 0&&y!=null){let A=y;Array.isArray(A)&&(A=A.map(I=>UF(I))),x(e,["instances[0]","referenceImages"],A)}const E=g(t,["mask"]);e!==void 0&&E!=null&&x(e,["instances[0]","mask"],FF(E));const T=g(t,["compressionQuality"]);return e!==void 0&&T!=null&&x(e,["parameters","compressionQuality"],T),n}function $3(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response","generateVideoResponse"]);return l!=null&&x(e,["response"],z3(l)),e}function U3(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response"]);return l!=null&&x(e,["response"],V3(l)),e}function q3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&x(n,["instances[0]","image"],Zd(a));const l=g(e,["video"]);l!=null&&x(n,["instances[0]","video"],Q2(l));const c=g(e,["source"]);c!=null&&G3(c,n);const d=g(e,["config"]);return d!=null&&L3(d,n),n}function B3(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&x(n,["instances[0]","image"],hr(a));const l=g(e,["video"]);l!=null&&x(n,["instances[0]","video"],Z2(l));const c=g(e,["source"]);c!=null&&H3(c,n);const d=g(e,["config"]);return d!=null&&F3(d,n),n}function z3(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>J3(l))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function V3(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Y3(l))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function G3(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Zd(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],Q2(a)),n}function H3(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],hr(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],Z2(a)),n}function W3(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],iF(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],K2(i)),e}function Qd(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],W2(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&x(e,["safetyAttributes"],J2(i));const a=g(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function K3(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["mask"],W2(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function J3(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],OF(n)),e}function Y3(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],LF(n)),e}function X3(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const l=g(t,["enableAffectiveDialog"]);l!=null&&x(e,["enableAffectiveDialog"],l);const c=g(t,["frequencyPenalty"]);c!=null&&x(e,["frequencyPenalty"],c);const d=g(t,["logprobs"]);d!=null&&x(e,["logprobs"],d);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const p=g(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const m=g(t,["presencePenalty"]);m!=null&&x(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const w=g(t,["responseMimeType"]);w!=null&&x(e,["responseMimeType"],w);const N=g(t,["responseModalities"]);N!=null&&x(e,["responseModalities"],N);const S=g(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const y=g(t,["routingConfig"]);y!=null&&x(e,["routingConfig"],y);const E=g(t,["seed"]);E!=null&&x(e,["seed"],E);const T=g(t,["speechConfig"]);T!=null&&x(e,["speechConfig"],Y2(T));const A=g(t,["stopSequences"]);A!=null&&x(e,["stopSequences"],A);const I=g(t,["temperature"]);I!=null&&x(e,["temperature"],I);const _=g(t,["thinkingConfig"]);_!=null&&x(e,["thinkingConfig"],_);const k=g(t,["topK"]);k!=null&&x(e,["topK"],k);const M=g(t,["topP"]);if(M!=null&&x(e,["topP"],M),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Q3(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Xe(t,r)),n}function Z3(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Xe(t,r)),n}function eF(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function tF(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function nF(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rF(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=g(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function iF(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],Oi(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function W2(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],Oi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Zd(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],Oi(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function hr(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Oi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function sF(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&x(n,["_url","models_url"],$2(t,c)),r}function aF(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const l=g(e,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const c=g(e,["queryBase"]);return n!==void 0&&c!=null&&x(n,["_url","models_url"],$2(t,c)),r}function oF(t,e){const n={},r=g(e,["config"]);return r!=null&&sF(t,r,n),n}function lF(t,e){const n={},r=g(e,["config"]);return r!=null&&aF(t,r,n),n}function cF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=U2(i);Array.isArray(a)&&(a=a.map(l=>X0(l))),x(e,["models"],a)}return e}function uF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=U2(i);Array.isArray(a)&&(a=a.map(l=>Q0(l))),x(e,["models"],a)}return e}function dF(t){const e={},n=g(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function X0(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const a=g(t,["version"]);a!=null&&x(e,["version"],a);const l=g(t,["_self"]);l!=null&&x(e,["tunedModelInfo"],TF(l));const c=g(t,["inputTokenLimit"]);c!=null&&x(e,["inputTokenLimit"],c);const d=g(t,["outputTokenLimit"]);d!=null&&x(e,["outputTokenLimit"],d);const f=g(t,["supportedGenerationMethods"]);f!=null&&x(e,["supportedActions"],f);const p=g(t,["temperature"]);p!=null&&x(e,["temperature"],p);const m=g(t,["maxTemperature"]);m!=null&&x(e,["maxTemperature"],m);const v=g(t,["topP"]);v!=null&&x(e,["topP"],v);const w=g(t,["topK"]);w!=null&&x(e,["topK"],w);const N=g(t,["thinking"]);return N!=null&&x(e,["thinking"],N),e}function Q0(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const a=g(t,["versionId"]);a!=null&&x(e,["version"],a);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>E3(v))),x(e,["endpoints"],m)}const c=g(t,["labels"]);c!=null&&x(e,["labels"],c);const d=g(t,["_self"]);d!=null&&x(e,["tunedModelInfo"],AF(d));const f=g(t,["defaultCheckpointId"]);f!=null&&x(e,["defaultCheckpointId"],f);const p=g(t,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>v)),x(e,["checkpoints"],m)}return e}function fF(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],C3(a));const l=g(t,["functionCall"]);l!=null&&x(e,["functionCall"],_3(l));const c=g(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&x(e,["inlineData"],X5(d));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const p=g(t,["thought"]);p!=null&&x(e,["thought"],p);const m=g(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function pF(t){const e={},n=g(t,["productImage"]);return n!=null&&x(e,["image"],hr(n)),e}function mF(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const l=g(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const c=g(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&x(e,["parameters","safetySetting"],c);const d=g(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&x(e,["parameters","addWatermark"],f);const p=g(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&x(e,["parameters","outputOptions","compressionQuality"],m);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","enhancePrompt"],v);const w=g(t,["labels"]);return e!==void 0&&w!=null&&x(e,["labels"],w),n}function hF(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["source"]);i!=null&&vF(i,n);const a=g(e,["config"]);return a!=null&&mF(a,n),n}function gF(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qd(i))),x(e,["generatedImages"],r)}return e}function vF(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],hr(i));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>pF(c))),x(e,["instances[0]","productImages"],l)}return n}function xF(t){const e={},n=g(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],hr(n));const r=g(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=g(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],dF(a));const l=g(t,["controlImageConfig"]);l!=null&&x(e,["controlImageConfig"],i3(l));const c=g(t,["styleImageConfig"]);c!=null&&x(e,["styleImageConfig"],c);const d=g(t,["subjectImageConfig"]);return d!=null&&x(e,["subjectImageConfig"],d),e}function K2(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function J2(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function yF(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function bF(t){const e={},n=g(t,["image"]);return n!=null&&x(e,["image"],hr(n)),e}function wF(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&x(e,["parameters","maskDilation"],l);const c=g(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&x(e,["parameters","binaryColorThreshold"],c);const d=g(t,["labels"]);return e!==void 0&&d!=null&&x(e,["labels"],d),n}function SF(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["source"]);i!=null&&EF(i,n);const a=g(e,["config"]);return a!=null&&wF(a,n),n}function NF(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>K3(i))),x(e,["generatedMasks"],r)}return e}function EF(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],hr(i));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],bF(a)),n}function Y2(t){const e={},n=g(t,["voiceConfig"]);n!=null&&x(e,["voiceConfig"],n);const r=g(t,["languageCode"]);if(r!=null&&x(e,["languageCode"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function CF(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],T3(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function _F(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&x(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],eF(c));const d=g(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],tF(d));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function X2(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>A3(v))),x(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&x(e,["codeExecution"],l);const c=g(t,["enterpriseWebSearch"]);c!=null&&x(e,["enterpriseWebSearch"],c);const d=g(t,["googleMaps"]);d!=null&&x(e,["googleMaps"],d);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const p=g(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function TF(t){const e={},n=g(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function AF(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function jF(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function IF(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function PF(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","name"],Xe(t,r));const i=g(e,["config"]);return i!=null&&jF(i,n),n}function kF(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["config"]);return i!=null&&IF(i,n),n}function MF(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&x(e,["parameters","includeRaiReason"],l);const c=g(t,["outputMimeType"]);e!==void 0&&c!=null&&x(e,["parameters","outputOptions","mimeType"],c);const d=g(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","compressionQuality"],d);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],f);const p=g(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=g(t,["labels"]);e!==void 0&&m!=null&&x(e,["labels"],m);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&x(e,["parameters","sampleCount"],v);const w=g(t,["mode"]);return e!==void 0&&w!=null&&x(e,["parameters","mode"],w),n}function RF(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Xe(t,r));const i=g(e,["image"]);i!=null&&x(n,["instances[0]","image"],hr(i));const a=g(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(e,["config"]);return l!=null&&MF(l,n),n}function DF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Qd(a))),x(e,["generatedImages"],i)}return e}function OF(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Oi(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function LF(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Oi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function FF(t){const e={},n=g(t,["image"]);n!=null&&x(e,["_self"],hr(n));const r=g(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function $F(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],Zd(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function UF(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],hr(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function Q2(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],Oi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function Z2(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Oi(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qF(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function BF(t){const e={},n=g(t,["config"]);return n!=null&&qF(n,e),e}function zF(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function VF(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&zF(r,e),e}function GF(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function HF(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["customMetadata"],a)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function WF(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const l=g(t,["response"]);return l!=null&&x(e,["response"],JF(l)),e}function KF(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&HF(i,e),e}function JF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function YF(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function XF(t){const e={},n=g(t,["config"]);return n!=null&&YF(n,e),e}function QF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["fileSearchStores"],a)}return e}function eP(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),x(e,["customMetadata"],c)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&x(e,["chunkingConfig"],l),n}function ZF(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&eP(r,e),e}function e$(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t$="Content-Type",n$="X-Server-Timeout",r$="User-Agent",Z0="x-goog-api-client",i$="1.33.0",s$=`google-genai-sdk/${i$}`,a$="v1beta1",o$="v1beta";class l${constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:a$,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:o$,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&c$(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await pE(i),new K0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await pE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return fr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield Ue(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const S=JSON.parse(JSON.stringify(N.error)),y=S.status,E=S.code,T=`got status: ${y}. ${JSON.stringify(N)}`;if(E>=400&&E<600)throw new Yd({message:T,status:E})}}catch(N){if(N.name==="ApiError")throw N}l+=m;let v=-1,w=0;for(;;){v=-1,w=0;for(const y of d){const E=l.indexOf(y);E!==-1&&(v===-1||E<v)&&(v=E,w=y.length)}if(v===-1)break;const N=l.substring(0,v);l=l.substring(v+w);const S=N.trim();if(S.startsWith(c)){const y=S.substring(c.length).trim();try{const E=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new K0(E))}catch(E){throw new Error(`exception parsing stream chunk ${y}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=s$+" "+this.clientOptions.userAgentExtra;return e[r$]=n,e[Z0]=n,e[t$]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(n$,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d={file:i},f=this.getFileName(e),p=xe("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&eP(r,m);const v=await this.fetchUploadUrl(f,c,d,p,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function pE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Yd({message:i,status:n}):new Error(i)}}function c$(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const c=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u$="mcp_used/unknown";let d$=!1;function tP(t){for(const e of t)if(f$(e)||typeof e=="object"&&"inputSchema"in e)return!0;return d$}function nP(t){var e;const n=(e=t[Z0])!==null&&e!==void 0?e:"";t[Z0]=(n+` ${u$}`).trimStart()}function f$(t){return t!==null&&typeof t=="object"&&t instanceof My}function p$(t){return fr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const l=yield Ue(n.listTools({cursor:i}));for(const c of l.tools)yield yield Ue(c),a++;if(!l.nextCursor)break;i=l.nextCursor}})}class My{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new My(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,pr(p$(p))),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const m=i;l.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=p}}catch(m){n={error:m}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),G6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m$(t,e,n){const r=new L6;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class h${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=x$(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(A=>{f=A}),m=e.callbacks,v=function(){f({})},w=this.apiClient,N={onopen:v,onmessage:A=>{m$(w,m.onmessage,A)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(A){}},S=this.webSocketFactory.create(d,v$(l),N);S.connect(),await p;const T={setup:{model:Xe(this.apiClient,e.model)}};return S.send(JSON.stringify(T)),new g$(S,this.apiClient)}}class g${constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=B5(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=q5(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(da.PLAY)}pause(){this.sendPlaybackControl(da.PAUSE)}stop(){this.sendPlaybackControl(da.STOP)}resetContext(){this.sendPlaybackControl(da.RESET_CONTEXT)}close(){this.conn.close()}}function v$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function x$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y$="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function b$(t,e,n){const r=new O6;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const l=G5(a);Object.assign(r,l)}else Object.assign(r,a);e(r)}class w${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new h$(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&tP(e.config.tools)&&nP(m);const v=C$(m);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,p);else{const O=this.apiClient.getApiKey();let B="BidiGenerateContent",$="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",$="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${B}?${$}=${O}`}let w=()=>{};const N=new Promise(O=>{w=O}),S=e.callbacks,y=function(){var O;(O=S==null?void 0:S.onopen)===null||O===void 0||O.call(S),w({})},E=this.apiClient,T={onopen:y,onmessage:O=>{b$(E,S.onmessage,O)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(O){}},A=this.webSocketFactory.create(p,E$(v),T);A.connect(),await N;let I=Xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const O=this.apiClient.getProject(),B=this.apiClient.getLocation();I=`projects/${O}/locations/${B}/`+I}let _={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xu.AUDIO]}:e.config.responseModalities=[Xu.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],M=[];for(const O of k)if(this.isCallableTool(O)){const B=O;M.push(await B.tool())}else M.push(O);M.length>0&&(e.config.tools=M);const R={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=U5(this.apiClient,R):_=$5(this.apiClient,R),delete _.config,A.send(JSON.stringify(_)),new N$(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const S$={turnComplete:!0};class N${constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Wn(n.turns),e.isVertexAI()||(r=r.map(i=>Xd(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(y$)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},S$),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:V5(e)}:n={realtimeInput:z5(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function E$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function C$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mE=10;function hE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ga(l)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ga(t){return"callTool"in t&&typeof t.callTool=="function"}function _$(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ga(i)))!==null&&r!==void 0?r:!1}function gE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ga(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function vE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T$ extends Jr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_$(n)||hE(n.config))return await this.generateContentInternal(d);const f=gE(n);if(f.length>0){const S=f.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let p,m;const v=Wn(d.contents),w=(a=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:mE;let N=0;for(;N<w&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const S=p.candidates[0].content,y=[];for(const E of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(ga(E)){const A=await E.callTool(p.functionCalls);y.push(...A)}N++,m={role:"user",parts:y},d.contents=Wn(d.contents),d.contents.push(S),d.contents.push(m),vE(d.config)&&(v.push(S),v.push(m))}return vE(d.config)&&(p.automaticFunctionCallingHistory=v),p},this.generateContentStream=async n=>{var r,i,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),hE(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=gE(n);if(d.length>0){const m=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ns(Vr.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async d=>ga(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&tP(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),nP(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ga(l)){const c=l,d=await c.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,c)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:mE;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(f,p,m){return fr(this,arguments,function*(){for(var v,w,N,S,y,E;c<a;){l&&(c++,l=!1);const _=yield Ue(f.processParamsMaybeAddMcpUsage(m)),k=yield Ue(f.generateContentStreamInternal(_)),M=[],R=[];try{for(var T=!0,A=(w=void 0,pr(k)),I;I=yield Ue(A.next()),v=I.done,!v;T=!0){S=I.value,T=!1;const O=S;if(yield yield Ue(O),O.candidates&&(!((y=O.candidates[0])===null||y===void 0)&&y.content)){R.push(O.candidates[0].content);for(const B of(E=O.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(c<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(B.functionCall.name)){const $=yield Ue(p.get(B.functionCall.name).callTool([B.functionCall]));M.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(O){w={error:O}}finally{try{!T&&!v&&(N=A.return)&&(yield Ue(N.call(A)))}finally{if(w)throw w.error}}if(M.length>0){l=!0;const O=new $o;O.candidates=[{content:{role:"user",parts:M}}],yield yield Ue(O);const B=[];B.push(...R),B.push({role:"user",parts:M});const $=Wn(m.contents).concat(B);m.contents=$}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=uE(this.apiClient,e);return c=xe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=fE(p),v=new $o;return Object.assign(v,m),v})}else{const f=cE(this.apiClient,e);return c=xe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=dE(p),v=new $o;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=uE(this.apiClient,e);return c=xe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return fr(this,arguments,function*(){var v,w,N,S;try{for(var y=!0,E=pr(m),T;T=yield Ue(E.next()),v=T.done,!v;y=!0){S=T.value,y=!1;const A=S,I=fE(yield Ue(A.json()));I.sdkHttpResponse={headers:A.headers};const _=new $o;Object.assign(_,I),yield yield Ue(_)}}catch(A){w={error:A}}finally{try{!y&&!v&&(N=E.return)&&(yield Ue(N.call(E)))}finally{if(w)throw w.error}}})})}else{const f=cE(this.apiClient,e);return c=xe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return fr(this,arguments,function*(){var v,w,N,S;try{for(var y=!0,E=pr(m),T;T=yield Ue(E.next()),v=T.done,!v;y=!0){S=T.value,y=!1;const A=S,I=dE(yield Ue(A.json()));I.sdkHttpResponse={headers:A.headers};const _=new $o;Object.assign(_,I),yield yield Ue(_)}}catch(A){w={error:A}}finally{try{!y&&!v&&(N=E.return)&&(yield Ue(N.call(E)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=w3(this.apiClient,e);return c=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=N3(p),v=new H1;return Object.assign(v,m),v})}else{const f=b3(this.apiClient,e);return c=xe("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=S3(p),v=new H1;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=R3(this.apiClient,e);return c=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=O3(p),v=new W1;return Object.assign(v,m),v})}else{const f=M3(this.apiClient,e);return c=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=D3(p),v=new W1;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=g3(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=v3(d),p=new C6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=RF(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=DF(d),p=new _6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=hF(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=gF(d),p=new T6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=SF(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=NF(d),p=new A6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Z3(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Q0(p))}else{const f=Q3(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>X0(p))}}async listInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=lF(this.apiClient,e);return c=xe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=uF(p),v=new K1;return Object.assign(v,m),v})}else{const f=oF(this.apiClient,e);return c=xe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=cF(p),v=new K1;return Object.assign(v,m),v})}}async update(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=kF(this.apiClient,e);return c=xe("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Q0(p))}else{const f=PF(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>X0(p))}}async delete(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=f3(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=m3(p),v=new J1;return Object.assign(v,m),v})}else{const f=d3(this.apiClient,e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=p3(p),v=new J1;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=l3(this.apiClient,e);return c=xe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=u3(p),v=new Y1;return Object.assign(v,m),v})}else{const f=o3(this.apiClient,e);return c=xe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=c3(p),v=new Y1;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=e3(this.apiClient,e);return a=xe("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=t3(d),p=new j6;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=B3(this.apiClient,e);return c=xe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const m=U3(p),v=new Qu;return Object.assign(v,m),v})}else{const f=q3(this.apiClient,e);return c=xe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const m=$3(p),v=new Qu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A$ extends Jr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=y6(e);return c=xe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=x6(e);return c=xe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=d6(e);return a=xe("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j$(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function I$(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$$(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function P$(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const l=g(e,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const c=g(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&x(n,["bidiGenerateContentSetup"],F$(t,c));const d=g(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&x(n,["fieldMask"],d),r}function k$(t,e){const n={},r=g(e,["config"]);return r!=null&&x(n,["config"],P$(t,r,n)),n}function M$(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function R$(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function D$(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function O$(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function L$(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const l=g(t,["topP"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topP"],l);const c=g(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const d=g(t,["maxOutputTokens"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","maxOutputTokens"],d);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const p=g(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","speechConfig"],ky(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const w=g(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=g(t,["systemInstruction"]);e!==void 0&&N!=null&&x(e,["setup","systemInstruction"],I$(an(N)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let k=za(S);Array.isArray(k)&&(k=k.map(M=>q$(Ba(M)))),x(e,["setup","tools"],k)}const y=g(t,["sessionResumption"]);e!==void 0&&y!=null&&x(e,["setup","sessionResumption"],U$(y));const E=g(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&x(e,["setup","inputAudioTranscription"],E);const T=g(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","outputAudioTranscription"],T);const A=g(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&x(e,["setup","realtimeInputConfig"],A);const I=g(t,["contextWindowCompression"]);e!==void 0&&I!=null&&x(e,["setup","contextWindowCompression"],I);const _=g(t,["proactivity"]);if(e!==void 0&&_!=null&&x(e,["setup","proactivity"],_),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function F$(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Xe(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],L$(i,n)),n}function $$(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],M$(a));const l=g(t,["functionCall"]);l!=null&&x(e,["functionCall"],R$(l));const c=g(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const d=g(t,["inlineData"]);d!=null&&x(e,["inlineData"],j$(d));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const p=g(t,["thought"]);p!=null&&x(e,["thought"],p);const m=g(t,["thoughtSignature"]);m!=null&&x(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function U$(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q$(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(e,["functionDeclarations"],p)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const l=g(t,["codeExecution"]);if(l!=null&&x(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],D$(c));const d=g(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],O$(d));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B$(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function z$(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=B$(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class V$ extends Jr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=k$(this.apiClient,e);a=xe("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=z$(c,e.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G$(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function H$(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&G$(r,e),e}function W$(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function K$(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function J$(t){const e={},n=g(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&K$(r,e),e}function Y$(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X$ extends Jr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ns(Vr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=W$(e);return a=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=H$(e);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=J$(e);return a=xe("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Y$(d),p=new I6;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q$ extends Jr{constructor(e,n=new X$(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ns(Vr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=BF(e);return a=xe("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GF(e);return a=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=VF(e);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XF(e);return a=xe("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=QF(d),p=new P6;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZF(e);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=e$(d),p=new k6;return Object.assign(p,f),p})}}async importFile(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KF(e);return a=xe("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=WF(d),p=new Ty;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rP=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return rP=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Z$=()=>rP();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ex(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const tx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn extends Error{}class pn extends Jn{constructor(e,n,r,i){super(`${pn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ef({message:r,cause:tx(n)});const a=n;return e===400?new sP(e,a,r,i):e===401?new aP(e,a,r,i):e===403?new oP(e,a,r,i):e===404?new lP(e,a,r,i):e===409?new cP(e,a,r,i):e===422?new uP(e,a,r,i):e===429?new dP(e,a,r,i):e>=500?new fP(e,a,r,i):new pn(e,a,r,i)}}class nx extends pn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ef extends pn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class iP extends ef{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sP extends pn{}class aP extends pn{}class oP extends pn{}class lP extends pn{}class cP extends pn{}class uP extends pn{}class dP extends pn{}class fP extends pn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eU=/^[a-z][a-z0-9+.-]*:/i,tU=t=>eU.test(t);let rx=t=>(rx=Array.isArray,rx(t));const nU=rx;let rU=nU;const xE=rU;function iU(t){if(!t)return!0;for(const e in t)return!1;return!0}function sU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const aU=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jn(`${t} must be an integer`);if(e<0)throw new Jn(`${t} must be a positive integer`);return e},oU=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lU=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uU=()=>{var t,e,n,r,i;const a=cU();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":bE(Deno.build.os),"X-Stainless-Arch":yE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":bE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":yE((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=dU();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function dU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${a}.${l}`}}}return null}const yE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Tu;const fU=()=>Tu??(Tu=uU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function pP(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function mU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return pP({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function mP(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hP=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Om(t,e,n){return hP(),new File(t,e??"unknown_file",n)}function vU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const xU=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gP=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",yU=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&gP(t),bU=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function wU(t,e,n){if(hP(),t=await t,yU(t))return t instanceof File?t:Om([await t.arrayBuffer()],t.name);if(bU(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Om(await ix(i),e,n)}const r=await ix(t);if(e||(e=vU(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Om(r,e,n)}async function ix(t){var e,n,r,i,a;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(gP(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(xU(t))try{for(var c=!0,d=pr(t),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const p=i;l.push(...await ix(p))}}catch(p){n={error:p}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const p=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${SU(t)}`)}return l}function SU(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vP{constructor(e){this._client=e}}vP._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xP(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wE=Object.freeze(Object.create(null)),NU=(t=xP)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((p,m,v)=>{var w,N,S;/[?#]/.test(m)&&(i=!0);const y=r[v];let E=(i?encodeURIComponent:t)(""+y);return v!==r.length&&(y==null||typeof y=="object"&&y.toString===((S=Object.getPrototypeOf((N=Object.getPrototypeOf((w=y.hasOwnProperty)!==null&&w!==void 0?w:wE))!==null&&N!==void 0?N:wE))===null||S===void 0?void 0:S.toString))&&(E=y+"",a.push({start:p.length+m.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),p+m+(v===r.length?"":E)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((p,m)=>p.start-m.start),a.length>0){let p=0;const m=a.reduce((v,w)=>{const N=" ".repeat(w.start-p),S="^".repeat(w.length);return p=w.start+w.length,v+N+S},"");throw new Jn(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),Au=NU(xP);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yP extends vP{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=ed(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Au`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Au`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Au`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=ed(a,["api_version"]);return this._client.get(Au`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yP._key=Object.freeze(["interactions"]);class bP extends yP{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EU(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ju;function Ry(t){let e;return(ju??(e=new globalThis.TextEncoder,ju=e.encode.bind(e)))(t)}let Iu;function SE(t){let e;return(Iu??(e=new globalThis.TextDecoder,Iu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ry(e):e;this.buffer=EU([this.buffer,n]);const r=[];let i;for(;(i=CU(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(SE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=SE(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}tf.NEWLINE_CHARS=new Set([`
`,"\r"]);tf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CU(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function _U(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const td={off:0,error:200,warn:300,info:400,debug:500},NE=(t,e,n)=>{if(t){if(sU(td,t))return t;dn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(td))}`)}};function Jo(){}function Pu(t,e,n){return!e||td[t]>td[n]?Jo:e[t].bind(e)}const TU={error:Jo,warn:Jo,info:Jo,debug:Jo};let EE=new WeakMap;function dn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return TU;const i=EE.get(n);if(i&&i[0]===r)return i[1];const a={error:Pu("error",n,r),warn:Pu("warn",n,r),info:Pu("info",n,r),debug:Pu("debug",n,r)};return EE.set(n,[r,a]),a}const ss=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fa{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?dn(r):console;function l(){return fr(this,arguments,function*(){var d,f,p,m;if(i)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var w=!0,N=pr(AU(e,n)),S;S=yield Ue(N.next()),d=S.done,!d;w=!0){m=S.value,w=!1;const y=m;if(!v)if(y.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ue(JSON.parse(y.data))}catch(E){throw a.error("Could not parse message into JSON:",y.data),a.error("From chunk:",y.raw),E}}}catch(y){f={error:y}}finally{try{!w&&!d&&(p=N.return)&&(yield Ue(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(y){if(ex(y))return yield Ue(void 0);throw y}finally{v||n.abort()}})}return new fa(l,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return fr(this,arguments,function*(){var d,f,p,m;const v=new tf,w=mP(e);try{for(var N=!0,S=pr(w),y;y=yield Ue(S.next()),d=y.done,!d;N=!0){m=y.value,N=!1;const E=m;for(const T of v.decode(E))yield yield Ue(T)}}catch(E){f={error:E}}finally{try{!N&&!d&&(p=S.return)&&(yield Ue(p.call(S)))}finally{if(f)throw f.error}}for(const E of v.flush())yield yield Ue(E)})}function l(){return fr(this,arguments,function*(){var d,f,p,m;if(i)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var w=!0,N=pr(a()),S;S=yield Ue(N.next()),d=S.done,!d;w=!0){m=S.value,w=!1;const y=m;v||y&&(yield yield Ue(JSON.parse(y)))}}catch(y){f={error:y}}finally{try{!w&&!d&&(p=N.return)&&(yield Ue(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(y){if(ex(y))return yield Ue(void 0);throw y}finally{v||n.abort()}})}return new fa(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();e.push(l),n.push(l)}return a.shift()}});return[new fa(()=>i(e),this.controller,this.client),new fa(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return pP({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=Ry(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function AU(t,e){return fr(this,arguments,function*(){var r,i,a,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const c=new IU,d=new tf,f=mP(t.body);try{for(var p=!0,m=pr(jU(f)),v;v=yield Ue(m.next()),r=v.done,!r;p=!0){l=v.value,p=!1;const w=l;for(const N of d.decode(w)){const S=c.decode(N);S&&(yield yield Ue(S))}}}catch(w){i={error:w}}finally{try{!p&&!r&&(a=m.return)&&(yield Ue(a.call(m)))}finally{if(i)throw i.error}}for(const w of d.flush()){const N=c.decode(w);N&&(yield yield Ue(N))}})}function jU(t){return fr(this,arguments,function*(){var n,r,i,a;let l=new Uint8Array;try{for(var c=!0,d=pr(t),f;f=yield Ue(d.next()),n=f.done,!n;c=!0){a=f.value,c=!1;const p=a;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Ry(p):p;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let w;for(;(w=_U(l))!==-1;)yield yield Ue(l.slice(0,w)),l=l.slice(w)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=d.return)&&(yield Ue(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ue(l))})}class IU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=PU(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function PU(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kU(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,l=await(async()=>{var c;if(e.options.stream)return dn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):fa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return dn(t).debug(`[${r}] response parsed`,ss({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dy extends Promise{constructor(e,n,r=kU){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Dy(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wP=Symbol("brand.privateNullableHeaders");function*MU(t){if(!t)return;if(wP in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():xE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=xE(r[1])?r[1]:[r[1]];let l=!1;for(const c of a)c!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const Lm=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,l]of MU(r)){const c=a.toLowerCase();i.has(c)||(e.delete(a),i.add(c)),l===null?(e.delete(a),n.add(c)):(e.append(a,l),n.delete(c))}}return{[wP]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fm=t=>{var e,n,r,i,a,l;if(typeof globalThis.process<"u")return(r=(n=(e=s6)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var SP;class nf{constructor(e){var n,r,i,a,l,c,d,f=e===void 0?{}:e,{baseURL:p=Fm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Fm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=f,w=ed(f,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:m,apiVersion:v},w),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(r=N.timeout)!==null&&r!==void 0?r:nf.DEFAULT_TIMEOUT,this.logger=(i=N.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(a=NE(N.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:NE(Fm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=N.fetchOptions,this.maxRetries=(c=N.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=N.fetch)!==null&&d!==void 0?d:pU(),this.encoder=gU,this._options=N,this.apiKey=m,this.apiVersion=v}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Lm([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Jn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${Z$()}`}makeStatusError(e,n,r,i){return pn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=tU(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return iU(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Dy(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,l;const c=await e,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:p,timeout:m}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(dn(this).debug(`[${v}] sending request`,ss({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new nx;const S=new AbortController,y=await this.fetchWithTimeout(p,f,m,S).catch(tx),E=Date.now();if(y instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new nx;const I=ex(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return dn(this).info(`[${v}] connection ${I?"timed out":"failed"} - ${A}`),dn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (${A})`,ss({retryOfRequestLogID:r,url:p,durationMs:E-N,message:y.message})),this.retryRequest(c,n,r??v);throw dn(this).info(`[${v}] connection ${I?"timed out":"failed"} - error; no more retries left`),dn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (error; no more retries left)`,ss({retryOfRequestLogID:r,url:p,durationMs:E-N,message:y.message})),I?new iP:new ef({cause:y})}const T=`[${v}${w}] ${f.method} ${p} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${E-N}ms`;if(!y.ok){const A=await this.shouldRetry(y);if(n&&A){const O=`retrying, ${n} attempts remaining`;return await hU(y.body),dn(this).info(`${T} - ${O}`),dn(this).debug(`[${v}] response error (${O})`,ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:E-N})),this.retryRequest(c,n,r??v,y.headers)}const I=A?"error; no more retries left":"error; not retryable";dn(this).info(`${T} - ${I}`);const _=await y.text().catch(O=>tx(O).message),k=oU(_),M=k?void 0:_;throw dn(this).debug(`[${v}] response error (${I})`,ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:M,durationMs:Date.now()-N})),this.makeStatusError(y.status,k,M,y.headers)}return dn(this).info(T),dn(this).debug(`[${v}] response start`,ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:E-N})),{response:y,options:c,controller:S,requestLogID:v,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:l,method:c}=a,d=ed(a,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(m.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await lU(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const l=Object.assign({},e),{method:c,path:d,query:f,defaultBaseURL:p}=l,m=this.buildURL(d,f,p);"timeout"in l&&aU("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:w}=this.buildBody({options:l}),N=await this.buildHeaders({options:e,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const l=Lm([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),fU()),await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Lm([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:mU(e)}:this.encoder({body:e,headers:r})}}nf.DEFAULT_TIMEOUT=6e4;class Gt extends nf{constructor(){super(...arguments),this.interactions=new bP(this)}}SP=Gt;Gt.GeminiNextGenAPIClient=SP;Gt.GeminiNextGenAPIClientError=Jn;Gt.APIError=pn;Gt.APIConnectionError=ef;Gt.APIConnectionTimeoutError=iP;Gt.APIUserAbortError=nx;Gt.NotFoundError=lP;Gt.ConflictError=cP;Gt.RateLimitError=dP;Gt.BadRequestError=sP;Gt.AuthenticationError=aP;Gt.InternalServerError=fP;Gt.PermissionDeniedError=oP;Gt.UnprocessableEntityError=uP;Gt.toFile=wU;Gt.Interactions=bP;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function DU(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function OU(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function LU(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function FU(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const l=g(t,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=g(t,["batchSize"]);e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","batchSize"],c);const d=g(t,["learningRate"]);if(e!==void 0&&d!=null&&x(e,["tuningTask","hyperparameters","learningRate"],d),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $U(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=g(t,["validationDataset"]);e!==void 0&&w!=null&&x(e,["supervisedTuningSpec"],CE(w))}else if(i==="PREFERENCE_TUNING"){const w=g(t,["validationDataset"]);e!==void 0&&w!=null&&x(e,["preferenceOptimizationSpec"],CE(w))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const l=g(t,["description"]);e!==void 0&&l!=null&&x(e,["description"],l);let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=g(t,["epochCount"]);e!==void 0&&w!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(c==="PREFERENCE_TUNING"){const w=g(t,["epochCount"]);e!==void 0&&w!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=g(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(d==="PREFERENCE_TUNING"){const w=g(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=g(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(f==="PREFERENCE_TUNING"){const w=g(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let p=g(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=g(t,["adapterSize"]);e!==void 0&&w!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(p==="PREFERENCE_TUNING"){const w=g(t,["adapterSize"]);e!==void 0&&w!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&x(e,["labels"],m);const v=g(t,["beta"]);return e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function UU(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&XU(a);const l=g(t,["config"]);return l!=null&&FU(l,n),n}function qU(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&QU(a,n,e);const l=g(t,["config"]);return l!=null&&$U(l,n,e),n}function BU(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function zU(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function VU(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&x(e,["_query","filter"],l),r}function GU(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const l=g(t,["filter"]);return e!==void 0&&l!=null&&x(e,["_query","filter"],l),r}function HU(t,e){const n={},r=g(t,["config"]);return r!=null&&VU(r,n),n}function WU(t,e){const n={},r=g(t,["config"]);return r!=null&&GU(r,n),n}function KU(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=g(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>NP(c))),x(n,["tuningJobs"],l)}return n}function JU(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=g(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sx(c))),x(n,["tuningJobs"],l)}return n}function YU(t,e){const n={},r=g(t,["name"]);r!=null&&x(n,["model"],r);const i=g(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function XU(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function QU(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function NP(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["state"]);a!=null&&x(n,["state"],L2(a));const l=g(t,["createTime"]);l!=null&&x(n,["createTime"],l);const c=g(t,["tuningTask","startTime"]);c!=null&&x(n,["startTime"],c);const d=g(t,["tuningTask","completeTime"]);d!=null&&x(n,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=g(t,["description"]);p!=null&&x(n,["description"],p);const m=g(t,["baseModel"]);m!=null&&x(n,["baseModel"],m);const v=g(t,["_self"]);return v!=null&&x(n,["tunedModel"],YU(v)),n}function sx(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["state"]);a!=null&&x(n,["state"],L2(a));const l=g(t,["createTime"]);l!=null&&x(n,["createTime"],l);const c=g(t,["startTime"]);c!=null&&x(n,["startTime"],c);const d=g(t,["endTime"]);d!=null&&x(n,["endTime"],d);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=g(t,["error"]);p!=null&&x(n,["error"],p);const m=g(t,["description"]);m!=null&&x(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const w=g(t,["tunedModel"]);w!=null&&x(n,["tunedModel"],w);const N=g(t,["preTunedModel"]);N!=null&&x(n,["preTunedModel"],N);const S=g(t,["supervisedTuningSpec"]);S!=null&&x(n,["supervisedTuningSpec"],S);const y=g(t,["preferenceOptimizationSpec"]);y!=null&&x(n,["preferenceOptimizationSpec"],y);const E=g(t,["tuningDataStats"]);E!=null&&x(n,["tuningDataStats"],E);const T=g(t,["encryptionSpec"]);T!=null&&x(n,["encryptionSpec"],T);const A=g(t,["partnerModelTuningSpec"]);A!=null&&x(n,["partnerModelTuningSpec"],A);const I=g(t,["customBaseModel"]);I!=null&&x(n,["customBaseModel"],I);const _=g(t,["experiment"]);_!=null&&x(n,["experiment"],_);const k=g(t,["labels"]);k!=null&&x(n,["labels"],k);const M=g(t,["outputUri"]);M!=null&&x(n,["outputUri"],M);const R=g(t,["pipelineJob"]);R!=null&&x(n,["pipelineJob"],R);const O=g(t,["serviceAccount"]);O!=null&&x(n,["serviceAccount"],O);const B=g(t,["tunedModelDisplayName"]);B!=null&&x(n,["tunedModelDisplayName"],B);const $=g(t,["veoTuningSpec"]);return $!=null&&x(n,["veoTuningSpec"],$),n}function ZU(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["metadata"]);a!=null&&x(n,["metadata"],a);const l=g(t,["done"]);l!=null&&x(n,["done"],l);const c=g(t,["error"]);return c!=null&&x(n,["error"],c),n}function CE(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eq extends Jr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Vr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:W0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=zU(e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>sx(p))}else{const f=BU(e);return c=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>NP(p))}}async listInternal(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=WU(e);return c=xe("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=JU(p),v=new X1;return Object.assign(v,m),v})}else{const f=HU(e);return c=xe("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=KU(p),v=new X1;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=DU(e);return c=xe("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=LU(p),v=new Q1;return Object.assign(v,m),v})}else{const f=RU(e);return c=xe("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=OU(p),v=new Q1;return Object.assign(v,m),v})}}async tuneInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=qU(e,e);return a=xe("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>sx(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=UU(e);return a=xe("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>ZU(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tq{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nq=1024*1024*8,rq=3,iq=1e3,sq=2,nd="x-goog-upload-status";async function aq(t,e,n){var r;const i=await EP(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[nd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function oq(t,e,n){var r;const i=await EP(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[nd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=P2(a),c=new Ay;return Object.assign(c,l),c}async function EP(t,e,n){var r,i;let a=0,l=0,c=new K0(new Response),d="upload";for(a=t.size;l<a;){const f=Math.min(nq,a-l),p=t.slice(l,l+f);l+f>=a&&(d+=", finalize");let m=0,v=iq;for(;m<rq&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[nd]));)m++,await cq(v),v=v*sq;if(l+=f,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[nd])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function lq(t){return{size:t.size,type:t.type}}function cq(t){return new Promise(e=>setTimeout(e,t))}class uq{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aq(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oq(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lq(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dq{create(e,n,r){return new fq(e,n,r)}}class fq{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _E="x-goog-api-key";class pq{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_E)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_E,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mq="gl-node/";class hq{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=c6(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new pq(this.apiKey);this.apiClient=new l$({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:mq+"web",uploader:new uq,downloader:new tq}),this.models=new T$(this.apiClient),this.live=new w$(this.apiClient,i,new dq),this.batches=new F4(this.apiClient),this.chats=new y5(this.models,this.apiClient),this.caches=new g5(this.apiClient),this.files=new j5(this.apiClient),this.operations=new A$(this.apiClient),this.authTokens=new V$(this.apiClient),this.tunings=new eq(this.apiClient),this.fileSearchStores=new Q$(this.apiClient)}}const gq=async(t,e)=>{try{return(await new hq({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:e})).text||"No response generated from AI."}catch(n){return console.error("Gemini API Error:",n),`Error interacting with AI: ${n.message||"Unknown error"}`}},W={COMPANIES:"intranet_companies",USERS:"intranet_users",SPACES:"intranet_spaces",SPACE_MEMBERS:"intranet_space_members",PAGES:"intranet_pages",PAGE_COMMENTS:"intranet_page_comments",PAGE_WIDGETS:"intranet_page_widgets",DOCUMENTS:"intranet_documents",ANNOUNCEMENTS:"intranet_announcements",ACTIVITY_LOGS:"intranet_activity_logs",NOTIFICATIONS:"intranet_notifications",NAV_QUICK_LINKS:"intranet_nav_quick_links",PAGE_VIEWS:"intranet_page_views",SESSION:"intranet_session",DEPARTMENTS:"intranet_departments",FAVORITES:"intranet_favorites",PAGE_TEMPLATES:"intranet_page_templates",READ_ACKNOWLEDGEMENTS:"intranet_read_acknowledgements",KNOWLEDGE_CATEGORIES:"intranet_knowledge_categories",KNOWLEDGE_ARTICLES:"intranet_knowledge_articles",EVENTS:"intranet_events",AI_QUERIES:"intranet_ai_queries",PAYMENT_ORDERS:"intranet_payment_orders",RAZORPAY_CONFIG:"intranet_razorpay_config",CUSTOM_DOMAINS:"intranet_custom_domains"},de=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error(`Error parsing storage for key ${t}`,e),[]}},je=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error setting storage for key ${t}`,n)}},Ye=()=>Math.random().toString(36).substr(2,9),vq=t=>de(W.CUSTOM_DOMAINS).filter(n=>n.companyId===t),xq=async(t,e)=>{const n=de(W.CUSTOM_DOMAINS);if(!e.includes("."))throw new Error("Invalid domain format");const r=`companyhub-verification-${Ye()}-${Date.now()}`,i={id:Ye(),companyId:t,domainName:e.toLowerCase(),dnsVerificationToken:r,isVerified:!1,createdOn:new Date().toISOString()};return je(W.CUSTOM_DOMAINS,[...n,i]),i},yq=async t=>{const e=de(W.CUSTOM_DOMAINS),n=e.findIndex(l=>l.id===t);if(n===-1)throw new Error("Domain not found");const r=e[n];await new Promise(l=>setTimeout(l,1500));const i=!0,a={...r,lastCheck:new Date().toISOString(),isVerified:i,verifiedOn:i?new Date().toISOString():void 0};return e[n]=a,je(W.CUSTOM_DOMAINS,e),a},bq=async t=>{const e=de(W.CUSTOM_DOMAINS);je(W.CUSTOM_DOMAINS,e.filter(n=>n.id!==t))},wq=(t,e)=>{const n=de(W.AI_QUERIES).filter(r=>r.companyId===t);return e?n.filter(r=>r.userId===e).sort((r,i)=>new Date(i.createdOn).getTime()-new Date(r.createdOn).getTime()):n.sort((r,i)=>new Date(i.createdOn).getTime()-new Date(r.createdOn).getTime())},Sq=t=>de(W.AI_QUERIES).find(e=>e.id===t),Nq=async t=>{const n=de(W.COMPANIES).find(d=>d.id===t.companyId);let r="",i=Ai.Pending,a;if(n&&n.geminiApiKey)try{r=await gq(n.geminiApiKey,t.questionText),i=Ai.Answered,a=new Date().toISOString()}catch(d){console.error("Gemini Call Failed inside MockDB",d),r="Failed to connect to AI service.",i=Ai.Error,a=new Date().toISOString()}const l=de(W.AI_QUERIES),c={...t,id:Ye(),createdOn:new Date().toISOString(),answerText:r,status:i,answeredOn:a};return je(W.AI_QUERIES,[...l,c]),c},Eq=async t=>{const e=de(W.AI_QUERIES),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.AI_QUERIES,e),t},rd=()=>{const t=localStorage.getItem(W.RAZORPAY_CONFIG);return t?JSON.parse(t):null},Cq=t=>{localStorage.setItem(W.RAZORPAY_CONFIG,JSON.stringify(t))},CP=t=>{const e=de(W.PAYMENT_ORDERS);return t?e.filter(n=>n.companyId===t).sort((n,r)=>new Date(r.createdOn).getTime()-new Date(n.createdOn).getTime()):e.sort((n,r)=>new Date(r.createdOn).getTime()-new Date(n.createdOn).getTime())},_q=async(t,e,n,r)=>{const i=de(W.PAYMENT_ORDERS),a=`order_${Ye()}_${Date.now()}`,l={id:Ye(),companyId:t,planName:e,durationMonths:n,amountInPaise:r,currency:"INR",razorpayOrderId:a,status:Cy.Created,createdOn:new Date().toISOString()};return je(W.PAYMENT_ORDERS,[...i,l]),l},Tq=async(t,e,n)=>{const r=de(W.PAYMENT_ORDERS),i=r.findIndex(d=>d.razorpayOrderId===t);if(i===-1)return!1;const a=r[i];rd(),r[i]={...a,razorpayPaymentId:e,razorpaySignature:n,status:Cy.Paid,paidOn:new Date().toISOString()},je(W.PAYMENT_ORDERS,r);const l=de(W.COMPANIES),c=l.findIndex(d=>d.id===a.companyId);if(c!==-1){const d=l[c],f=new Date,p=d.subscriptionEndDate?new Date(d.subscriptionEndDate):new Date(0),m=d.planType===a.planName,v=p>f,w=d.isSubscriptionActive,N=m&&w&&v;let S=f.toISOString(),y=new Date;if(N){S=d.subscriptionStartDate||f.toISOString();const E=new Date(d.subscriptionEndDate);E.setMonth(E.getMonth()+a.durationMonths),y=E}else{S=f.toISOString();const E=new Date;E.setMonth(E.getMonth()+a.durationMonths),y=E}l[c]={...d,planType:a.planName,subscriptionPlan:a.planName,subscriptionStartDate:S,subscriptionEndDate:y.toISOString(),isSubscriptionActive:!0,renewalStatus:"Active"},je(W.COMPANIES,l)}return!0},rf=(t,e)=>de(W.ACTIVITY_LOGS).filter(n=>n.companyId===t&&(!(e!=null&&e.entityId)||n.entityId===e.entityId)&&(!(e!=null&&e.entityType)||n.entityType===e.entityType)),Aq=(t,e,n,r)=>{const i=de(W.PAGE_VIEWS);je(W.PAGE_VIEWS,[...i,{id:Ye(),companyId:t,pageId:e,userId:n,viewedOn:new Date().toISOString(),userRoleName:r}])},jq=(t,e,n)=>({totalPageViews:0,uniquePagesViewed:0,uniqueUsers:0,topPages:[],activeUsers:[],viewsByRole:[]}),_P=t=>de(W.NOTIFICATIONS).filter(e=>e.userId===t),Iq=t=>_P(t).filter(e=>!e.isRead).length,Pq=t=>{const e=de(W.NOTIFICATIONS),n=e.findIndex(r=>r.id===t);n!==-1&&(e[n].isRead=!0,je(W.NOTIFICATIONS,e))},kq=t=>{const e=de(W.NOTIFICATIONS);e.forEach(n=>{n.userId===t&&(n.isRead=!0)}),je(W.NOTIFICATIONS,e)},id=t=>de(W.COMPANIES).find(e=>e.id===t),TP=async(t,e)=>de(W.COMPANIES).find(n=>n.id===t),dl=(t,e)=>!0,Mq=async(t,e)=>{const r=de(W.USERS).find(i=>i.email.toLowerCase()===t.toLowerCase()&&i.password===e);if(!r)throw new Error("Invalid credentials");if(r.status==="inactive")throw new Error("User account is inactive");return localStorage.setItem(W.SESSION,JSON.stringify(r)),r},Rq=async()=>(await new Promise(t=>setTimeout(t,1e3)),{email:"google_user@example.com",name:"Google Test User",picture:"https://via.placeholder.com/150"}),Dq=async t=>de(W.COMPANIES).find(e=>e.inviteCode===t&&e.isActive)||null,Oq=t=>de(W.USERS).find(e=>e.email.toLowerCase()===t.toLowerCase()),Lq=()=>localStorage.removeItem(W.SESSION),AP=()=>{try{const t=localStorage.getItem(W.SESSION);return t?JSON.parse(t):null}catch{return null}},ax=()=>de(W.COMPANIES),ji=t=>de(W.COMPANIES).find(e=>e.id===t),fl=async t=>{const e=de(W.COMPANIES),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.COMPANIES,e),t;throw new Error("Not found")},jP=async(t,e,n,r=Et.Basic,i=10)=>{const a=de(W.COMPANIES),l=de(W.USERS);if(l.some(m=>m.email.toLowerCase()===n.email.toLowerCase()))throw new Error("Email already registered");const c=new Date,d=new Date(c);d.setDate(c.getDate()+30);const f={id:Ye(),companyName:t,logoURL:e||`https://picsum.photos/seed/${Ye()}/200`,primaryAdminEmail:n.email,createdOn:c.toISOString(),showLogoInHeader:!0,homeTitle:`Welcome to ${t}`,planType:r,isActive:!0,maxUsers:i,inviteCode:Math.random().toString(36).substring(2,8).toUpperCase(),subscriptionPlan:r,subscriptionStartDate:c.toISOString(),subscriptionEndDate:d.toISOString(),isSubscriptionActive:!0,renewalStatus:"Active",primaryColor:"#dc2626",secondaryColor:"#f9fafb",accentColor:"#b91c1c"},p={...n,id:Ye(),companyId:f.id,status:"active",role:le.CompanyAdmin};return je(W.COMPANIES,[...a,f]),je(W.USERS,[...l,p]),{company:f,user:p}},Fq=t=>{const e=de(W.USERS).filter(a=>a.companyId===t),n=de(W.SPACES).filter(a=>a.companyId===t),r=de(W.PAGES).filter(a=>a.companyId===t),i=de(W.DOCUMENTS).filter(a=>a.companyId===t);return{userCount:e.length,spaceCount:n.length,pageCount:r.length,docCount:i.length,admins:e.filter(a=>a.role===le.CompanyAdmin)}},$q=()=>{if(de(W.USERS).length===0){localStorage.setItem(W.RAZORPAY_CONFIG,JSON.stringify({keyId:"rzp_test_demo_123",keySecret:"secret"}));const e=Ye(),n=Ye(),r=new Date,i=new Date(r);i.setDate(r.getDate()+30);const a={id:e,companyName:"Demo Corp",logoURL:"",primaryAdminEmail:"admin@demo.com",createdOn:r.toISOString(),primaryColor:"#dc2626",secondaryColor:"#f9fafb",accentColor:"#b91c1c",homeTitle:"Welcome to Demo Corp Portal",showLogoInHeader:!1,planType:Et.Basic,isActive:!0,maxUsers:50,inviteCode:"DEMO123",subscriptionPlan:Et.Basic,subscriptionStartDate:r.toISOString(),subscriptionEndDate:i.toISOString(),isSubscriptionActive:!0,renewalStatus:"Active"},l={id:n,fullName:"Demo Admin",email:"admin@demo.com",password:"password",designation:"System Administrator",department:"IT",status:"active",companyId:e,role:le.CompanyAdmin},c=Ye(),d=Ye(),f={id:c,companyName:"Platform Admin",logoURL:"",primaryAdminEmail:"super@platform.com",createdOn:r.toISOString(),planType:Et.Pro,isActive:!0,notes:"Super Admin",subscriptionPlan:Et.Pro,subscriptionStartDate:r.toISOString(),subscriptionEndDate:i.toISOString(),isSubscriptionActive:!0,renewalStatus:"Active"},p={id:d,fullName:"Super Admin",email:"super@platform.com",password:"password",designation:"Platform Administrator",department:"Operations",status:"active",companyId:c,role:le.SuperAdmin};je(W.COMPANIES,[a,f]),je(W.USERS,[l,p]),je(W.DEPARTMENTS,[{id:Ye(),companyId:e,name:"IT",isActive:!0,createdOn:r.toISOString()}]);const m=Ye();je(W.SPACES,[{id:m,spaceName:"General",description:"Main",companyId:e,createdBy:n,createdAt:r.toISOString()}]),je(W.SPACE_MEMBERS,[{id:Ye(),spaceId:m,userId:n,roleInSpace:qe.SpaceManager,isActive:!0,createdOn:r.toISOString()}])}},ec=t=>de(W.DEPARTMENTS).filter(e=>e.companyId===t),TE=t=>de(W.DEPARTMENTS).find(e=>e.id===t),Uq=async t=>{const e=de(W.DEPARTMENTS),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.DEPARTMENTS,[...e,n]),n},AE=async t=>{const e=de(W.DEPARTMENTS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.DEPARTMENTS,e),t;throw new Error("Not found")},qq=async t=>{const e=de(W.DEPARTMENTS),n=e.findIndex(r=>r.id===t);n!==-1&&(e[n].isActive=!1,je(W.DEPARTMENTS,e))},Li=t=>de(W.USERS).filter(e=>e.companyId===t),Xt=t=>de(W.USERS).find(e=>e.id===t),IP=async t=>{const e=de(W.USERS),n={...t,id:Ye()};return je(W.USERS,[...e,n]),n},Oy=async t=>{var r;const e=de(W.USERS),n=e.findIndex(i=>i.id===t.id);if(n!==-1)return e[n]=t,je(W.USERS,e),((r=AP())==null?void 0:r.id)===t.id&&localStorage.setItem(W.SESSION,JSON.stringify(t)),t;throw new Error("Not found")},Bq=async(t,e)=>{const n=de(W.USERS);je(W.USERS,n.filter(r=>r.id!==t))},Fi=t=>de(W.SPACES).filter(e=>e.companyId===t),Yn=(t,e)=>{const n=Fi(t),r=Xt(e);if((r==null?void 0:r.role)===le.CompanyAdmin)return n;const i=de(W.SPACE_MEMBERS),a=new Set(i.filter(l=>l.userId===e&&l.isActive).map(l=>l.spaceId));return n.filter(l=>a.has(l.id))},Xn=t=>de(W.SPACES).find(e=>e.id===t),zq=async t=>{const e=de(W.SPACES),n={...t,id:Ye()};return je(W.SPACES,[...e,n]),n},Vq=async t=>{const e=de(W.SPACES),n=e.findIndex(r=>r.id===t.id);return n!==-1&&(e[n]=t,je(W.SPACES,e)),t},Gq=async t=>{const e=de(W.SPACES);je(W.SPACES,e.filter(n=>n.id!==t))},Hq=t=>de(W.SPACE_MEMBERS).filter(e=>e.spaceId===t),va=t=>de(W.SPACE_MEMBERS).filter(e=>e.userId===t&&e.isActive),tc=(t,e)=>!0,at=(t,e)=>qe.Member,PP=async t=>{const e=de(W.SPACE_MEMBERS),n={...t,id:Ye()};return je(W.SPACE_MEMBERS,[...e,n]),n},el=async t=>{const e=de(W.SPACE_MEMBERS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.SPACE_MEMBERS,e),t;throw new Error("Not found")},Xr=t=>de(W.PAGES).filter(e=>e.companyId===t),Es=t=>de(W.PAGES).find(e=>e.id===t),kP=async t=>{const e=de(W.PAGES),n={...t,id:Ye(),createdOn:new Date().toISOString(),updatedOn:new Date().toISOString()};return je(W.PAGES,[...e,n]),n},Wq=async(t,e)=>{const n=de(W.PAGES),r=n.findIndex(i=>i.id===t.id);if(r!==-1)return n[r]={...t,updatedOn:new Date().toISOString()},je(W.PAGES,n),n[r];throw new Error("Not found")},Kq=t=>de(W.PAGE_COMMENTS).filter(e=>e.pageId===t),Jq=async t=>{const e=de(W.PAGE_COMMENTS),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.PAGE_COMMENTS,[...e,n]),n},Yq=async(t,e)=>{const n=de(W.PAGE_COMMENTS),r=n.findIndex(i=>i.id===t);r!==-1&&(n[r].commentText=e,je(W.PAGE_COMMENTS,n))},Xq=async t=>{const e=de(W.PAGE_COMMENTS);je(W.PAGE_COMMENTS,e.filter(n=>n.id!==t))},Qq=t=>de(W.PAGE_WIDGETS).filter(e=>e.pageId===t),Zq=t=>de(W.PAGE_WIDGETS).find(e=>e.id===t),eB=async t=>{const e=de(W.PAGE_WIDGETS),n={...t,id:Ye()};return je(W.PAGE_WIDGETS,[...e,n]),n},tB=async(t,e)=>{const n=de(W.PAGE_WIDGETS),r=n.findIndex(i=>i.id===t.id);if(r!==-1)return n[r]=t,je(W.PAGE_WIDGETS,n),t;throw new Error("Not found")},nB=async t=>{const e=de(W.PAGE_WIDGETS);je(W.PAGE_WIDGETS,e.filter(n=>n.id!==t))},Cs=t=>de(W.DOCUMENTS).filter(e=>e.companyId===t),nc=t=>de(W.DOCUMENTS).find(e=>e.id===t),rB=async t=>{const e=de(W.DOCUMENTS),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.DOCUMENTS,[...e,n]),n},iB=async t=>{const e=de(W.DOCUMENTS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.DOCUMENTS,e),t;throw new Error("Not found")},sf=t=>de(W.ANNOUNCEMENTS).filter(e=>e.companyId===t),MP=t=>de(W.ANNOUNCEMENTS).find(e=>e.id===t),sB=async t=>{const e=de(W.ANNOUNCEMENTS),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.ANNOUNCEMENTS,[...e,n]),n},aB=async t=>{const e=de(W.ANNOUNCEMENTS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.ANNOUNCEMENTS,e),t;throw new Error("Not found")},RP=t=>de(W.NAV_QUICK_LINKS).filter(e=>e.companyId===t),oB=t=>de(W.NAV_QUICK_LINKS).find(e=>e.id===t),lB=async t=>{const e=de(W.NAV_QUICK_LINKS),n={...t,id:Ye()};return je(W.NAV_QUICK_LINKS,[...e,n]),n},cB=async t=>{const e=de(W.NAV_QUICK_LINKS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.NAV_QUICK_LINKS,e),t;throw new Error("Not found")},uB=async t=>{const e=de(W.NAV_QUICK_LINKS);je(W.NAV_QUICK_LINKS,e.filter(n=>n.id!==t))},DP=t=>de(W.FAVORITES).filter(e=>e.userId===t&&e.isActive),Ly=(t,e,n)=>de(W.FAVORITES).some(r=>r.userId===t&&r.entityType===e&&r.entityId===n&&r.isActive),af=async(t,e,n,r)=>{const i=de(W.FAVORITES),a=i.find(c=>c.userId===e&&c.entityType===n&&c.entityId===r);if(a)return a.isActive=!a.isActive,je(W.FAVORITES,i),a.isActive;const l={id:Ye(),companyId:t,userId:e,entityType:n,entityId:r,isActive:!0,createdOn:new Date().toISOString()};return je(W.FAVORITES,[...i,l]),!0},OP=(t,e,n)=>de(W.READ_ACKNOWLEDGEMENTS).find(r=>r.userId===t&&r.entityType===e&&r.entityId===n),LP=async t=>{const e=de(W.READ_ACKNOWLEDGEMENTS),n={...t,id:Ye(),acknowledgedOn:new Date().toISOString()};return je(W.READ_ACKNOWLEDGEMENTS,[...e,n]),n},dB=(t,e)=>de(W.READ_ACKNOWLEDGEMENTS).filter(n=>n.entityId===t&&n.entityType===e),FP=t=>de(W.PAGE_TEMPLATES).filter(e=>e.companyId===t),jE=t=>de(W.PAGE_TEMPLATES).find(e=>e.id===t),fB=async t=>{const e=de(W.PAGE_TEMPLATES),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.PAGE_TEMPLATES,[...e,n]),n},IE=async t=>{const e=de(W.PAGE_TEMPLATES),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.PAGE_TEMPLATES,e),t;throw new Error("Not found")},pB=async t=>{const e=de(W.PAGE_TEMPLATES);je(W.PAGE_TEMPLATES,e.filter(n=>n.id!==t))},of=t=>de(W.KNOWLEDGE_CATEGORIES).filter(e=>e.companyId===t),PE=t=>de(W.KNOWLEDGE_CATEGORIES).find(e=>e.id===t),mB=async t=>{const e=de(W.KNOWLEDGE_CATEGORIES),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.KNOWLEDGE_CATEGORIES,[...e,n]),n},$P=async t=>{const e=de(W.KNOWLEDGE_CATEGORIES),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.KNOWLEDGE_CATEGORIES,e),t;throw new Error("Not found")},sd=t=>de(W.KNOWLEDGE_ARTICLES).filter(e=>e.companyId===t),ox=t=>de(W.KNOWLEDGE_ARTICLES).find(e=>e.id===t),hB=t=>de(W.KNOWLEDGE_ARTICLES).filter(e=>e.relatedPageId===t),gB=async t=>{const e=de(W.KNOWLEDGE_ARTICLES),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.KNOWLEDGE_ARTICLES,[...e,n]),n},UP=async t=>{const e=de(W.KNOWLEDGE_ARTICLES),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.KNOWLEDGE_ARTICLES,e),t;throw new Error("Not found")},Fy=t=>de(W.EVENTS).filter(e=>e.companyId===t),lx=t=>de(W.EVENTS).find(e=>e.id===t),vB=async t=>{const e=de(W.EVENTS),n={...t,id:Ye(),createdOn:new Date().toISOString()};return je(W.EVENTS,[...e,n]),n},qP=async t=>{const e=de(W.EVENTS),n=e.findIndex(r=>r.id===t.id);if(n!==-1)return e[n]=t,je(W.EVENTS,e),t;throw new Error("Not found")};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:d,...f},p)=>P.createElement("svg",{ref:p,...xB,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${yB(t)}`,c].join(" "),...f},[...e.map(([m,v])=>P.createElement(m,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ve("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=ve("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ve("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ve("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ve("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ve("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ve("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=ve("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ve("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ve("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ve("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=ve("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ve("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ve("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ve("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),VB=({user:t,realRole:e,previewMode:n,onTogglePreview:r,onLogout:i,onUserUpdate:a})=>{const l=Di(),c=ze(),[d,f]=P.useState(""),[p,m]=P.useState(0),[v,w]=P.useState(void 0),[N,S]=P.useState(!1),[y,E]=P.useState(!1),[T,A]=P.useState(!1);P.useEffect(()=>{const q=()=>{m(Iq(t.id))};q();const ee=setInterval(q,5e3),X=ji(t.companyId);return w(X),()=>clearInterval(ee)},[t.id,t.companyId]);const I=()=>{Lq(),i(),c("/login")},_=q=>{q.preventDefault(),d.trim()&&(c(`/search?q=${encodeURIComponent(d)}`),S(!1))},k=async q=>{const ee=q.target.value;try{const X=await Oy({...t,themePreference:ee});a&&a(X)}catch(X){console.error("Failed to update theme",X)}},M=q=>l.pathname===q||l.pathname.startsWith(q+"/"),R=(v==null?void 0:v.primaryColor)||"#ffffff",O=!!(v!=null&&v.primaryColor),B=!O||R==="#ffffff"||R==="#f8fafc",$=O?{backgroundColor:R}:{},F=O&&!B?"text-white/90 hover:text-white":"text-slate-600 hover:text-slate-900",L=O&&!B?"bg-white/20 text-white":"bg-blue-50 text-blue-700",z=({path:q,label:ee})=>s.jsx(ie,{to:q,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${M(q)?L:F}`,children:ee}),J=e===le.CompanyAdmin;return s.jsxs("nav",{className:`border-b border-slate-200 sticky top-0 z-40 ${O?"":"bg-white"}`,style:$,children:[s.jsx("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs(ie,{to:"/",className:"flex items-center gap-3 mr-8",children:[v!=null&&v.logoURL?s.jsx("img",{src:v.logoURL,alt:"Logo",className:"h-8 w-auto object-contain rounded"}):s.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded flex items-center justify-center text-white font-bold",children:"I"}),s.jsx("span",{className:`text-lg font-bold ${O&&!B?"text-white":"text-slate-900"}`,children:(v==null?void 0:v.companyName)||"Intranet"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1 overflow-x-auto",children:[s.jsx(z,{path:"/",label:"Home"}),s.jsx(z,{path:"/spaces",label:"Spaces"}),s.jsx(z,{path:"/pages",label:"Pages"}),s.jsx(z,{path:"/documents",label:"Documents"}),s.jsx(z,{path:"/events",label:"Events"}),s.jsx(z,{path:"/directory",label:"People"}),s.jsx(z,{path:"/help",label:"KB"}),s.jsx(z,{path:"/workspace",label:"Workspace"}),s.jsx(z,{path:"/ai-assistant",label:"AI"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("form",{onSubmit:_,className:"relative hidden md:block",children:[s.jsx("input",{type:"text",placeholder:"Search...",className:"pl-9 pr-4 py-1.5 bg-slate-100/50 border-transparent focus:bg-white border focus:border-blue-500 rounded-full text-sm w-32 lg:w-48 transition-all outline-none",value:d,onChange:q=>f(q.target.value)}),s.jsx(Rn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"})]}),t.role===le.CompanyAdmin&&s.jsxs("div",{className:"relative hidden md:block",children:[s.jsxs("button",{onClick:()=>E(!y),className:`flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${F}`,children:["Admin ",s.jsx(VP,{size:14})]}),y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>E(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-slate-100 py-2 z-20 text-slate-700 animate-fade-in",children:[s.jsxs(ie,{to:"/dashboard",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(CB,{size:16})," Stats Dashboard"]}),s.jsxs(ie,{to:"/users",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(ys,{size:16})," User Management"]}),s.jsxs(ie,{to:"/departments",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(rc,{size:16})," Departments"]}),s.jsxs(ie,{to:"/policies",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(OB,{size:16})," Policy Dashboard"]}),s.jsxs(ie,{to:"/templates",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(HP,{size:16})," Page Templates"]}),s.jsxs(ie,{to:"/acknowledgements",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(SB,{size:16})," Acknowledgements"]}),s.jsxs(ie,{to:"/admin/knowledge-categories",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(BP,{size:16})," KB Admin"]}),s.jsxs(ie,{to:"/analytics",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(bB,{size:16})," Usage Analytics"]}),s.jsx("div",{className:"h-px bg-slate-100 my-1"}),s.jsxs(ie,{to:"/billing",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2 text-blue-600",onClick:()=>E(!1),children:[s.jsx(WP,{size:16})," Billing & Subscription"]}),s.jsxs(ie,{to:"/settings",className:"block px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2",onClick:()=>E(!1),children:[s.jsx(ek,{size:16})," Settings"]})]})]})]}),t.role===le.SuperAdmin&&s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsx(ie,{to:"/super-admin/companies",className:`text-sm font-medium px-3 py-2 rounded-md ${F}`,children:"Companies"}),s.jsx(ie,{to:"/super-admin/billing",className:`text-sm font-medium px-3 py-2 rounded-md ${F}`,children:"Billing Control"})]}),s.jsxs(ie,{to:"/notifications",className:`relative p-2 rounded-full transition-colors ${F}`,children:[s.jsx(vs,{size:20}),p>0&&s.jsx("span",{className:"absolute top-1 right-1 h-2.5 w-2.5 bg-red-500 rounded-full border border-white"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>A(!T),className:"flex items-center gap-2 focus:outline-none",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center overflow-hidden border border-slate-300/50",children:s.jsx(js,{size:20,className:"text-slate-500"})})}),T&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>A(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-slate-100 py-2 z-20 text-slate-700 animate-fade-in",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-slate-100 mb-1",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:t.fullName}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.email})]}),J&&s.jsx("button",{onClick:()=>{r&&r(),A(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2 border-b border-slate-100",children:n?s.jsxs(s.Fragment,{children:[s.jsx(KP,{size:16,className:"text-slate-500"}),s.jsx("span",{children:"Exit Preview"})]}):s.jsxs(s.Fragment,{children:[s.jsx(As,{size:16,className:"text-slate-500"}),s.jsx("span",{children:"Preview as Employee"})]})}),s.jsxs("div",{className:"px-4 py-2 border-b border-slate-100",children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[s.jsx(IB,{size:10})," Theme"]}),s.jsxs("select",{value:t.themePreference||"System",onChange:k,className:"w-full text-xs border-slate-200 bg-slate-50 rounded p-1 outline-none focus:ring-1 focus:ring-blue-500 text-slate-700",children:[s.jsx("option",{value:Ei.System,children:"System"}),s.jsx("option",{value:Ei.Light,children:"Light"}),s.jsx("option",{value:Ei.Dark,children:"Dark"})]})]}),s.jsx(ie,{to:"/workspace",className:"block px-4 py-2 text-sm hover:bg-slate-50",onClick:()=>A(!1),children:"My Workspace"}),s.jsx(ie,{to:"/profile/edit",className:"block px-4 py-2 text-sm hover:bg-slate-50",onClick:()=>A(!1),children:"Edit Profile"}),s.jsxs("button",{onClick:I,className:"w-full text-left px-4 py-2 text-sm hover:bg-slate-50 text-red-600 flex items-center gap-2",children:[s.jsx(_B,{size:14})," Logout"]})]})]})]}),s.jsx("button",{onClick:()=>S(!N),className:`md:hidden p-2 ${F}`,children:N?s.jsx(Is,{size:24}):s.jsx(AB,{size:24})})]})]})}),N&&s.jsxs("div",{className:"md:hidden bg-white border-t border-slate-200 py-4 px-4 space-y-3 shadow-lg absolute w-full z-50",children:[s.jsxs("form",{onSubmit:_,className:"relative mb-4",children:[s.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:q=>f(q.target.value)}),s.jsx(Rn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"})]}),s.jsx(ie,{to:"/",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Home"}),s.jsx(ie,{to:"/spaces",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Spaces"}),s.jsx(ie,{to:"/pages",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Pages"}),s.jsx(ie,{to:"/documents",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Documents"}),s.jsx(ie,{to:"/events",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Events"}),s.jsx(ie,{to:"/directory",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"People"}),s.jsx(ie,{to:"/help",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Knowledge Base"}),s.jsx(ie,{to:"/workspace",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"My Workspace"}),s.jsx(ie,{to:"/ai-assistant",className:"block py-2 text-slate-700 font-medium hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"AI Assistant"}),t.role===le.CompanyAdmin&&s.jsxs("div",{className:"pt-2 border-t border-slate-100 mt-2",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2 px-2",children:"Admin"}),s.jsx(ie,{to:"/dashboard",className:"block py-2 text-slate-700 text-sm hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Dashboard"}),s.jsx(ie,{to:"/billing",className:"block py-2 text-slate-700 text-sm hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Billing & Subscription"}),s.jsx(ie,{to:"/settings",className:"block py-2 text-slate-700 text-sm hover:bg-slate-50 rounded px-2",onClick:()=>S(!1),children:"Settings"})]})]})]})},se=({children:t,variant:e="primary",size:n="md",isLoading:r,className:i="",disabled:a,...l})=>{const c="rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 focus:ring-slate-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return s.jsx("button",{className:`${c} ${d[e]} ${f[n]} ${i}`,disabled:a||r,...l,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r&&s.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})})},Ae=({label:t,error:e,className:n="",...r})=>s.jsxs("div",{className:"w-full",children:[t&&s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),s.jsx("input",{className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow ${e?"border-red-500 focus:ring-red-500":"border-slate-300"} ${n}`,...r}),e&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:e})]}),$m=[{id:1,title:"Central hub for all departments",text:"Create Spaces for HR, Sales, Operations and more in one intranet.",icon:ys},{id:2,title:"Share pages, documents and policies",text:"Publish important information once and keep everyone aligned.",icon:Qn},{id:3,title:"Stay updated with announcements & events",text:"Company-wide news, events and updates in a single dashboard.",icon:vs},{id:4,title:"Scale from small teams to large companies",text:"Start simple and grow into advanced workflows with CompanyHub Pro.",icon:UB}],GB=({onLogin:t})=>{const[e,n]=P.useState(""),[r,i]=P.useState(""),[a,l]=P.useState(""),[c,d]=P.useState(!1),[f,p]=P.useState(!1),[m,v]=P.useState(0),w=ze();P.useEffect(()=>{const y=setInterval(()=>{v(E=>(E+1)%$m.length)},6e3);return()=>clearInterval(y)},[]);const N=async y=>{y.preventDefault(),l(""),d(!0);try{await new Promise(T=>setTimeout(T,500));const E=await Mq(e,r);t(E),w("/")}catch(E){l(E.message)}finally{d(!1)}},S=async()=>{p(!0),l("");try{const y=await Rq(),E=Oq(y.email);E?(localStorage.setItem("intranet_session",JSON.stringify(E)),t(E),w("/")):w("/google-signup",{state:{profile:y}})}catch{l("Google Sign In failed. Please try again.")}finally{p(!1)}};return s.jsxs("div",{className:"min-h-screen flex bg-white",children:[s.jsxs("div",{className:"w-full md:w-[40%] flex flex-col justify-center px-8 sm:px-12 lg:px-20 py-12 bg-white relative z-10",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[s.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:s.jsx(rc,{size:24})}),s.jsx("span",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"CompanyHub"})]}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Your Companys Internal Workspace"})]}),s.jsxs("div",{className:"w-full max-w-sm mx-auto md:mx-0",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Sign in to CompanyHub"}),s.jsx("p",{className:"text-slate-500",children:"Welcome back! Please enter your details."})]}),a&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 text-sm rounded-xl border border-red-100 flex items-start gap-2",children:[s.jsx("span",{className:"font-bold",children:"Error:"})," ",a]}),s.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl border border-slate-100 text-xs text-slate-500 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Admin:"})," admin@demo.com / password"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Super Admin:"})," super@platform.com / password"]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s.jsx(Ae,{label:"Email",type:"email",required:!0,value:e,onChange:y=>n(y.target.value),placeholder:"name@company.com",className:"h-11"}),s.jsxs("div",{children:[s.jsx(Ae,{label:"Password",type:"password",required:!0,value:r,onChange:y=>i(y.target.value),placeholder:"",className:"h-11"}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsx("button",{type:"button",className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Forgot password?"})})]}),s.jsx(se,{type:"submit",className:"w-full h-11 text-base bg-red-600 hover:bg-red-700 focus:ring-red-500",isLoading:c,children:"Login"})]}),s.jsxs("div",{className:"relative my-8",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-slate-500",children:"or"})})]}),s.jsxs("button",{onClick:S,disabled:f,className:"w-full h-11 flex items-center justify-center gap-3 bg-white border border-slate-300 text-slate-700 font-medium rounded-lg hover:bg-slate-50 transition-all focus:outline-none focus:ring-2 focus:ring-slate-200 disabled:opacity-70",children:[f?s.jsx("span",{className:"w-5 h-5 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}):s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),s.jsxs("div",{className:"mt-8 text-center text-sm text-slate-500",children:["Don't have an account?"," ",s.jsx(ie,{to:"/signup",className:"text-red-600 font-semibold hover:underline",children:"Register your company"})]})]})]}),s.jsxs("div",{className:"hidden md:flex md:w-[60%] bg-gradient-to-br from-red-50 to-slate-50 relative overflow-hidden flex-col justify-center items-center p-12",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-red-100/50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-slate-200/50 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 max-w-lg w-full",children:[s.jsx("div",{className:"relative h-80",children:$m.map((y,E)=>{const T=y.icon;return s.jsxs("div",{className:`absolute inset-0 flex flex-col items-center text-center transition-all duration-700 ease-in-out ${E===m?"opacity-100 translate-x-0":E<m?"opacity-0 -translate-x-12":"opacity-0 translate-x-12"}`,children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mb-8 text-red-600 transform transition-transform duration-500 hover:scale-110",children:s.jsx(T,{size:40,strokeWidth:1.5})}),s.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4 leading-tight",children:y.title}),s.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:y.text})]},y.id)})}),s.jsx("div",{className:"flex justify-center gap-3 mt-8",children:$m.map((y,E)=>s.jsx("button",{onClick:()=>v(E),className:`transition-all duration-300 rounded-full ${E===m?"w-8 h-2 bg-red-600":"w-2 h-2 bg-red-200 hover:bg-red-300"}`,"aria-label":`Go to slide ${E+1}`},E))})]})]})]})},HB=({onLogin:t})=>{const e=ze(),[n,r]=P.useState(!1),[i,a]=P.useState(""),[l,c]=P.useState({companyName:"",logoURL:"",fullName:"",email:"",password:"",department:"",designation:""}),d=async p=>{p.preventDefault(),a(""),r(!0);try{await new Promise(v=>setTimeout(v,800));const{user:m}=await jP(l.companyName,l.logoURL,{fullName:l.fullName,email:l.email,password:l.password,designation:l.designation,department:l.department});t(m),e("/")}catch(m){a(m.message)}finally{r(!1)}},f=p=>{c({...l,[p.target.name]:p.target.value})};return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 py-10",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-xl border border-slate-100",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Start your Intranet"}),s.jsx("p",{className:"text-slate-500 mt-2",children:"Create a new workspace for your team."})]}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100",children:i}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm uppercase tracking-wider text-slate-400 font-bold border-b pb-2",children:"Company Details"}),s.jsx(Ae,{label:"Company Name",name:"companyName",required:!0,value:l.companyName,onChange:f,placeholder:"Acme Corp"}),s.jsx(Ae,{label:"Logo URL (Optional)",name:"logoURL",value:l.logoURL,onChange:f,placeholder:"https://..."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm uppercase tracking-wider text-slate-400 font-bold border-b pb-2",children:"Admin Account"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ae,{label:"Full Name",name:"fullName",required:!0,value:l.fullName,onChange:f}),s.jsx(Ae,{label:"Designation",name:"designation",required:!0,value:l.designation,onChange:f,placeholder:"CEO, Founder..."})]}),s.jsx(Ae,{label:"Department",name:"department",required:!0,value:l.department,onChange:f,placeholder:"Executive"}),s.jsx(Ae,{label:"Email Address",name:"email",type:"email",required:!0,value:l.email,onChange:f}),s.jsx(Ae,{label:"Password",name:"password",type:"password",required:!0,value:l.password,onChange:f})]}),s.jsx(se,{type:"submit",className:"w-full",isLoading:n,children:"Create Company & Account"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Already have an account?"," ",s.jsx(ie,{to:"/login",className:"text-blue-600 font-medium hover:underline",children:"Sign in"})]})]})})};function nk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nk(t))&&(r&&(r+=" "),r+=e);return r}var Um,kE;function Cn(){if(kE)return Um;kE=1;var t=Array.isArray;return Um=t,Um}var qm,ME;function rk(){if(ME)return qm;ME=1;var t=typeof Cu=="object"&&Cu&&Cu.Object===Object&&Cu;return qm=t,qm}var Bm,RE;function Pr(){if(RE)return Bm;RE=1;var t=rk(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Bm=n,Bm}var zm,DE;function sc(){if(DE)return zm;DE=1;var t=Pr(),e=t.Symbol;return zm=e,zm}var Vm,OE;function WB(){if(OE)return Vm;OE=1;var t=sc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(l){var c=n.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var p=r.call(l);return f&&(c?l[i]=d:delete l[i]),p}return Vm=a,Vm}var Gm,LE;function KB(){if(LE)return Gm;LE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Gm=n,Gm}var Hm,FE;function Qr(){if(FE)return Hm;FE=1;var t=sc(),e=WB(),n=KB(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:a&&a in Object(c)?e(c):n(c)}return Hm=l,Hm}var Wm,$E;function Zr(){if($E)return Wm;$E=1;function t(e){return e!=null&&typeof e=="object"}return Wm=t,Wm}var Km,UE;function Ga(){if(UE)return Km;UE=1;var t=Qr(),e=Zr(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Km=r,Km}var Jm,qE;function zy(){if(qE)return Jm;qE=1;var t=Cn(),e=Ga(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||l!=null&&a in Object(l)}return Jm=i,Jm}var Ym,BE;function $i(){if(BE)return Ym;BE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ym=t,Ym}var Xm,zE;function Vy(){if(zE)return Xm;zE=1;var t=Qr(),e=$i(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==r||d==i||d==n||d==a}return Xm=l,Xm}var Qm,VE;function JB(){if(VE)return Qm;VE=1;var t=Pr(),e=t["__core-js_shared__"];return Qm=e,Qm}var Zm,GE;function YB(){if(GE)return Zm;GE=1;var t=JB(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Zm=n,Zm}var eh,HE;function ik(){if(HE)return eh;HE=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return eh=n,eh}var th,WE;function XB(){if(WE)return th;WE=1;var t=Vy(),e=YB(),n=$i(),r=ik(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var w=t(v)?p:a;return w.test(r(v))}return th=m,th}var nh,KE;function QB(){if(KE)return nh;KE=1;function t(e,n){return e==null?void 0:e[n]}return nh=t,nh}var rh,JE;function Ps(){if(JE)return rh;JE=1;var t=XB(),e=QB();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return rh=n,rh}var ih,YE;function uf(){if(YE)return ih;YE=1;var t=Ps(),e=t(Object,"create");return ih=e,ih}var sh,XE;function ZB(){if(XE)return sh;XE=1;var t=uf();function e(){this.__data__=t?t(null):{},this.size=0}return sh=e,sh}var ah,QE;function ez(){if(QE)return ah;QE=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return ah=t,ah}var oh,ZE;function tz(){if(ZE)return oh;ZE=1;var t=uf(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var l=this.__data__;if(t){var c=l[a];return c===e?void 0:c}return r.call(l,a)?l[a]:void 0}return oh=i,oh}var lh,eC;function nz(){if(eC)return lh;eC=1;var t=uf(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return lh=r,lh}var ch,tC;function rz(){if(tC)return ch;tC=1;var t=uf(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return ch=n,ch}var uh,nC;function iz(){if(nC)return uh;nC=1;var t=ZB(),e=ez(),n=tz(),r=nz(),i=rz();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var f=l[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,uh=a,uh}var dh,rC;function sz(){if(rC)return dh;rC=1;function t(){this.__data__=[],this.size=0}return dh=t,dh}var fh,iC;function Gy(){if(iC)return fh;iC=1;function t(e,n){return e===n||e!==e&&n!==n}return fh=t,fh}var ph,sC;function df(){if(sC)return ph;sC=1;var t=Gy();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ph=e,ph}var mh,aC;function az(){if(aC)return mh;aC=1;var t=df(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,l=t(a,i);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():n.call(a,l,1),--this.size,!0}return mh=r,mh}var hh,oC;function oz(){if(oC)return hh;oC=1;var t=df();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return hh=e,hh}var gh,lC;function lz(){if(lC)return gh;lC=1;var t=df();function e(n){return t(this.__data__,n)>-1}return gh=e,gh}var vh,cC;function cz(){if(cC)return vh;cC=1;var t=df();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return vh=e,vh}var xh,uC;function ff(){if(uC)return xh;uC=1;var t=sz(),e=az(),n=oz(),r=lz(),i=cz();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var f=l[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,xh=a,xh}var yh,dC;function Hy(){if(dC)return yh;dC=1;var t=Ps(),e=Pr(),n=t(e,"Map");return yh=n,yh}var bh,fC;function uz(){if(fC)return bh;fC=1;var t=iz(),e=ff(),n=Hy();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return bh=r,bh}var wh,pC;function dz(){if(pC)return wh;pC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return wh=t,wh}var Sh,mC;function pf(){if(mC)return Sh;mC=1;var t=dz();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Sh=e,Sh}var Nh,hC;function fz(){if(hC)return Nh;hC=1;var t=pf();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Nh=e,Nh}var Eh,gC;function pz(){if(gC)return Eh;gC=1;var t=pf();function e(n){return t(this,n).get(n)}return Eh=e,Eh}var Ch,vC;function mz(){if(vC)return Ch;vC=1;var t=pf();function e(n){return t(this,n).has(n)}return Ch=e,Ch}var _h,xC;function hz(){if(xC)return _h;xC=1;var t=pf();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return _h=e,_h}var Th,yC;function Wy(){if(yC)return Th;yC=1;var t=uz(),e=fz(),n=pz(),r=mz(),i=hz();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var f=l[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Th=a,Th}var Ah,bC;function sk(){if(bC)return Ah;bC=1;var t=Wy(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var l=arguments,c=i?i.apply(this,l):l[0],d=a.cache;if(d.has(c))return d.get(c);var f=r.apply(this,l);return a.cache=d.set(c,f)||d,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Ah=n,Ah}var jh,wC;function gz(){if(wC)return jh;wC=1;var t=sk(),e=500;function n(r){var i=t(r,function(l){return a.size===e&&a.clear(),l}),a=i.cache;return i}return jh=n,jh}var Ih,SC;function vz(){if(SC)return Ih;SC=1;var t=gz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(l,c,d,f){a.push(d?f.replace(n,"$1"):c||l)}),a});return Ih=r,Ih}var Ph,NC;function Ky(){if(NC)return Ph;NC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Ph=t,Ph}var kh,EC;function xz(){if(EC)return kh;EC=1;var t=sc(),e=Ky(),n=Cn(),r=Ga(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return kh=l,kh}var Mh,CC;function ak(){if(CC)return Mh;CC=1;var t=xz();function e(n){return n==null?"":t(n)}return Mh=e,Mh}var Rh,_C;function ok(){if(_C)return Rh;_C=1;var t=Cn(),e=zy(),n=vz(),r=ak();function i(a,l){return t(a)?a:e(a,l)?[a]:n(r(a))}return Rh=i,Rh}var Dh,TC;function mf(){if(TC)return Dh;TC=1;var t=Ga();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Dh=e,Dh}var Oh,AC;function Jy(){if(AC)return Oh;AC=1;var t=ok(),e=mf();function n(r,i){i=t(i,r);for(var a=0,l=i.length;r!=null&&a<l;)r=r[e(i[a++])];return a&&a==l?r:void 0}return Oh=n,Oh}var Lh,jC;function lk(){if(jC)return Lh;jC=1;var t=Jy();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return Lh=e,Lh}var yz=lk();const Kn=dt(yz);var Fh,IC;function bz(){if(IC)return Fh;IC=1;function t(e){return e==null}return Fh=t,Fh}var wz=bz();const ot=dt(wz);var $h,PC;function Sz(){if(PC)return $h;PC=1;var t=Qr(),e=Cn(),n=Zr(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return $h=i,$h}var Nz=Sz();const ac=dt(Nz);var Ez=Vy();const He=dt(Ez);var Cz=$i();const Ha=dt(Cz);var Uh={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function _z(){if(kC)return et;kC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function A(_){if(typeof _=="object"&&_!==null){var k=_.$$typeof;switch(k){case e:switch(_=_.type,_){case d:case f:case r:case a:case i:case m:return _;default:switch(_=_&&_.$$typeof,_){case c:case p:case N:case w:case l:return _;default:return k}}case n:return k}}}function I(_){return A(_)===f}return et.AsyncMode=d,et.ConcurrentMode=f,et.ContextConsumer=c,et.ContextProvider=l,et.Element=e,et.ForwardRef=p,et.Fragment=r,et.Lazy=N,et.Memo=w,et.Portal=n,et.Profiler=a,et.StrictMode=i,et.Suspense=m,et.isAsyncMode=function(_){return I(_)||A(_)===d},et.isConcurrentMode=I,et.isContextConsumer=function(_){return A(_)===c},et.isContextProvider=function(_){return A(_)===l},et.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},et.isForwardRef=function(_){return A(_)===p},et.isFragment=function(_){return A(_)===r},et.isLazy=function(_){return A(_)===N},et.isMemo=function(_){return A(_)===w},et.isPortal=function(_){return A(_)===n},et.isProfiler=function(_){return A(_)===a},et.isStrictMode=function(_){return A(_)===i},et.isSuspense=function(_){return A(_)===m},et.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===f||_===a||_===i||_===m||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===N||_.$$typeof===w||_.$$typeof===l||_.$$typeof===c||_.$$typeof===p||_.$$typeof===y||_.$$typeof===E||_.$$typeof===T||_.$$typeof===S)},et.typeOf=A,et}var MC;function Tz(){return MC||(MC=1,Uh.exports=_z()),Uh.exports}var ux=Tz(),qh,RC;function ck(){if(RC)return qh;RC=1;var t=Qr(),e=Zr(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return qh=r,qh}var Bh,DC;function Az(){if(DC)return Bh;DC=1;var t=ck();function e(n){return t(n)&&n!=+n}return Bh=e,Bh}var jz=Az();const oc=dt(jz);var Iz=ck();const Pz=dt(Iz);var dr=function(e){return e===0?0:e>0?1:-1},ls=function(e){return ac(e)&&e.indexOf("%")===e.length-1},be=function(e){return Pz(e)&&!oc(e)},Rt=function(e){return be(e)||ac(e)},kz=0,hf=function(e){var n=++kz;return"".concat(e||"").concat(n)},Ea=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!ac(e))return r;var a;if(ls(e)){var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return oc(a)&&(a=r),i&&a>n&&(a=n),a},ua=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},aa=function(e,n){return be(e)&&be(n)?function(r){return e+r*(n-e)}:function(){return n}};function dx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Kn(r,e))===n})}function ya(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}var Rz=["viewBox","children"],Dz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OC=["points","pathLength"],zh={svg:Rz,polygon:OC,polyline:OC},Yy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ad=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!Ha(r))return null;var i={};return Object.keys(r).forEach(function(a){Yy.includes(a)&&(i[a]=n||function(l){return r[a](r,l)})}),i},Oz=function(e,n,r){return function(i){return e(n,r,i),null}},od=function(e,n,r){if(!Ha(e)||fx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var l=e[a];Yy.includes(a)&&typeof l=="function"&&(i||(i={}),i[a]=Oz(l,n,r))}),i},Lz=["children"],Fz=["children"];function LC(t,e){if(t==null)return{};var n=$z(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $z(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Br=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$C=null,Vh=null,Xy=function t(e){if(e===$C&&Array.isArray(Vh))return Vh;var n=[];return P.Children.forEach(e,function(r){ot(r)||(ux.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vh=n,$C=e,n};function mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Br(i)}):r=[Br(e)],Xy(t).forEach(function(i){var a=Kn(i,"type.displayName")||Kn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function kn(t,e){var n=mr(t,e);return n&&n[0]}var UC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!be(r)||r<=0||!be(i)||i<=0)},Uz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qz=function(e){return e&&e.type&&ac(e.type)&&Uz.indexOf(e.type)>=0},Bz=function(e,n,r,i){var a,l=(a=zh==null?void 0:zh[i])!==null&&a!==void 0?a:[];return!He(e)&&(i&&l.includes(n)||Dz.includes(n))||r&&Yy.includes(n)},nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!Ha(i))return null;var a={};return Object.keys(i).forEach(function(l){var c;Bz((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(a[l]=i[l])}),a},px=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],l=n[i];if(Array.isArray(a)||Array.isArray(l)){if(!t(a,l))return!1}else if(!qC(a,l))return!1}return!0},qC=function(e,n){if(ot(e)&&ot(n))return!0;if(!ot(e)&&!ot(n)){var r=e.props||{},i=r.children,a=LC(r,Lz),l=n.props||{},c=l.children,d=LC(l,Fz);return i&&c?ya(a,d)&&px(i,c):!i&&!c?ya(a,d):!1}return!1},BC=function(e,n){var r=[],i={};return Xy(e).forEach(function(a,l){if(qz(a))r.push(a);else if(a){var c=Br(a.type),d=n[c]||{},f=d.handler,p=d.once;if(f&&(!p||!i[c])){var m=f(a,c,l);r.push(m),i[c]=!0}}}),r},zz=function(e){var n=e&&e.type;return n&&FC[n]?FC[n]:null},Vz=function(e,n){return Xy(n).indexOf(e)},Gz=["children","width","height","viewBox","className","style","title","desc"];function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function Hz(t,e){if(t==null)return{};var n=Wz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,l=t.style,c=t.title,d=t.desc,f=Hz(t,Gz),p=i||{width:n,height:r,x:0,y:0},m=ct("recharts-surface",a);return Z.createElement("svg",mx({},nt(f,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Z.createElement("title",null,c),Z.createElement("desc",null,d),e)}var Kz=["children","className"];function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function Jz(t,e){if(t==null)return{};var n=Yz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zt=Z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Jz(t,Kz),a=ct("recharts-layer",r);return Z.createElement("g",gx({className:a},nt(i,!0),{ref:e}),n)}),ps=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Gh,zC;function Xz(){if(zC)return Gh;zC=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(a);++i<a;)l[i]=e[i+n];return l}return Gh=t,Gh}var Hh,VC;function Qz(){if(VC)return Hh;VC=1;var t=Xz();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Hh=e,Hh}var Wh,GC;function uk(){if(GC)return Wh;GC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+a+"]");function d(f){return c.test(f)}return Wh=d,Wh}var Kh,HC;function Zz(){if(HC)return Kh;HC=1;function t(e){return e.split("")}return Kh=t,Kh}var Jh,WC;function e8(){if(WC)return Jh;WC=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",N=f+"?",S="["+a+"]?",y="(?:"+w+"(?:"+[p,m,v].join("|")+")"+S+N+")*",E=S+N+y,T="(?:"+[p+c+"?",c,m,v,l].join("|")+")",A=RegExp(d+"(?="+d+")|"+T+E,"g");function I(_){return _.match(A)||[]}return Jh=I,Jh}var Yh,KC;function t8(){if(KC)return Yh;KC=1;var t=Zz(),e=uk(),n=e8();function r(i){return e(i)?n(i):t(i)}return Yh=r,Yh}var Xh,JC;function n8(){if(JC)return Xh;JC=1;var t=Qz(),e=uk(),n=t8(),r=ak();function i(a){return function(l){l=r(l);var c=e(l)?n(l):void 0,d=c?c[0]:l.charAt(0),f=c?t(c,1).join(""):l.slice(1);return d[a]()+f}}return Xh=i,Xh}var Qh,YC;function r8(){if(YC)return Qh;YC=1;var t=n8(),e=t("toUpperCase");return Qh=e,Qh}var i8=r8();const gf=dt(i8);function mt(t){return function(){return t}}const dk=Math.cos,ld=Math.sin,gr=Math.sqrt,cd=Math.PI,vf=2*cd,vx=Math.PI,xx=2*vx,as=1e-6,s8=xx-as;function fk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function a8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fk;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class o8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fk:a8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>as)if(!(Math.abs(m*d-f*p)>as)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,N=i-c,S=d*d+f*f,y=w*w+N*N,E=Math.sqrt(S),T=Math.sqrt(v),A=a*Math.tan((vx-Math.acos((S+v-y)/(2*E*T)))/2),I=A/T,_=A/E;Math.abs(I-1)>as&&this._append`L${e+I*p},${n+I*m}`,this._append`A${a},${a},0,0,${+(m*w>p*N)},${this._x1=e+_*d},${this._y1=n+_*f}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,p=n+d,m=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>as||Math.abs(this._y1-p)>as)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%xx+xx),v>s8?this._append`A${r},${r},0,1,${m},${e-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>as&&this._append`A${r},${r},0,${+(v>=vx)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new o8(e)}function Zy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pk(t){this._context=t}pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function xf(t){return new pk(t)}function mk(t){return t[0]}function hk(t){return t[1]}function gk(t,e){var n=mt(!0),r=null,i=xf,a=null,l=Qy(c);t=typeof t=="function"?t:t===void 0?mk:mt(t),e=typeof e=="function"?e:e===void 0?hk:mt(e);function c(d){var f,p=(d=Zy(d)).length,m,v=!1,w;for(r==null&&(a=i(w=l())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,d),+e(m,f,d));if(w)return a=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:mt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:mt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Mu(t,e,n){var r=null,i=mt(!0),a=null,l=xf,c=null,d=Qy(f);t=typeof t=="function"?t:t===void 0?mk:mt(+t),e=typeof e=="function"?e:mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hk:mt(+n);function f(m){var v,w,N,S=(m=Zy(m)).length,y,E=!1,T,A=new Array(S),I=new Array(S);for(a==null&&(c=l(T=d())),v=0;v<=S;++v){if(!(v<S&&i(y=m[v],v,m))===E)if(E=!E)w=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),N=v-1;N>=w;--N)c.point(A[N],I[N]);c.lineEnd(),c.areaEnd()}E&&(A[v]=+t(y,v,m),I[v]=+e(y,v,m),c.point(r?+r(y,v,m):A[v],n?+n(y,v,m):I[v]))}if(T)return c=null,T+""||null}function p(){return gk().defined(i).curve(l).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:mt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:mt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:mt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:mt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:mt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:mt(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:mt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,a!=null&&(c=l(a)),f):l},f.context=function(m){return arguments.length?(m==null?a=c=null:c=l(a=m),f):a},f}class vk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function l8(t){return new vk(t,!0)}function c8(t){return new vk(t,!1)}const eb={draw(t,e){const n=gr(e/cd);t.moveTo(n,0),t.arc(0,0,n,0,vf)}},u8={draw(t,e){const n=gr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xk=gr(1/3),d8=xk*2,f8={draw(t,e){const n=gr(e/d8),r=n*xk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},p8={draw(t,e){const n=gr(e),r=-n/2;t.rect(r,r,n,n)}},m8=.8908130915292852,yk=ld(cd/10)/ld(7*cd/10),h8=ld(vf/10)*yk,g8=-dk(vf/10)*yk,v8={draw(t,e){const n=gr(e*m8),r=h8*n,i=g8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=vf*a/5,c=dk(l),d=ld(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},Zh=gr(3),x8={draw(t,e){const n=-gr(e/(Zh*3));t.moveTo(0,n*2),t.lineTo(-Zh*n,-n),t.lineTo(Zh*n,-n),t.closePath()}},Bn=-.5,zn=gr(3)/2,yx=1/gr(12),y8=(yx/2+1)*3,b8={draw(t,e){const n=gr(e/y8),r=n/2,i=n*yx,a=r,l=n*yx+n,c=-a,d=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(c,d),t.lineTo(Bn*r-zn*i,zn*r+Bn*i),t.lineTo(Bn*a-zn*l,zn*a+Bn*l),t.lineTo(Bn*c-zn*d,zn*c+Bn*d),t.lineTo(Bn*r+zn*i,Bn*i-zn*r),t.lineTo(Bn*a+zn*l,Bn*l-zn*a),t.lineTo(Bn*c+zn*d,Bn*d-zn*c),t.closePath()}};function w8(t,e){let n=null,r=Qy(i);t=typeof t=="function"?t:mt(t||eb),e=typeof e=="function"?e:mt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:mt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:mt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ud(){}function dd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bk(t){this._context=t}bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S8(t){return new bk(t)}function wk(t){this._context=t}wk.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N8(t){return new wk(t)}function Sk(t){this._context=t}Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E8(t){return new Sk(t)}function Nk(t){this._context=t}Nk.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function C8(t){return new Nk(t)}function XC(t){return t<0?-1:1}function QC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(a*i+l*r)/(r+i);return(XC(a)+XC(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function ZC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function eg(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,l-c*n,a,l)}function fd(t){this._context=t}fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eg(this,this._t0,ZC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eg(this,ZC(this,n=QC(this,t,e)),n);break;default:eg(this,this._t0,n=QC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ek(t){this._context=new Ck(t)}(Ek.prototype=Object.create(fd.prototype)).point=function(t,e){fd.prototype.point.call(this,e,t)};function Ck(t){this._context=t}Ck.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function _8(t){return new fd(t)}function T8(t){return new Ek(t)}function _k(t){this._context=t}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=e_(t),i=e_(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function e_(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function A8(t){return new _k(t)}function yf(t,e){this._context=t,this._t=e}yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function j8(t){return new yf(t,.5)}function I8(t){return new yf(t,0)}function P8(t){return new yf(t,1)}function Ca(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,c=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function k8(t,e){return t[e]}function M8(t){const e=[];return e.key=t,e}function R8(){var t=mt([]),e=bx,n=Ca,r=k8;function i(a){var l=Array.from(t.apply(this,arguments),M8),c,d=l.length,f=-1,p;for(const m of a)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(m,l[c].key,f,a)]).data=m;for(c=0,p=Zy(e(l));c<d;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:mt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:mt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?bx:typeof a=="function"?a:mt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ca,i):n},i}function D8(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Ca(t,e)}}function O8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ca(t,e)}}function L8(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var c=0,d=0,f=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,w=(m-v)/2,N=0;N<c;++N){var S=t[e[N]],y=S[r][1]||0,E=S[r-1][1]||0;w+=y-E}d+=m,f+=w*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Ca(t,e)}}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var F8=["type","size","sizeType"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function t_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(n),!0).forEach(function(r){$8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8(t,e,n){return e=U8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U8(t){var e=q8(t,"string");return hl(e)=="symbol"?e:String(e)}function q8(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B8(t,e){if(t==null)return{};var n=z8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tk={symbolCircle:eb,symbolCross:u8,symbolDiamond:f8,symbolSquare:p8,symbolStar:v8,symbolTriangle:x8,symbolWye:b8},V8=Math.PI/180,G8=function(e){var n="symbol".concat(gf(e));return Tk[n]||eb},H8=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*V8;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},W8=function(e,n){Tk["symbol".concat(gf(e))]=n},tb=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,d=B8(e,F8),f=n_(n_({},d),{},{type:r,size:a,sizeType:c}),p=function(){var y=G8(r),E=w8().type(y).size(H8(a,c,r));return E()},m=f.className,v=f.cx,w=f.cy,N=nt(f,!0);return v===+v&&w===+w&&a===+a?Z.createElement("path",wx({},N,{className:ct("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(w,")"),d:p()})):null};tb.registerSymbol=W8;function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jk(r.key),r)}}function X8(t,e,n){return e&&Y8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q8(t,e,n){return e=pd(e),Z8(t,Ak()?Reflect.construct(e,n||[],pd(t).constructor):e.apply(t,n))}function Z8(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eV(t)}function eV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!t})()}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pd(t)}function tV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nx(t,e)}function Nx(t,e){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nx(t,e)}function gl(t,e,n){return e=jk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jk(t){var e=nV(t,"string");return _a(e)=="symbol"?e:String(e)}function nV(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vn=32,nb=(function(t){tV(e,t);function e(){return J8(this,e),Q8(this,e,arguments)}return X8(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vn/2,l=Vn/6,c=Vn/3,d=r.inactive?i:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Vn,"M").concat(2*c,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var f=K8({},r);return delete f.legendIcon,Z.cloneElement(r.legendIcon,f)}return Z.createElement(tb,{fill:d,cx:a,cy:a,size:Vn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,l=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Vn,height:Vn},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(w,N){var S=w.formatter||d,y=ct(gl(gl({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",w.inactive));if(w.type==="none")return null;var E=He(w.value)?null:w.value;ps(!He(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=w.inactive?f:w.color;return Z.createElement("li",Sx({className:y,style:m,key:"legend-item-".concat(N)},od(r.props,w,N)),Z.createElement(hx,{width:l,height:l,viewBox:p,style:v},r.renderIcon(w)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},S?S(E,w,N):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?l:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}]),e})(P.PureComponent);gl(nb,"displayName","Legend");gl(nb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tg,i_;function rV(){if(i_)return tg;i_=1;var t=ff();function e(){this.__data__=new t,this.size=0}return tg=e,tg}var ng,s_;function iV(){if(s_)return ng;s_=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return ng=t,ng}var rg,a_;function sV(){if(a_)return rg;a_=1;function t(e){return this.__data__.get(e)}return rg=t,rg}var ig,o_;function aV(){if(o_)return ig;o_=1;function t(e){return this.__data__.has(e)}return ig=t,ig}var sg,l_;function oV(){if(l_)return sg;l_=1;var t=ff(),e=Hy(),n=Wy(),r=200;function i(a,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<r-1)return d.push([a,l]),this.size=++c.size,this;c=this.__data__=new n(d)}return c.set(a,l),this.size=c.size,this}return sg=i,sg}var ag,c_;function Ik(){if(c_)return ag;c_=1;var t=ff(),e=rV(),n=iV(),r=sV(),i=aV(),a=oV();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=a,ag=l,ag}var og,u_;function lV(){if(u_)return og;u_=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return og=e,og}var lg,d_;function cV(){if(d_)return lg;d_=1;function t(e){return this.__data__.has(e)}return lg=t,lg}var cg,f_;function Pk(){if(f_)return cg;f_=1;var t=Wy(),e=lV(),n=cV();function r(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new t;++a<l;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,cg=r,cg}var ug,p_;function kk(){if(p_)return ug;p_=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return ug=t,ug}var dg,m_;function Mk(){if(m_)return dg;m_=1;function t(e,n){return e.has(n)}return dg=t,dg}var fg,h_;function Rk(){if(h_)return fg;h_=1;var t=Pk(),e=kk(),n=Mk(),r=1,i=2;function a(l,c,d,f,p,m){var v=d&r,w=l.length,N=c.length;if(w!=N&&!(v&&N>w))return!1;var S=m.get(l),y=m.get(c);if(S&&y)return S==c&&y==l;var E=-1,T=!0,A=d&i?new t:void 0;for(m.set(l,c),m.set(c,l);++E<w;){var I=l[E],_=c[E];if(f)var k=v?f(_,I,E,c,l,m):f(I,_,E,l,c,m);if(k!==void 0){if(k)continue;T=!1;break}if(A){if(!e(c,function(M,R){if(!n(A,R)&&(I===M||p(I,M,d,f,m)))return A.push(R)})){T=!1;break}}else if(!(I===_||p(I,_,d,f,m))){T=!1;break}}return m.delete(l),m.delete(c),T}return fg=a,fg}var pg,g_;function uV(){if(g_)return pg;g_=1;var t=Pr(),e=t.Uint8Array;return pg=e,pg}var mg,v_;function dV(){if(v_)return mg;v_=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return mg=t,mg}var hg,x_;function rb(){if(x_)return hg;x_=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return hg=t,hg}var gg,y_;function fV(){if(y_)return gg;y_=1;var t=sc(),e=uV(),n=Gy(),r=Rk(),i=dV(),a=rb(),l=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",w="[object RegExp]",N="[object Set]",S="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function _(k,M,R,O,B,$,F){switch(R){case T:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case E:return!(k.byteLength!=M.byteLength||!$(new e(k),new e(M)));case d:case f:case v:return n(+k,+M);case p:return k.name==M.name&&k.message==M.message;case w:case S:return k==M+"";case m:var L=i;case N:var z=O&l;if(L||(L=a),k.size!=M.size&&!z)return!1;var J=F.get(k);if(J)return J==M;O|=c,F.set(k,M);var q=r(L(k),L(M),O,B,$,F);return F.delete(k),q;case y:if(I)return I.call(k)==I.call(M)}return!1}return gg=_,gg}var vg,b_;function Dk(){if(b_)return vg;b_=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return vg=t,vg}var xg,w_;function pV(){if(w_)return xg;w_=1;var t=Dk(),e=Cn();function n(r,i,a){var l=i(r);return e(r)?l:t(l,a(r))}return xg=n,xg}var yg,S_;function mV(){if(S_)return yg;S_=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[a++]=c)}return l}return yg=t,yg}var bg,N_;function hV(){if(N_)return bg;N_=1;function t(){return[]}return bg=t,bg}var wg,E_;function gV(){if(E_)return wg;E_=1;var t=mV(),e=hV(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return wg=a,wg}var Sg,C_;function vV(){if(C_)return Sg;C_=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Sg=t,Sg}var Ng,__;function xV(){if(__)return Ng;__=1;var t=Qr(),e=Zr(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Ng=r,Ng}var Eg,T_;function ib(){if(T_)return Eg;T_=1;var t=xV(),e=Zr(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return Eg=a,Eg}var Yo={exports:{}},Cg,A_;function yV(){if(A_)return Cg;A_=1;function t(){return!1}return Cg=t,Cg}Yo.exports;var j_;function Ok(){return j_||(j_=1,(function(t,e){var n=Pr(),r=yV(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===i,c=l?n.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||r;t.exports=f})(Yo,Yo.exports)),Yo.exports}var _g,I_;function sb(){if(I_)return _g;I_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return _g=n,_g}var Tg,P_;function ab(){if(P_)return Tg;P_=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Tg=e,Tg}var Ag,k_;function bV(){if(k_)return Ag;k_=1;var t=Qr(),e=ab(),n=Zr(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",w="[object Set]",N="[object String]",S="[object WeakMap]",y="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",_="[object Int16Array]",k="[object Int32Array]",M="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",B="[object Uint32Array]",$={};$[T]=$[A]=$[I]=$[_]=$[k]=$[M]=$[R]=$[O]=$[B]=!0,$[r]=$[i]=$[y]=$[a]=$[E]=$[l]=$[c]=$[d]=$[f]=$[p]=$[m]=$[v]=$[w]=$[N]=$[S]=!1;function F(L){return n(L)&&e(L.length)&&!!$[t(L)]}return Ag=F,Ag}var jg,M_;function Lk(){if(M_)return jg;M_=1;function t(e){return function(n){return e(n)}}return jg=t,jg}var Xo={exports:{}};Xo.exports;var R_;function wV(){return R_||(R_=1,(function(t,e){var n=rk(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,l=a&&n.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(Xo,Xo.exports)),Xo.exports}var Ig,D_;function Fk(){if(D_)return Ig;D_=1;var t=bV(),e=Lk(),n=wV(),r=n&&n.isTypedArray,i=r?e(r):t;return Ig=i,Ig}var Pg,O_;function SV(){if(O_)return Pg;O_=1;var t=vV(),e=ib(),n=Cn(),r=Ok(),i=sb(),a=Fk(),l=Object.prototype,c=l.hasOwnProperty;function d(f,p){var m=n(f),v=!m&&e(f),w=!m&&!v&&r(f),N=!m&&!v&&!w&&a(f),S=m||v||w||N,y=S?t(f.length,String):[],E=y.length;for(var T in f)(p||c.call(f,T))&&!(S&&(T=="length"||w&&(T=="offset"||T=="parent")||N&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,E)))&&y.push(T);return y}return Pg=d,Pg}var kg,L_;function NV(){if(L_)return kg;L_=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return kg=e,kg}var Mg,F_;function $k(){if(F_)return Mg;F_=1;function t(e,n){return function(r){return e(n(r))}}return Mg=t,Mg}var Rg,$_;function EV(){if($_)return Rg;$_=1;var t=$k(),e=t(Object.keys,Object);return Rg=e,Rg}var Dg,U_;function CV(){if(U_)return Dg;U_=1;var t=NV(),e=EV(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var l=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&l.push(c);return l}return Dg=i,Dg}var Og,q_;function lc(){if(q_)return Og;q_=1;var t=Vy(),e=ab();function n(r){return r!=null&&e(r.length)&&!t(r)}return Og=n,Og}var Lg,B_;function bf(){if(B_)return Lg;B_=1;var t=SV(),e=CV(),n=lc();function r(i){return n(i)?t(i):e(i)}return Lg=r,Lg}var Fg,z_;function _V(){if(z_)return Fg;z_=1;var t=pV(),e=gV(),n=bf();function r(i){return t(i,n,e)}return Fg=r,Fg}var $g,V_;function TV(){if(V_)return $g;V_=1;var t=_V(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,l,c,d,f,p){var m=c&e,v=t(a),w=v.length,N=t(l),S=N.length;if(w!=S&&!m)return!1;for(var y=w;y--;){var E=v[y];if(!(m?E in l:r.call(l,E)))return!1}var T=p.get(a),A=p.get(l);if(T&&A)return T==l&&A==a;var I=!0;p.set(a,l),p.set(l,a);for(var _=m;++y<w;){E=v[y];var k=a[E],M=l[E];if(d)var R=m?d(M,k,E,l,a,p):d(k,M,E,a,l,p);if(!(R===void 0?k===M||f(k,M,c,d,p):R)){I=!1;break}_||(_=E=="constructor")}if(I&&!_){var O=a.constructor,B=l.constructor;O!=B&&"constructor"in a&&"constructor"in l&&!(typeof O=="function"&&O instanceof O&&typeof B=="function"&&B instanceof B)&&(I=!1)}return p.delete(a),p.delete(l),I}return $g=i,$g}var Ug,G_;function AV(){if(G_)return Ug;G_=1;var t=Ps(),e=Pr(),n=t(e,"DataView");return Ug=n,Ug}var qg,H_;function jV(){if(H_)return qg;H_=1;var t=Ps(),e=Pr(),n=t(e,"Promise");return qg=n,qg}var Bg,W_;function Uk(){if(W_)return Bg;W_=1;var t=Ps(),e=Pr(),n=t(e,"Set");return Bg=n,Bg}var zg,K_;function IV(){if(K_)return zg;K_=1;var t=Ps(),e=Pr(),n=t(e,"WeakMap");return zg=n,zg}var Vg,J_;function PV(){if(J_)return Vg;J_=1;var t=AV(),e=Hy(),n=jV(),r=Uk(),i=IV(),a=Qr(),l=ik(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",w=l(t),N=l(e),S=l(n),y=l(r),E=l(i),T=a;return(t&&T(new t(new ArrayBuffer(1)))!=v||e&&T(new e)!=c||n&&T(n.resolve())!=f||r&&T(new r)!=p||i&&T(new i)!=m)&&(T=function(A){var I=a(A),_=I==d?A.constructor:void 0,k=_?l(_):"";if(k)switch(k){case w:return v;case N:return c;case S:return f;case y:return p;case E:return m}return I}),Vg=T,Vg}var Gg,Y_;function kV(){if(Y_)return Gg;Y_=1;var t=Ik(),e=Rk(),n=fV(),r=TV(),i=PV(),a=Cn(),l=Ok(),c=Fk(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,w=v.hasOwnProperty;function N(S,y,E,T,A,I){var _=a(S),k=a(y),M=_?p:i(S),R=k?p:i(y);M=M==f?m:M,R=R==f?m:R;var O=M==m,B=R==m,$=M==R;if($&&l(S)){if(!l(y))return!1;_=!0,O=!1}if($&&!O)return I||(I=new t),_||c(S)?e(S,y,E,T,A,I):n(S,y,M,E,T,A,I);if(!(E&d)){var F=O&&w.call(S,"__wrapped__"),L=B&&w.call(y,"__wrapped__");if(F||L){var z=F?S.value():S,J=L?y.value():y;return I||(I=new t),A(z,J,E,T,I)}}return $?(I||(I=new t),r(S,y,E,T,A,I)):!1}return Gg=N,Gg}var Hg,X_;function ob(){if(X_)return Hg;X_=1;var t=kV(),e=Zr();function n(r,i,a,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,l,n,c)}return Hg=n,Hg}var Wg,Q_;function MV(){if(Q_)return Wg;Q_=1;var t=Ik(),e=ob(),n=1,r=2;function i(a,l,c,d){var f=c.length,p=f,m=!d;if(a==null)return!p;for(a=Object(a);f--;){var v=c[f];if(m&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<p;){v=c[f];var w=v[0],N=a[w],S=v[1];if(m&&v[2]){if(N===void 0&&!(w in a))return!1}else{var y=new t;if(d)var E=d(N,S,w,a,l,y);if(!(E===void 0?e(S,N,n|r,d,y):E))return!1}}return!0}return Wg=i,Wg}var Kg,Z_;function qk(){if(Z_)return Kg;Z_=1;var t=$i();function e(n){return n===n&&!t(n)}return Kg=e,Kg}var Jg,eT;function RV(){if(eT)return Jg;eT=1;var t=qk(),e=bf();function n(r){for(var i=e(r),a=i.length;a--;){var l=i[a],c=r[l];i[a]=[l,c,t(c)]}return i}return Jg=n,Jg}var Yg,tT;function Bk(){if(tT)return Yg;tT=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Yg=t,Yg}var Xg,nT;function DV(){if(nT)return Xg;nT=1;var t=MV(),e=RV(),n=Bk();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(l){return l===i||t(l,i,a)}}return Xg=r,Xg}var Qg,rT;function OV(){if(rT)return Qg;rT=1;function t(e,n){return e!=null&&n in Object(e)}return Qg=t,Qg}var Zg,iT;function LV(){if(iT)return Zg;iT=1;var t=ok(),e=ib(),n=Cn(),r=sb(),i=ab(),a=mf();function l(c,d,f){d=t(d,c);for(var p=-1,m=d.length,v=!1;++p<m;){var w=a(d[p]);if(!(v=c!=null&&f(c,w)))break;c=c[w]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(w,m)&&(n(c)||e(c)))}return Zg=l,Zg}var ev,sT;function FV(){if(sT)return ev;sT=1;var t=OV(),e=LV();function n(r,i){return r!=null&&e(r,i,t)}return ev=n,ev}var tv,aT;function $V(){if(aT)return tv;aT=1;var t=ob(),e=lk(),n=FV(),r=zy(),i=qk(),a=Bk(),l=mf(),c=1,d=2;function f(p,m){return r(p)&&i(m)?a(l(p),m):function(v){var w=e(v,p);return w===void 0&&w===m?n(v,p):t(m,w,c|d)}}return tv=f,tv}var nv,oT;function Wa(){if(oT)return nv;oT=1;function t(e){return e}return nv=t,nv}var rv,lT;function UV(){if(lT)return rv;lT=1;function t(e){return function(n){return n==null?void 0:n[e]}}return rv=t,rv}var iv,cT;function qV(){if(cT)return iv;cT=1;var t=Jy();function e(n){return function(r){return t(r,n)}}return iv=e,iv}var sv,uT;function BV(){if(uT)return sv;uT=1;var t=UV(),e=qV(),n=zy(),r=mf();function i(a){return n(a)?t(r(a)):e(a)}return sv=i,sv}var av,dT;function Ui(){if(dT)return av;dT=1;var t=DV(),e=$V(),n=Wa(),r=Cn(),i=BV();function a(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return av=a,av}var ov,fT;function zk(){if(fT)return ov;fT=1;function t(e,n,r,i){for(var a=e.length,l=r+(i?1:-1);i?l--:++l<a;)if(n(e[l],l,e))return l;return-1}return ov=t,ov}var lv,pT;function zV(){if(pT)return lv;pT=1;function t(e){return e!==e}return lv=t,lv}var cv,mT;function VV(){if(mT)return cv;mT=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return cv=t,cv}var uv,hT;function GV(){if(hT)return uv;hT=1;var t=zk(),e=zV(),n=VV();function r(i,a,l){return a===a?n(i,a,l):t(i,e,l)}return uv=r,uv}var dv,gT;function HV(){if(gT)return dv;gT=1;var t=GV();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return dv=e,dv}var fv,vT;function WV(){if(vT)return fv;vT=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return fv=t,fv}var pv,xT;function KV(){if(xT)return pv;xT=1;function t(){}return pv=t,pv}var mv,yT;function JV(){if(yT)return mv;yT=1;var t=Uk(),e=KV(),n=rb(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return mv=i,mv}var hv,bT;function YV(){if(bT)return hv;bT=1;var t=Pk(),e=HV(),n=WV(),r=Mk(),i=JV(),a=rb(),l=200;function c(d,f,p){var m=-1,v=e,w=d.length,N=!0,S=[],y=S;if(p)N=!1,v=n;else if(w>=l){var E=f?null:i(d);if(E)return a(E);N=!1,v=r,y=new t}else y=f?[]:S;e:for(;++m<w;){var T=d[m],A=f?f(T):T;if(T=p||T!==0?T:0,N&&A===A){for(var I=y.length;I--;)if(y[I]===A)continue e;f&&y.push(A),S.push(T)}else v(y,A,p)||(y!==S&&y.push(A),S.push(T))}return S}return hv=c,hv}var gv,wT;function XV(){if(wT)return gv;wT=1;var t=Ui(),e=YV();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return gv=n,gv}var QV=XV();const ST=dt(QV);function Vk(t,e,n){return e===!0?ST(t,n):He(e)?ST(t,e):t}function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}var ZV=["ref"];function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){wf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ET(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wk(r.key),r)}}function t7(t,e,n){return e&&ET(t.prototype,e),n&&ET(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7(t,e,n){return e=md(e),r7(t,Gk()?Reflect.construct(e,n||[],md(t).constructor):e.apply(t,n))}function r7(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hk(t)}function Gk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function Hk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ex(t,e)}function Ex(t,e){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ex(t,e)}function wf(t,e,n){return e=Wk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wk(t){var e=s7(t,"string");return Ta(e)=="symbol"?e:String(e)}function s7(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a7(t,e){if(t==null)return{};var n=o7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l7(t){return t.value}function c7(t,e){if(Z.isValidElement(t))return Z.cloneElement(t,e);if(typeof t=="function")return Z.createElement(t,e);e.ref;var n=a7(e,ZV);return Z.createElement(nb,n)}var CT=1,vl=(function(t){i7(e,t);function e(){var n;e7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=n7(this,e,[].concat(i)),wf(Hk(n),"lastBoundingBox",{width:-1,height:-1}),n}return t7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>CT||Math.abs(i.height-this.lastBoundingBox.height)>CT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?is({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,l=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&a==="vertical"){var w=this.getBBoxSnapshot();m={left:((f||0)-w.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var N=this.getBBoxSnapshot();v={top:((p||0)-N.height)/2}}else v=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return is(is({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,l=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,m=is(is({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(w){r.wrapperNode=w}},c7(a,is(is({},this.props),{},{payload:Vk(p,f,l7)})))}}],[{key:"getWithHeight",value:function(r,i){var a=r.props.layout;return a==="vertical"&&be(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}]),e})(P.PureComponent);wf(vl,"displayName","Legend");wf(vl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vv,_T;function u7(){if(_T)return vv;_T=1;var t=sc(),e=ib(),n=Cn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return vv=i,vv}var xv,TT;function Kk(){if(TT)return xv;TT=1;var t=Dk(),e=u7();function n(r,i,a,l,c){var d=-1,f=r.length;for(a||(a=e),c||(c=[]);++d<f;){var p=r[d];i>0&&a(p)?i>1?n(p,i-1,a,l,c):t(c,p):l||(c[c.length]=p)}return c}return xv=n,xv}var yv,AT;function d7(){if(AT)return yv;AT=1;function t(e){return function(n,r,i){for(var a=-1,l=Object(n),c=i(n),d=c.length;d--;){var f=c[e?d:++a];if(r(l[f],f,l)===!1)break}return n}}return yv=t,yv}var bv,jT;function f7(){if(jT)return bv;jT=1;var t=d7(),e=t();return bv=e,bv}var wv,IT;function Jk(){if(IT)return wv;IT=1;var t=f7(),e=bf();function n(r,i){return r&&t(r,i,e)}return wv=n,wv}var Sv,PT;function p7(){if(PT)return Sv;PT=1;var t=lc();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var l=i.length,c=r?l:-1,d=Object(i);(r?c--:++c<l)&&a(d[c],c,d)!==!1;);return i}}return Sv=e,Sv}var Nv,kT;function lb(){if(kT)return Nv;kT=1;var t=Jk(),e=p7(),n=e(t);return Nv=n,Nv}var Ev,MT;function Yk(){if(MT)return Ev;MT=1;var t=lb(),e=lc();function n(r,i){var a=-1,l=e(r)?Array(r.length):[];return t(r,function(c,d,f){l[++a]=i(c,d,f)}),l}return Ev=n,Ev}var Cv,RT;function m7(){if(RT)return Cv;RT=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Cv=t,Cv}var _v,DT;function h7(){if(DT)return _v;DT=1;var t=Ga();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,l=n===n,c=t(n),d=r!==void 0,f=r===null,p=r===r,m=t(r);if(!f&&!m&&!c&&n>r||c&&d&&p&&!f&&!m||a&&d&&p||!i&&p||!l)return 1;if(!a&&!c&&!m&&n<r||m&&i&&l&&!a&&!c||f&&i&&l||!d&&l||!p)return-1}return 0}return _v=e,_v}var Tv,OT;function g7(){if(OT)return Tv;OT=1;var t=h7();function e(n,r,i){for(var a=-1,l=n.criteria,c=r.criteria,d=l.length,f=i.length;++a<d;){var p=t(l[a],c[a]);if(p){if(a>=f)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return n.index-r.index}return Tv=e,Tv}var Av,LT;function v7(){if(LT)return Av;LT=1;var t=Ky(),e=Jy(),n=Ui(),r=Yk(),i=m7(),a=Lk(),l=g7(),c=Wa(),d=Cn();function f(p,m,v){m.length?m=t(m,function(S){return d(S)?function(y){return e(y,S.length===1?S[0]:S)}:S}):m=[c];var w=-1;m=t(m,a(n));var N=r(p,function(S,y,E){var T=t(m,function(A){return A(S)});return{criteria:T,index:++w,value:S}});return i(N,function(S,y){return l(S,y,v)})}return Av=f,Av}var jv,FT;function x7(){if(FT)return jv;FT=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return jv=t,jv}var Iv,$T;function y7(){if($T)return Iv;$T=1;var t=x7(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,d=e(l.length-i,0),f=Array(d);++c<d;)f[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=a(f),t(r,this,p)}}return Iv=n,Iv}var Pv,UT;function b7(){if(UT)return Pv;UT=1;function t(e){return function(){return e}}return Pv=t,Pv}var kv,qT;function Xk(){if(qT)return kv;qT=1;var t=Ps(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return kv=e,kv}var Mv,BT;function w7(){if(BT)return Mv;BT=1;var t=b7(),e=Xk(),n=Wa(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return Mv=r,Mv}var Rv,zT;function S7(){if(zT)return Rv;zT=1;var t=800,e=16,n=Date.now;function r(i){var a=0,l=0;return function(){var c=n(),d=e-(c-l);if(l=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Rv=r,Rv}var Dv,VT;function N7(){if(VT)return Dv;VT=1;var t=w7(),e=S7(),n=e(t);return Dv=n,Dv}var Ov,GT;function E7(){if(GT)return Ov;GT=1;var t=Wa(),e=y7(),n=N7();function r(i,a){return n(e(i,a,t),i+"")}return Ov=r,Ov}var Lv,HT;function Sf(){if(HT)return Lv;HT=1;var t=Gy(),e=lc(),n=sb(),r=$i();function i(a,l,c){if(!r(c))return!1;var d=typeof l;return(d=="number"?e(c)&&n(l,c.length):d=="string"&&l in c)?t(c[l],a):!1}return Lv=i,Lv}var Fv,WT;function C7(){if(WT)return Fv;WT=1;var t=Kk(),e=v7(),n=E7(),r=Sf(),i=n(function(a,l){if(a==null)return[];var c=l.length;return c>1&&r(a,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(a,t(l,1),[])});return Fv=i,Fv}var _7=C7();const cb=dt(_7);function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(this,arguments)}function T7(t,e){return P7(t)||I7(t,e)||j7(t,e)||A7()}function A7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(t,e){if(t){if(typeof t=="string")return KT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KT(t,e)}}function KT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function P7(t){if(Array.isArray(t))return t}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){k7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k7(t,e,n){return e=M7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M7(t){var e=R7(t,"string");return xl(e)=="symbol"?e:String(e)}function R7(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D7(t){return Array.isArray(t)&&Rt(t[0])&&Rt(t[1])?t.join(" ~ "):t}var O7=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,w=e.wrapperClassName,N=e.labelClassName,S=e.label,y=e.labelFormatter,E=e.accessibilityLayer,T=E===void 0?!1:E,A=function(){if(p&&p.length){var F={padding:0,margin:0},L=(v?cb(p,v):p).map(function(z,J){if(z.type==="none")return null;var q=$v({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},c),ee=z.formatter||m||D7,X=z.value,re=z.name,ae=X,V=re;if(ee&&ae!=null&&V!=null){var Q=ee(X,re,z,J,p);if(Array.isArray(Q)){var ge=T7(Q,2);ae=ge[0],V=ge[1]}else ae=Q}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:q},Rt(V)?Z.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Rt(V)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},ae),Z.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},I=$v({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=$v({margin:0},f),k=!ot(S),M=k?S:"",R=ct("recharts-default-tooltip",w),O=ct("recharts-tooltip-label",N);k&&y&&p!==void 0&&p!==null&&(M=y(S,p));var B=T?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",Cx({className:R,style:I},B),Z.createElement("p",{className:O,style:_},Z.isValidElement(M)?M:"".concat(M)),A())};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function Ru(t,e,n){return e=L7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7(t){var e=F7(t,"string");return yl(e)=="symbol"?e:String(e)}function F7(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uo="recharts-tooltip-wrapper",$7={visibility:"hidden"};function U7(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ct(Uo,Ru(Ru(Ru(Ru({},"".concat(Uo,"-right"),be(n)&&e&&be(e.x)&&n>=e.x),"".concat(Uo,"-left"),be(n)&&e&&be(e.x)&&n<e.x),"".concat(Uo,"-bottom"),be(r)&&e&&be(e.y)&&r>=e.y),"".concat(Uo,"-top"),be(r)&&e&&be(e.y)&&r<e.y))}function YT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,l=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&be(a[r]))return a[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,w=d[r];return v<w?Math.max(m,d[r]):Math.max(p,d[r])}var N=m+c,S=d[r]+f;return N>S?Math.max(p,d[r]):Math.max(m,d[r])}function q7(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function B7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,p,m;return l.height>0&&l.width>0&&n?(p=YT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=YT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=q7({translateX:p,translateY:m,useTranslate3d:c})):f=$7,{cssProperties:f,cssClasses:U7({translateX:p,translateY:m,coordinate:n})}}function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zk(r.key),r)}}function G7(t,e,n){return e&&V7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H7(t,e,n){return e=hd(e),W7(t,Qk()?Reflect.construct(e,n||[],hd(t).constructor):e.apply(t,n))}function W7(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ku(t)}function Qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!t})()}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hd(t)}function Ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_x(t,e)}function Ju(t,e,n){return e=Zk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zk(t){var e=J7(t,"string");return Aa(e)=="symbol"?e:String(e)}function J7(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZT=1,Y7=(function(t){K7(e,t);function e(){var n;z7(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=H7(this,e,[].concat(i)),Ju(Ku(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ju(Ku(n),"lastBoundingBox",{width:-1,height:-1}),Ju(Ku(n),"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return G7(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>ZT||Math.abs(r.height-this.lastBoundingBox.height)>ZT)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,w=i.offset,N=i.position,S=i.reverseDirection,y=i.useTranslate3d,E=i.viewBox,T=i.wrapperStyle,A=B7({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:w,position:N,reverseDirection:S,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:y,viewBox:E}),I=A.cssClasses,_=A.cssProperties,k=QT(QT({transition:v&&a?"transform ".concat(c,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return Z.createElement("div",{tabIndex:-1,className:I,style:k,ref:function(R){r.wrapperNode=R}},f)}}]),e})(P.PureComponent),X7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cc={isSsr:X7()};function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tM(r.key),r)}}function eG(t,e,n){return e&&Z7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tG(t,e,n){return e=gd(e),nG(t,eM()?Reflect.construct(e,n||[],gd(t).constructor):e.apply(t,n))}function nG(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rG(t)}function rG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function iG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tx(t,e)}function ub(t,e,n){return e=tM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tM(t){var e=sG(t,"string");return ja(e)=="symbol"?e:String(e)}function sG(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aG(t){return t.dataKey}function oG(t,e){return Z.isValidElement(t)?Z.cloneElement(t,e):typeof t=="function"?Z.createElement(t,e):Z.createElement(O7,e)}var Nr=(function(t){iG(e,t);function e(){return Q7(this,e),tG(this,e,arguments)}return eG(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,w=i.offset,N=i.payload,S=i.payloadUniqBy,y=i.position,E=i.reverseDirection,T=i.useTranslate3d,A=i.viewBox,I=i.wrapperStyle,_=N??[];m&&_.length&&(_=Vk(N.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),S,aG));var k=_.length>0;return Z.createElement(Y7,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:v,active:a,coordinate:p,hasPayload:k,offset:w,position:y,reverseDirection:E,useTranslate3d:T,viewBox:A,wrapperStyle:I},oG(f,tA(tA({},this.props),{},{payload:_})))}}]),e})(P.PureComponent);ub(Nr,"displayName","Tooltip");ub(Nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Uv,nA;function lG(){if(nA)return Uv;nA=1;var t=Pr(),e=function(){return t.Date.now()};return Uv=e,Uv}var qv,rA;function cG(){if(rA)return qv;rA=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return qv=e,qv}var Bv,iA;function uG(){if(iA)return Bv;iA=1;var t=cG(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Bv=n,Bv}var zv,sA;function nM(){if(sA)return zv;sA=1;var t=uG(),e=$i(),n=Ga(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||l.test(f)?c(f.slice(2),m?2:8):i.test(f)?r:+f}return zv=d,zv}var Vv,aA;function dG(){if(aA)return Vv;aA=1;var t=$i(),e=lG(),n=nM(),r="Expected a function",i=Math.max,a=Math.min;function l(c,d,f){var p,m,v,w,N,S,y=0,E=!1,T=!1,A=!0;if(typeof c!="function")throw new TypeError(r);d=n(d)||0,t(f)&&(E=!!f.leading,T="maxWait"in f,v=T?i(n(f.maxWait)||0,d):v,A="trailing"in f?!!f.trailing:A);function I(L){var z=p,J=m;return p=m=void 0,y=L,w=c.apply(J,z),w}function _(L){return y=L,N=setTimeout(R,d),E?I(L):w}function k(L){var z=L-S,J=L-y,q=d-z;return T?a(q,v-J):q}function M(L){var z=L-S,J=L-y;return S===void 0||z>=d||z<0||T&&J>=v}function R(){var L=e();if(M(L))return O(L);N=setTimeout(R,k(L))}function O(L){return N=void 0,A&&p?I(L):(p=m=void 0,w)}function B(){N!==void 0&&clearTimeout(N),y=0,p=S=m=N=void 0}function $(){return N===void 0?w:O(e())}function F(){var L=e(),z=M(L);if(p=arguments,m=this,S=L,z){if(N===void 0)return _(S);if(T)return clearTimeout(N),N=setTimeout(R,d),I(S)}return N===void 0&&(N=setTimeout(R,d)),w}return F.cancel=B,F.flush=$,F}return Vv=l,Vv}var Gv,oA;function fG(){if(oA)return Gv;oA=1;var t=dG(),e=$i(),n="Expected a function";function r(i,a,l){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return Gv=r,Gv}var pG=fG();const rM=dt(pG);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){mG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=gG(t,"string");return bl(e)=="symbol"?e:String(e)}function gG(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vG(t,e){return wG(t)||bG(t,e)||yG(t,e)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function wG(t){if(Array.isArray(t))return t}var SG=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,l=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,p=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,w=t.children,N=t.debounce,S=N===void 0?0:N,y=t.id,E=t.className,T=t.onResize,A=t.style,I=A===void 0?{}:A,_=P.useRef(null),k=P.useRef();k.current=T,P.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var M=P.useState({containerWidth:i.width,containerHeight:i.height}),R=vG(M,2),O=R[0],B=R[1],$=P.useCallback(function(L,z){B(function(J){var q=Math.round(L),ee=Math.round(z);return J.containerWidth===q&&J.containerHeight===ee?J:{containerWidth:q,containerHeight:ee}})},[]);P.useEffect(function(){var L=function(re){var ae,V=re[0].contentRect,Q=V.width,ge=V.height;$(Q,ge),(ae=k.current)===null||ae===void 0||ae.call(k,Q,ge)};S>0&&(L=rM(L,S,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),J=_.current.getBoundingClientRect(),q=J.width,ee=J.height;return $(q,ee),z.observe(_.current),function(){z.disconnect()}},[$,S]);var F=P.useMemo(function(){var L=O.containerWidth,z=O.containerHeight;if(L<0||z<0)return null;ps(ls(l)||ls(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),ps(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=ls(l)?L:l,q=ls(d)?z:d;n&&n>0&&(J?q=J/n:q&&(J=q*n),v&&q>v&&(q=v)),ps(J>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,q,l,d,p,m,n);var ee=!Array.isArray(w)&&ux.isElement(w)&&Br(w.type).endsWith("Chart");return Z.Children.map(w,function(X){return ux.isElement(X)?P.cloneElement(X,Du({width:J,height:q},ee?{style:Du({height:"100%",width:"100%",maxHeight:q,maxWidth:J},X.props.style)}:{})):X})},[n,w,d,v,m,p,O,l]);return Z.createElement("div",{id:y?"".concat(y):void 0,className:ct("recharts-responsive-container",E),style:Du(Du({},I),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:_},F)}),db=function(e){return null};db.displayName="Cell";function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){NG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t,e,n){return e=EG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=CG(t,"string");return wl(e)=="symbol"?e:String(e)}function CG(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oa={widthCache:{},cacheCount:0},_G=2e3,TG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dA="recharts_measurement_span";function AG(t){var e=Ax({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var il=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cc.isSsr)return{width:0,height:0};var r=AG(n),i=JSON.stringify({text:e,copyStyle:r});if(oa.widthCache[i])return oa.widthCache[i];try{var a=document.getElementById(dA);a||(a=document.createElement("span"),a.setAttribute("id",dA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var l=Ax(Ax({},TG),r);Object.assign(a.style,l),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return oa.widthCache[i]=d,++oa.cacheCount>_G&&(oa.cacheCount=0,oa.widthCache={}),d}catch{return{width:0,height:0}}},jG=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function vd(t,e){return MG(t)||kG(t,e)||PG(t,e)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(t,e){if(t){if(typeof t=="string")return fA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function MG(t){if(Array.isArray(t))return t}function RG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OG(r.key),r)}}function DG(t,e,n){return e&&pA(t.prototype,e),n&&pA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OG(t){var e=LG(t,"string");return Sl(e)=="symbol"?e:String(e)}function LG(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$G=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UG=Object.keys(iM),pa="NaN";function qG(t,e){return t*iM[e]}var Ou=(function(){function t(e,n){RG(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!FG.test(n)&&(this.num=NaN,this.unit=""),UG.includes(n)&&(this.num=qG(e,n),this.unit="px")}return DG(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$G.exec(n))!==null&&r!==void 0?r:[],a=vd(i,3),l=a[1],c=a[2];return new t(parseFloat(l),c??"")}}]),t})();function sM(t){if(t.includes(pa))return pa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=mA.exec(e))!==null&&n!==void 0?n:[],i=vd(r,4),a=i[1],l=i[2],c=i[3],d=Ou.parse(a??""),f=Ou.parse(c??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return pa;e=e.replace(mA,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=hA.exec(e))!==null&&m!==void 0?m:[],w=vd(v,4),N=w[1],S=w[2],y=w[3],E=Ou.parse(N??""),T=Ou.parse(y??""),A=S==="+"?E.add(T):E.subtract(T);if(A.isNaN())return pa;e=e.replace(hA,A.toString())}return e}var gA=/\(([^()]*)\)/;function BG(t){for(var e=t;e.includes("(");){var n=gA.exec(e),r=vd(n,2),i=r[1];e=e.replace(gA,sM(i))}return e}function zG(t){var e=t.replace(/\s+/g,"");return e=BG(e),e=sM(e),e}function VG(t){try{return zG(t)}catch{return pa}}function Hv(t){var e=VG(t.slice(5,-1));return e===pa?"":e}var GG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HG=["dx","dy","angle","className","breakAll"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function vA(t,e){if(t==null)return{};var n=WG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xA(t,e){return XG(t)||YG(t,e)||JG(t,e)||KG()}function KG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return yA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(t,e)}}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function XG(t){if(Array.isArray(t))return t}var aM=/[ \f\n\r\t\v\u2028\u2029]+/,oM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ot(n)||(r?a=n.toString().split(""):a=n.toString().split(aM));var l=a.map(function(d){return{word:d,width:il(d,i).width}}),c=r?0:il("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},QG=function(e,n,r,i,a){var l=e.maxLines,c=e.children,d=e.style,f=e.breakAll,p=be(l),m=c,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(q,ee){var X=ee.word,re=ee.width,ae=q[q.length-1];if(ae&&(i==null||a||ae.width+re+r<Number(i)))ae.words.push(X),ae.width+=re+r;else{var V={words:[X],width:re};q.push(V)}return q},[])},w=v(n),N=function(J){return J.reduce(function(q,ee){return q.width>ee.width?q:ee})};if(!p)return w;for(var S="",y=function(J){var q=m.slice(0,J),ee=oM({breakAll:f,style:d,children:q+S}).wordsWithComputedWidth,X=v(ee),re=X.length>l||N(X).width>Number(i);return[re,X]},E=0,T=m.length-1,A=0,I;E<=T&&A<=m.length-1;){var _=Math.floor((E+T)/2),k=_-1,M=y(k),R=xA(M,2),O=R[0],B=R[1],$=y(_),F=xA($,1),L=F[0];if(!O&&!L&&(E=_+1),O&&L&&(T=_-1),!O&&L){I=B;break}A++}return I||w},bA=function(e){var n=ot(e)?[]:e.toString().split(aM);return[{words:n}]},ZG=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!cc.isSsr){var d,f,p=oM({breakAll:l,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,f=v}else return bA(i);return QG({breakAll:l,children:i,maxLines:c,style:a},d,f,n,r)}return bA(i)},wA="#808080",xd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,w=v===void 0?"start":v,N=e.verticalAnchor,S=N===void 0?"end":N,y=e.fill,E=y===void 0?wA:y,T=vA(e,GG),A=P.useMemo(function(){return ZG({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),I=T.dx,_=T.dy,k=T.angle,M=T.className,R=T.breakAll,O=vA(T,HG);if(!Rt(r)||!Rt(a))return null;var B=r+(be(I)?I:0),$=a+(be(_)?_:0),F;switch(S){case"start":F=Hv("calc(".concat(f,")"));break;case"middle":F=Hv("calc(".concat((A.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:F=Hv("calc(".concat(A.length-1," * -").concat(c,")"));break}var L=[];if(m){var z=A[0].width,J=T.width;L.push("scale(".concat((be(J)?J/z:1)/z,")"))}return k&&L.push("rotate(".concat(k,", ").concat(B,", ").concat($,")")),L.length&&(O.transform=L.join(" ")),Z.createElement("text",jx({},nt(O,!0),{x:B,y:$,className:ct("recharts-text",M),textAnchor:w,fill:E.includes("url")?wA:E}),A.map(function(q,ee){var X=q.words.join(R?"":" ");return Z.createElement("tspan",{x:B,dy:ee===0?F:c,key:X},X)}))};function ki(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fb(t){let e,n,r;t.length!==2?(e=ki,n=(c,d)=>ki(t(c),d),r=(c,d)=>t(c)-d):(e=t===ki||t===eH?t:tH,n=t,r=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function a(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(c,d,f=0,p=c.length){const m=i(c,d,f,p-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:l,right:a}}function tH(){return 0}function lM(t){return t===null?NaN:+t}function*nH(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rH=fb(ki),uc=rH.right;fb(lM).center;class SA extends Map{constructor(e,n=aH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NA(this,e))}has(e){return super.has(NA(this,e))}set(e,n){return super.set(iH(this,e),n)}delete(e){return super.delete(sH(this,e))}}function NA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sH({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oH(t=ki){if(t===ki)return cM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lH=Math.sqrt(50),cH=Math.sqrt(10),uH=Math.sqrt(2);function yd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=lH?10:a>=cH?5:a>=uH?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?yd(t,e,n*2):[c,d,f]}function Ix(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?yd(e,t,n):yd(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(a-f)/-l;else for(let f=0;f<c;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function Px(t,e,n){return e=+e,t=+t,n=+n,yd(t,e,n)[2]}function kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Px(e,t,n):Px(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function EA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function CA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function uM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cM:oH(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*m/d+v)),N=Math.min(r,Math.floor(e+(d-f)*m/d+v));uM(t,e,w,N,i)}const a=t[e];let l=n,c=r;for(qo(t,n,e),i(t[r],a)>0&&qo(t,n,r);l<c;){for(qo(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?qo(t,n,c):(++c,qo(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function qo(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dH(t,e,n){if(t=Float64Array.from(nH(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CA(t);if(e>=1)return EA(t);var r,i=(r-1)*e,a=Math.floor(i),l=EA(uM(t,a).subarray(0,a+1)),c=CA(t.subarray(a+1));return l+(c-l)*(i-a)}}function fH(t,e,n=lM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function pH(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ei(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Mx=Symbol("implicit");function pb(){var t=new SA,e=[],n=[],r=Mx;function i(a){let l=t.get(a);if(l===void 0){if(r!==Mx)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new SA;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pb(e,n).unknown(r)},er.apply(i,arguments),i}function Nl(){var t=pb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,c=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var v=e().length,w=i<r,N=w?i:r,S=w?r:i;a=(S-N)/Math.max(1,v-d+f*2),c&&(a=Math.floor(a)),N+=(S-N-a*(v-d))*p,l=a*(1-d),c&&(N=Math.round(N),l=Math.round(l));var y=pH(v).map(function(E){return N+a*E});return n(w?y.reverse():y)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Nl(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},er.apply(m(),arguments)}function dM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dM(e())},t}function sl(){return dM(Nl.apply(null,arguments).paddingInner(1))}function mb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dc(){}var El=.7,bd=1/El,ba="\\s*([+-]?\\d+)\\s*",Cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mH=/^#([0-9a-f]{3,8})$/,hH=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),gH=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),vH=new RegExp(`^rgba\\(${ba},${ba},${ba},${Cl}\\)$`),xH=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Cl}\\)$`),yH=new RegExp(`^hsl\\(${Cl},${Cr},${Cr}\\)$`),bH=new RegExp(`^hsla\\(${Cl},${Cr},${Cr},${Cl}\\)$`),_A={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(dc,_l,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TA,formatHex:TA,formatHex8:wH,formatHsl:SH,formatRgb:AA,toString:AA});function TA(){return this.rgb().formatHex()}function wH(){return this.rgb().formatHex8()}function SH(){return pM(this).formatHsl()}function AA(){return this.rgb().formatRgb()}function _l(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jA(e):n===3?new Nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hH.exec(t))?new Nn(e[1],e[2],e[3],1):(e=gH.exec(t))?new Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vH.exec(t))?Lu(e[1],e[2],e[3],e[4]):(e=xH.exec(t))?Lu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yH.exec(t))?kA(e[1],e[2]/100,e[3]/100,1):(e=bH.exec(t))?kA(e[1],e[2]/100,e[3]/100,e[4]):_A.hasOwnProperty(t)?jA(_A[t]):t==="transparent"?new Nn(NaN,NaN,NaN,0):null}function jA(t){return new Nn(t>>16&255,t>>8&255,t&255,1)}function Lu(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nn(t,e,n,r)}function NH(t){return t instanceof dc||(t=_l(t)),t?(t=t.rgb(),new Nn(t.r,t.g,t.b,t.opacity)):new Nn}function Rx(t,e,n,r){return arguments.length===1?NH(t):new Nn(t,e,n,r??1)}function Nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mb(Nn,Rx,fM(dc,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nn(ms(this.r),ms(this.g),ms(this.b),wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IA,formatHex:IA,formatHex8:EH,formatRgb:PA,toString:PA}));function IA(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function EH(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function PA(){const t=wd(this.opacity);return`${t===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${t===1?")":`, ${t})`}`}function wd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ms(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cs(t){return t=ms(t),(t<16?"0":"")+t.toString(16)}function kA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ur(t,e,n,r)}function pM(t){if(t instanceof ur)return new ur(t.h,t.s,t.l,t.opacity);if(t instanceof dc||(t=_l(t)),!t)return new ur;if(t instanceof ur)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,c=a-i,d=(a+i)/2;return c?(e===a?l=(n-r)/c+(n<r)*6:n===a?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?a+i:2-a-i,l*=60):c=d>0&&d<1?0:l,new ur(l,c,d,t.opacity)}function CH(t,e,n,r){return arguments.length===1?pM(t):new ur(t,e,n,r??1)}function ur(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mb(ur,CH,fM(dc,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new ur(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new ur(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nn(Wv(t>=240?t-240:t+120,i,r),Wv(t,i,r),Wv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ur(MA(this.h),Fu(this.s),Fu(this.l),wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wd(this.opacity);return`${t===1?"hsl(":"hsla("}${MA(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MA(t){return t=(t||0)%360,t<0?t+360:t}function Fu(t){return Math.max(0,Math.min(1,t||0))}function Wv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hb=t=>()=>t;function _H(t,e){return function(n){return t+n*e}}function TH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function AH(t){return(t=+t)==1?mM:function(e,n){return n-e?TH(e,n,t):hb(isNaN(e)?n:e)}}function mM(t,e){var n=e-t;return n?_H(t,n):hb(isNaN(t)?e:t)}const RA=(function t(e){var n=AH(e);function r(i,a){var l=n((i=Rx(i)).r,(a=Rx(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=mM(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function jH(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function IH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PH(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Ka(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(c){for(l=0;l<r;++l)a[l]=i[l](c);return a}}function kH(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MH(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ka(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kv=new RegExp(Dx.source,"g");function RH(t){return function(){return t}}function DH(t){return function(e){return t(e)+""}}function OH(t,e){var n=Dx.lastIndex=Kv.lastIndex=0,r,i,a,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Dx.exec(t))&&(i=Kv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Sd(r,i)})),n=Kv.lastIndex;return n<e.length&&(a=e.slice(n),c[l]?c[l]+=a:c[++l]=a),c.length<2?d[0]?DH(d[0].x):RH(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function Ka(t,e){var n=typeof e,r;return e==null||n==="boolean"?hb(e):(n==="number"?Sd:n==="string"?(r=_l(e))?(e=r,RA):OH:e instanceof _l?RA:e instanceof Date?kH:IH(e)?jH:Array.isArray(e)?PH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MH:Sd)(t,e)}function gb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LH(t,e){e===void 0&&(e=t,t=Ka);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[c](l-c)}}function FH(t){return function(){return t}}function Nd(t){return+t}var DA=[0,1];function fn(t){return t}function Ox(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FH(isNaN(e)?NaN:.5)}function $H(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function UH(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=Ox(i,r),a=n(l,a)):(r=Ox(r,i),a=n(a,l)),function(c){return a(r(c))}}function qH(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Ox(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(c){var d=uc(t,c,1,r)-1;return a[d](i[d](c))}}function fc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nf(){var t=DA,e=DA,n=Ka,r,i,a,l=fn,c,d,f;function p(){var v=Math.min(t.length,e.length);return l!==fn&&(l=$H(t[0],t[v-1])),c=v>2?qH:UH,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(d||(d=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((f||(f=c(e,t.map(r),Sd)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Nd),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=gb,p()},m.clamp=function(v){return arguments.length?(l=v?!0:fn,p()):l!==fn},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,w){return r=v,i=w,p()}}function vb(){return Nf()(fn,fn)}function BH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ed(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ia(t){return t=Ed(Math.abs(t)),t?t[1]:NaN}function zH(t,e){return function(n,r){for(var i=n.length,a=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function VH(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var GH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tl(t){if(!(e=GH.exec(t)))throw new Error("invalid format: "+t);var e;return new xb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tl.prototype=xb.prototype;function xb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HH(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hM;function WH(t,e){var n=Ed(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(hM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ed(t,Math.max(0,e+a-1))[0]}function OA(t,e){var n=Ed(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:BH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OA(t*100,e),r:OA,s:WH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function FA(t){return t}var $A=Array.prototype.map,UA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KH(t){var e=t.grouping===void 0||t.thousands===void 0?FA:zH($A.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?FA:VH($A.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Tl(m);var v=m.fill,w=m.align,N=m.sign,S=m.symbol,y=m.zero,E=m.width,T=m.comma,A=m.precision,I=m.trim,_=m.type;_==="n"?(T=!0,_="g"):LA[_]||(A===void 0&&(A=12),I=!0,_="g"),(y||v==="0"&&w==="=")&&(y=!0,v="0",w="=");var k=S==="$"?n:S==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",M=S==="$"?r:/[%p]/.test(_)?l:"",R=LA[_],O=/[defgprs%]/.test(_);A=A===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function B($){var F=k,L=M,z,J,q;if(_==="c")L=R($)+L,$="";else{$=+$;var ee=$<0||1/$<0;if($=isNaN($)?d:R(Math.abs($),A),I&&($=HH($)),ee&&+$==0&&N!=="+"&&(ee=!1),F=(ee?N==="("?N:c:N==="-"||N==="("?"":N)+F,L=(_==="s"?UA[8+hM/3]:"")+L+(ee&&N==="("?")":""),O){for(z=-1,J=$.length;++z<J;)if(q=$.charCodeAt(z),48>q||q>57){L=(q===46?i+$.slice(z+1):$.slice(z))+L,$=$.slice(0,z);break}}}T&&!y&&($=e($,1/0));var X=F.length+$.length+L.length,re=X<E?new Array(E-X+1).join(v):"";switch(T&&y&&($=e(re+$,re.length?E-L.length:1/0),re=""),w){case"<":$=F+$+L+re;break;case"=":$=F+re+$+L;break;case"^":$=re.slice(0,X=re.length>>1)+F+$+L+re.slice(X);break;default:$=re+F+$+L;break}return a($)}return B.toString=function(){return m+""},B}function p(m,v){var w=f((m=Tl(m),m.type="f",m)),N=Math.max(-8,Math.min(8,Math.floor(Ia(v)/3)))*3,S=Math.pow(10,-N),y=UA[8+N/3];return function(E){return w(S*E)+y}}return{format:f,formatPrefix:p}}var $u,yb,gM;JH({thousands:",",grouping:[3],currency:["$",""]});function JH(t){return $u=KH(t),yb=$u.format,gM=$u.formatPrefix,$u}function YH(t){return Math.max(0,-Ia(Math.abs(t)))}function XH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ia(e)/3)))*3-Ia(Math.abs(t)))}function QH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ia(e)-Ia(t))+1}function vM(t,e,n,r){var i=kx(t,e,n),a;switch(r=Tl(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=XH(i,l))&&(r.precision=a),gM(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=QH(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=YH(i))&&(r.precision=a-(r.type==="%")*2);break}}return yb(r)}function qi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ix(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],c=r[a],d,f,p=10;for(c<l&&(f=l,l=c,c=f,f=i,i=a,a=f);p-- >0;){if(f=Px(l,c,n),f===d)return r[i]=l,r[a]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function Cd(){var t=vb();return t.copy=function(){return fc(t,Cd())},er.apply(t,arguments),qi(t)}function xM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Nd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xM(t).unknown(e)},t=arguments.length?Array.from(t,Nd):[0,1],qi(n)}function yM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qA(t){return Math.log(t)}function BA(t){return Math.exp(t)}function ZH(t){return-Math.log(-t)}function e9(t){return-Math.exp(-t)}function t9(t){return isFinite(t)?+("1e"+t):t<0?0:t}function n9(t){return t===10?t9:t===Math.E?Math.exp:e=>Math.pow(t,e)}function r9(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zA(t){return(e,n)=>-t(-e,n)}function bb(t){const e=t(qA,BA),n=e.domain;let r=10,i,a;function l(){return i=r9(r),a=n9(r),n()[0]<0?(i=zA(i),a=zA(a),t(ZH,e9)):t(qA,BA),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=i(f),w=i(p),N,S;const y=c==null?10:+c;let E=[];if(!(r%1)&&w-v<y){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(N=1;N<r;++N)if(S=v<0?N/a(-v):N*a(v),!(S<f)){if(S>p)break;E.push(S)}}else for(;v<=w;++v)for(N=r-1;N>=1;--N)if(S=v>0?N/a(-v):N*a(v),!(S<f)){if(S>p)break;E.push(S)}E.length*2<y&&(E=Ix(f,p,y))}else E=Ix(v,w,Math.min(w-v,y)).map(a);return m?E.reverse():E},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Tl(d)).precision==null&&(d.trim=!0),d=yb(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},e.nice=()=>n(yM(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function bM(){const t=bb(Nf()).domain([1,10]);return t.copy=()=>fc(t,bM()).base(t.base()),er.apply(t,arguments),t}function VA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wb(t){var e=1,n=t(VA(e),GA(e));return n.constant=function(r){return arguments.length?t(VA(e=+r),GA(e)):e},qi(n)}function wM(){var t=wb(Nf());return t.copy=function(){return fc(t,wM()).constant(t.constant())},er.apply(t,arguments)}function HA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function i9(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function s9(t){return t<0?-t*t:t*t}function Sb(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(i9,s9):t(HA(n),HA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qi(e)}function Nb(){var t=Sb(Nf());return t.copy=function(){return fc(t,Nb()).exponent(t.exponent())},er.apply(t,arguments),t}function a9(){return Nb.apply(null,arguments).exponent(.5)}function WA(t){return Math.sign(t)*t*t}function o9(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SM(){var t=vb(),e=[0,1],n=!1,r;function i(a){var l=o9(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(WA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Nd)).map(WA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},er.apply(i,arguments),qi(i)}function NM(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=fH(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?r:e[uc(n,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ki),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return NM().domain(t).range(e).unknown(r)},er.apply(a,arguments)}function EM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[uc(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return EM().domain([t,e]).range(i).unknown(a)},er.apply(qi(l),arguments)}function CM(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[uc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return CM().domain(t).range(e).unknown(n)},er.apply(i,arguments)}const Jv=new Date,Yv=new Date;function Ot(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<l);return d},i.filter=a=>Ot(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Jv.setTime(+a),Yv.setTime(+l),t(Jv),t(Yv),Math.floor(n(Jv,Yv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const _d=Ot(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_d.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ot(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_d);_d.range;const Ur=1e3,Hn=Ur*60,qr=Hn*60,Hr=qr*24,Eb=Hr*7,KA=Hr*30,Xv=Hr*365,us=Ot(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCSeconds());us.range;const Cb=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ur)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getMinutes());Cb.range;const _b=Ot(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCMinutes());_b.range;const Tb=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ur-t.getMinutes()*Hn)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getHours());Tb.range;const Ab=Ot(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCHours());Ab.range;const pc=Ot(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/Hr,t=>t.getDate()-1);pc.range;const Ef=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hr,t=>t.getUTCDate()-1);Ef.range;const _M=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hr,t=>Math.floor(t/Hr));_M.range;function ks(t){return Ot(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/Eb)}const Cf=ks(0),Td=ks(1),l9=ks(2),c9=ks(3),Pa=ks(4),u9=ks(5),d9=ks(6);Cf.range;Td.range;l9.range;c9.range;Pa.range;u9.range;d9.range;function Ms(t){return Ot(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Eb)}const _f=Ms(0),Ad=Ms(1),f9=Ms(2),p9=Ms(3),ka=Ms(4),m9=Ms(5),h9=Ms(6);_f.range;Ad.range;f9.range;p9.range;ka.range;m9.range;h9.range;const jb=Ot(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jb.range;const Ib=Ot(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ib.range;const Wr=Ot(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Wr.range;const Kr=Ot(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Kr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Kr.range;function TM(t,e,n,r,i,a){const l=[[us,1,Ur],[us,5,5*Ur],[us,15,15*Ur],[us,30,30*Ur],[a,1,Hn],[a,5,5*Hn],[a,15,15*Hn],[a,30,30*Hn],[i,1,qr],[i,3,3*qr],[i,6,6*qr],[i,12,12*qr],[r,1,Hr],[r,2,2*Hr],[n,1,Eb],[e,1,KA],[e,3,3*KA],[t,1,Xv]];function c(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const w=m&&typeof m.range=="function"?m:d(f,p,m),N=w?w.range(f,+p+1):[];return v?N.reverse():N}function d(f,p,m){const v=Math.abs(p-f)/m,w=fb(([,,y])=>y).right(l,v);if(w===l.length)return t.every(kx(f/Xv,p/Xv,m));if(w===0)return _d.every(Math.max(kx(f,p,m),1));const[N,S]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return N.every(S)}return[c,d]}const[g9,v9]=TM(Kr,Ib,_f,_M,Ab,_b),[x9,y9]=TM(Wr,jb,Cf,pc,Tb,Cb);function Qv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bo(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function b9(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=zo(i),p=Vo(i),m=zo(a),v=Vo(a),w=zo(l),N=Vo(l),S=zo(c),y=Vo(c),E=zo(d),T=Vo(d),A={a:ee,A:X,b:re,B:ae,c:null,d:ej,e:ej,f:z9,g:Z9,G:tW,H:U9,I:q9,j:B9,L:AM,m:V9,M:G9,p:V,q:Q,Q:rj,s:ij,S:H9,u:W9,U:K9,V:J9,w:Y9,W:X9,x:null,X:null,y:Q9,Y:eW,Z:nW,"%":nj},I={a:ge,A:Ie,b:ne,B:Pe,c:null,d:tj,e:tj,f:aW,g:gW,G:xW,H:rW,I:iW,j:sW,L:IM,m:oW,M:lW,p:Le,q:ke,Q:rj,s:ij,S:cW,u:uW,U:dW,V:fW,w:pW,W:mW,x:null,X:null,y:hW,Y:vW,Z:yW,"%":nj},_={a:B,A:$,b:F,B:L,c:z,d:QA,e:QA,f:O9,g:XA,G:YA,H:ZA,I:ZA,j:k9,L:D9,m:P9,M:M9,p:O,q:I9,Q:F9,s:$9,S:R9,u:C9,U:_9,V:T9,w:E9,W:A9,x:J,X:q,y:XA,Y:YA,Z:j9,"%":L9};A.x=k(n,A),A.X=k(r,A),A.c=k(e,A),I.x=k(n,I),I.X=k(r,I),I.c=k(e,I);function k(ce,_e){return function(Fe){var pe=[],rt=-1,$e=0,it=ce.length,ft,Wt,Dn;for(Fe instanceof Date||(Fe=new Date(+Fe));++rt<it;)ce.charCodeAt(rt)===37&&(pe.push(ce.slice($e,rt)),(Wt=JA[ft=ce.charAt(++rt)])!=null?ft=ce.charAt(++rt):Wt=ft==="e"?" ":"0",(Dn=_e[ft])&&(ft=Dn(Fe,Wt)),pe.push(ft),$e=rt+1);return pe.push(ce.slice($e,rt)),pe.join("")}}function M(ce,_e){return function(Fe){var pe=Bo(1900,void 0,1),rt=R(pe,ce,Fe+="",0),$e,it;if(rt!=Fe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(_e&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=Zv(Bo(pe.y,0,1)),it=$e.getUTCDay(),$e=it>4||it===0?Ad.ceil($e):Ad($e),$e=Ef.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=Qv(Bo(pe.y,0,1)),it=$e.getDay(),$e=it>4||it===0?Td.ceil($e):Td($e),$e=pc.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),it="Z"in pe?Zv(Bo(pe.y,0,1)).getUTCDay():Qv(Bo(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(it+5)%7:pe.w+pe.U*7-(it+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Zv(pe)):Qv(pe)}}function R(ce,_e,Fe,pe){for(var rt=0,$e=_e.length,it=Fe.length,ft,Wt;rt<$e;){if(pe>=it)return-1;if(ft=_e.charCodeAt(rt++),ft===37){if(ft=_e.charAt(rt++),Wt=_[ft in JA?_e.charAt(rt++):ft],!Wt||(pe=Wt(ce,Fe,pe))<0)return-1}else if(ft!=Fe.charCodeAt(pe++))return-1}return pe}function O(ce,_e,Fe){var pe=f.exec(_e.slice(Fe));return pe?(ce.p=p.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function B(ce,_e,Fe){var pe=w.exec(_e.slice(Fe));return pe?(ce.w=N.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function $(ce,_e,Fe){var pe=m.exec(_e.slice(Fe));return pe?(ce.w=v.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function F(ce,_e,Fe){var pe=E.exec(_e.slice(Fe));return pe?(ce.m=T.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function L(ce,_e,Fe){var pe=S.exec(_e.slice(Fe));return pe?(ce.m=y.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function z(ce,_e,Fe){return R(ce,e,_e,Fe)}function J(ce,_e,Fe){return R(ce,n,_e,Fe)}function q(ce,_e,Fe){return R(ce,r,_e,Fe)}function ee(ce){return l[ce.getDay()]}function X(ce){return a[ce.getDay()]}function re(ce){return d[ce.getMonth()]}function ae(ce){return c[ce.getMonth()]}function V(ce){return i[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function ge(ce){return l[ce.getUTCDay()]}function Ie(ce){return a[ce.getUTCDay()]}function ne(ce){return d[ce.getUTCMonth()]}function Pe(ce){return c[ce.getUTCMonth()]}function Le(ce){return i[+(ce.getUTCHours()>=12)]}function ke(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var _e=k(ce+="",A);return _e.toString=function(){return ce},_e},parse:function(ce){var _e=M(ce+="",!1);return _e.toString=function(){return ce},_e},utcFormat:function(ce){var _e=k(ce+="",I);return _e.toString=function(){return ce},_e},utcParse:function(ce){var _e=M(ce+="",!0);return _e.toString=function(){return ce},_e}}}var JA={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,w9=/^%/,S9=/[\\^$*+?|[\]().{}]/g;function Qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function N9(t){return t.replace(S9,"\\$&")}function zo(t){return new RegExp("^(?:"+t.map(N9).join("|")+")","i")}function Vo(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function E9(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function C9(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function T9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function A9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YA(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function XA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function j9(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function I9(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function P9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function k9(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function M9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function R9(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function D9(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function O9(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function L9(t,e,n){var r=w9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F9(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $9(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ej(t,e){return Qe(t.getDate(),e,2)}function U9(t,e){return Qe(t.getHours(),e,2)}function q9(t,e){return Qe(t.getHours()%12||12,e,2)}function B9(t,e){return Qe(1+pc.count(Wr(t),t),e,3)}function AM(t,e){return Qe(t.getMilliseconds(),e,3)}function z9(t,e){return AM(t,e)+"000"}function V9(t,e){return Qe(t.getMonth()+1,e,2)}function G9(t,e){return Qe(t.getMinutes(),e,2)}function H9(t,e){return Qe(t.getSeconds(),e,2)}function W9(t){var e=t.getDay();return e===0?7:e}function K9(t,e){return Qe(Cf.count(Wr(t)-1,t),e,2)}function jM(t){var e=t.getDay();return e>=4||e===0?Pa(t):Pa.ceil(t)}function J9(t,e){return t=jM(t),Qe(Pa.count(Wr(t),t)+(Wr(t).getDay()===4),e,2)}function Y9(t){return t.getDay()}function X9(t,e){return Qe(Td.count(Wr(t)-1,t),e,2)}function Q9(t,e){return Qe(t.getFullYear()%100,e,2)}function Z9(t,e){return t=jM(t),Qe(t.getFullYear()%100,e,2)}function eW(t,e){return Qe(t.getFullYear()%1e4,e,4)}function tW(t,e){var n=t.getDay();return t=n>=4||n===0?Pa(t):Pa.ceil(t),Qe(t.getFullYear()%1e4,e,4)}function nW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qe(e/60|0,"0",2)+Qe(e%60,"0",2)}function tj(t,e){return Qe(t.getUTCDate(),e,2)}function rW(t,e){return Qe(t.getUTCHours(),e,2)}function iW(t,e){return Qe(t.getUTCHours()%12||12,e,2)}function sW(t,e){return Qe(1+Ef.count(Kr(t),t),e,3)}function IM(t,e){return Qe(t.getUTCMilliseconds(),e,3)}function aW(t,e){return IM(t,e)+"000"}function oW(t,e){return Qe(t.getUTCMonth()+1,e,2)}function lW(t,e){return Qe(t.getUTCMinutes(),e,2)}function cW(t,e){return Qe(t.getUTCSeconds(),e,2)}function uW(t){var e=t.getUTCDay();return e===0?7:e}function dW(t,e){return Qe(_f.count(Kr(t)-1,t),e,2)}function PM(t){var e=t.getUTCDay();return e>=4||e===0?ka(t):ka.ceil(t)}function fW(t,e){return t=PM(t),Qe(ka.count(Kr(t),t)+(Kr(t).getUTCDay()===4),e,2)}function pW(t){return t.getUTCDay()}function mW(t,e){return Qe(Ad.count(Kr(t)-1,t),e,2)}function hW(t,e){return Qe(t.getUTCFullYear()%100,e,2)}function gW(t,e){return t=PM(t),Qe(t.getUTCFullYear()%100,e,2)}function vW(t,e){return Qe(t.getUTCFullYear()%1e4,e,4)}function xW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ka(t):ka.ceil(t),Qe(t.getUTCFullYear()%1e4,e,4)}function yW(){return"+0000"}function nj(){return"%"}function rj(t){return+t}function ij(t){return Math.floor(+t/1e3)}var la,kM,MM;bW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bW(t){return la=b9(t),kM=la.format,la.parse,MM=la.utcFormat,la.utcParse,la}function wW(t){return new Date(t)}function SW(t){return t instanceof Date?+t:+new Date(+t)}function Pb(t,e,n,r,i,a,l,c,d,f){var p=vb(),m=p.invert,v=p.domain,w=f(".%L"),N=f(":%S"),S=f("%I:%M"),y=f("%I %p"),E=f("%a %d"),T=f("%b %d"),A=f("%B"),I=f("%Y");function _(k){return(d(k)<k?w:c(k)<k?N:l(k)<k?S:a(k)<k?y:r(k)<k?i(k)<k?E:T:n(k)<k?A:I)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?v(Array.from(k,SW)):v().map(wW)},p.ticks=function(k){var M=v();return t(M[0],M[M.length-1],k??10)},p.tickFormat=function(k,M){return M==null?_:f(M)},p.nice=function(k){var M=v();return(!k||typeof k.range!="function")&&(k=e(M[0],M[M.length-1],k??10)),k?v(yM(M,k)):p},p.copy=function(){return fc(p,Pb(t,e,n,r,i,a,l,c,d,f))},p}function NW(){return er.apply(Pb(x9,y9,Wr,jb,Cf,pc,Tb,Cb,us,kM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EW(){return er.apply(Pb(g9,v9,Kr,Ib,_f,Ef,Ab,_b,us,MM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tf(){var t=0,e=1,n,r,i,a,l=fn,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(a(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(v){var w,N;return arguments.length?([w,N]=v,l=m(w,N),f):[l(0),l(1)]}}return f.range=p(Ka),f.rangeRound=p(gb),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Bi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RM(){var t=qi(Tf()(fn));return t.copy=function(){return Bi(t,RM())},ei.apply(t,arguments)}function DM(){var t=bb(Tf()).domain([1,10]);return t.copy=function(){return Bi(t,DM()).base(t.base())},ei.apply(t,arguments)}function OM(){var t=wb(Tf());return t.copy=function(){return Bi(t,OM()).constant(t.constant())},ei.apply(t,arguments)}function kb(){var t=Sb(Tf());return t.copy=function(){return Bi(t,kb()).exponent(t.exponent())},ei.apply(t,arguments)}function CW(){return kb.apply(null,arguments).exponent(.5)}function LM(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((uc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ki),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dH(t,a/r))},n.copy=function(){return LM(e).domain(t)},ei.apply(n,arguments)}function Af(){var t=0,e=.5,n=1,r=1,i,a,l,c,d,f=fn,p,m=!1,v;function w(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-a)*(r*S<r*a?c:d),f(m?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),a=p(e=+e),l=p(n=+n),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(m=!!S,w):m},w.interpolator=function(S){return arguments.length?(f=S,w):f};function N(S){return function(y){var E,T,A;return arguments.length?([E,T,A]=y,f=LH(S,[E,T,A]),w):[f(0),f(.5),f(1)]}}return w.range=N(Ka),w.rangeRound=N(gb),w.unknown=function(S){return arguments.length?(v=S,w):v},function(S){return p=S,i=S(t),a=S(e),l=S(n),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,w}}function FM(){var t=qi(Af()(fn));return t.copy=function(){return Bi(t,FM())},ei.apply(t,arguments)}function $M(){var t=bb(Af()).domain([.1,1,10]);return t.copy=function(){return Bi(t,$M()).base(t.base())},ei.apply(t,arguments)}function UM(){var t=wb(Af());return t.copy=function(){return Bi(t,UM()).constant(t.constant())},ei.apply(t,arguments)}function Mb(){var t=Sb(Af());return t.copy=function(){return Bi(t,Mb()).exponent(t.exponent())},ei.apply(t,arguments)}function _W(){return Mb.apply(null,arguments).exponent(.5)}const sj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nl,scaleDiverging:FM,scaleDivergingLog:$M,scaleDivergingPow:Mb,scaleDivergingSqrt:_W,scaleDivergingSymlog:UM,scaleIdentity:xM,scaleImplicit:Mx,scaleLinear:Cd,scaleLog:bM,scaleOrdinal:pb,scalePoint:sl,scalePow:Nb,scaleQuantile:NM,scaleQuantize:EM,scaleRadial:SM,scaleSequential:RM,scaleSequentialLog:DM,scaleSequentialPow:kb,scaleSequentialQuantile:LM,scaleSequentialSqrt:CW,scaleSequentialSymlog:OM,scaleSqrt:a9,scaleSymlog:wM,scaleThreshold:CM,scaleTime:NW,scaleUtc:EW,tickFormat:vM},Symbol.toStringTag,{value:"Module"}));var e0,aj;function qM(){if(aj)return e0;aj=1;var t=Ga();function e(n,r,i){for(var a=-1,l=n.length;++a<l;){var c=n[a],d=r(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=c}return p}return e0=e,e0}var t0,oj;function TW(){if(oj)return t0;oj=1;function t(e,n){return e>n}return t0=t,t0}var n0,lj;function AW(){if(lj)return n0;lj=1;var t=qM(),e=TW(),n=Wa();function r(i){return i&&i.length?t(i,n,e):void 0}return n0=r,n0}var jW=AW();const jf=dt(jW);var r0,cj;function IW(){if(cj)return r0;cj=1;function t(e,n){return e<n}return r0=t,r0}var i0,uj;function PW(){if(uj)return i0;uj=1;var t=qM(),e=IW(),n=Wa();function r(i){return i&&i.length?t(i,n,e):void 0}return i0=r,i0}var kW=PW();const If=dt(kW);var s0,dj;function MW(){if(dj)return s0;dj=1;var t=Ky(),e=Ui(),n=Yk(),r=Cn();function i(a,l){var c=r(a)?t:n;return c(a,e(l,3))}return s0=i,s0}var a0,fj;function RW(){if(fj)return a0;fj=1;var t=Kk(),e=MW();function n(r,i){return t(e(r,i),1)}return a0=n,a0}var DW=RW();const OW=dt(DW);var o0,pj;function LW(){if(pj)return o0;pj=1;var t=ob();function e(n,r){return t(n,r)}return o0=e,o0}var FW=LW();const Rb=dt(FW);var Ja=1e9,$W={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ob,yt=!0,Zn="[DecimalError] ",hs=Zn+"Invalid argument: ",Db=Zn+"Exponent out of range: ",Ya=Math.floor,os=Math.pow,UW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Bt=1e7,vt=7,BM=9007199254740991,jd=Ya(BM/vt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return zr(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return ut(zr(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return It(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mn))throw Error(Zn+"NaN");if(n.s<1)throw Error(Zn+(n.s?"NaN":"-Infinity"));return n.eq(Mn)?new r(0):(yt=!1,e=zr(Al(n,a),Al(t,a),a),yt=!0,ut(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GM(e,t):zM(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zn+"NaN");return n.s?(yt=!1,e=zr(n,t,0,1).times(t),yt=!0,n.minus(e)):ut(new r(n),i)};Se.naturalExponential=Se.exp=function(){return VM(this)};Se.naturalLogarithm=Se.ln=function(){return Al(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zM(e,t):GM(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hs+t);if(e=It(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,a,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Zn+"NaN")}for(t=It(c),yt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Er(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ya((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(zr(c,a,l+2)).times(.5),Er(a.d).slice(0,l)===(e=Er(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ut(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;l+=4}return yt=!0,ut(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,a,l,c,d,f,p=this,m=p.constructor,v=p.d,w=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,d=v.length,f=w.length,d<f&&(a=v,v=w,w=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+w[r]*v[i-r-1]+e,a[i--]=c%Bt|0,e=c/Bt|0;a[i]=(a[i]+e)%Bt|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,yt?ut(t,m.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ar(t,0,Ja),e===void 0?e=r.rounding:Ar(e,0,8),ut(n,t+It(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bs(r,!0):(Ar(t,0,Ja),e===void 0?e=i.rounding:Ar(e,0,8),r=ut(new i(r),t+1,e),n=bs(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bs(i):(Ar(t,0,Ja),e===void 0?e=a.rounding:Ar(e,0,8),r=ut(new a(i),t+It(i)+1,e),n=bs(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return ut(new e(t),It(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,a,l,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(Mn);if(c=new d(c),!c.s){if(t.s<1)throw Error(Zn+"Infinity");return c}if(c.eq(Mn))return c;if(r=d.precision,t.eq(Mn))return ut(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=c.s,l){if((n=p<0?-p:p)<=BM){for(i=new d(Mn),e=Math.ceil(r/vt+4),yt=!1;n%2&&(i=i.times(c),hj(i.d,e)),n=Ya(n/2),n!==0;)c=c.times(c),hj(c.d,e);return yt=!0,t.s<0?new d(Mn).div(i):ut(i,r)}}else if(a<0)throw Error(Zn+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,yt=!1,i=t.times(Al(c,r+f)),yt=!0,i=VM(i),i.s=a,i};Se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=It(i),r=bs(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ar(t,1,Ja),e===void 0?e=a.rounding:Ar(e,0,8),i=ut(new a(i),t,e),n=It(i),r=bs(i,t<=n||n<=a.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ar(t,1,Ja),e===void 0?e=r.rounding:Ar(e,0,8)),ut(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return bs(t,e<=n.toExpNeg||e>=n.toExpPos)};function zM(t,e){var n,r,i,a,l,c,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),yt?ut(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(m/vt),c=l>c?l+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Bt|0,d[a]%=Bt;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,yt?ut(e,m):e}function Ar(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hs+t)}function Er(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=vt-r.length,n&&(a+=Si(n)),a+=r;l=t[e],r=l+"",n=vt-r.length,n&&(a+=Si(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var zr=(function(){function t(r,i){var a,l=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+l,r[c]=a%Bt|0,l=a/Bt|0;return l&&r.unshift(l),r}function e(r,i,a,l){var c,d;if(a!=l)d=a>l?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Bt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var c,d,f,p,m,v,w,N,S,y,E,T,A,I,_,k,M,R,O=r.constructor,B=r.s==i.s?1:-1,$=r.d,F=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Zn+"Division by zero");for(d=r.e-i.e,M=F.length,_=$.length,w=new O(B),N=w.d=[],f=0;F[f]==($[f]||0);)++f;if(F[f]>($[f]||0)&&--d,a==null?T=a=O.precision:l?T=a+(It(r)-It(i))+1:T=a,T<0)return new O(0);if(T=T/vt+2|0,f=0,M==1)for(p=0,F=F[0],T++;(f<_||p)&&T--;f++)A=p*Bt+($[f]||0),N[f]=A/F|0,p=A%F|0;else{for(p=Bt/(F[0]+1)|0,p>1&&(F=t(F,p),$=t($,p),M=F.length,_=$.length),I=M,S=$.slice(0,M),y=S.length;y<M;)S[y++]=0;R=F.slice(),R.unshift(0),k=F[0],F[1]>=Bt/2&&++k;do p=0,c=e(F,S,M,y),c<0?(E=S[0],M!=y&&(E=E*Bt+(S[1]||0)),p=E/k|0,p>1?(p>=Bt&&(p=Bt-1),m=t(F,p),v=m.length,y=S.length,c=e(m,S,v,y),c==1&&(p--,n(m,M<v?R:F,v))):(p==0&&(c=p=1),m=F.slice()),v=m.length,v<y&&m.unshift(0),n(S,m,y),c==-1&&(y=S.length,c=e(F,S,M,y),c<1&&(p++,n(S,M<y?R:F,y))),y=S.length):c===0&&(p++,S=[0]),N[f++]=p,c&&S[0]?S[y++]=$[I]||0:(S=[$[I]],y=1);while((I++<_||S[0]!==void 0)&&T--)}return N[0]||N.shift(),w.e=d,ut(w,l?a+It(w)+1:a)}})();function VM(t,e){var n,r,i,a,l,c,d=0,f=0,p=t.constructor,m=p.precision;if(It(t)>16)throw Error(Db+It(t));if(!t.s)return new p(Mn);for(yt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(os(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new p(Mn),p.precision=c;;){if(i=ut(i.times(t),c),n=n.times(++d),l=a.plus(zr(i,n,c)),Er(l.d).slice(0,c)===Er(a.d).slice(0,c)){for(;f--;)a=ut(a.times(a),c);return p.precision=m,e==null?(yt=!0,ut(a,m)):a}a=l}}function It(t){for(var e=t.e*vt,n=t.d[0];n>=10;n/=10)e++;return e}function l0(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error(Zn+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function Si(t){for(var e="";t--;)e+="0";return e}function Al(t,e){var n,r,i,a,l,c,d,f,p,m=1,v=10,w=t,N=w.d,S=w.constructor,y=S.precision;if(w.s<1)throw Error(Zn+(w.s?"NaN":"-Infinity"));if(w.eq(Mn))return new S(0);if(e==null?(yt=!1,f=y):f=e,w.eq(10))return e==null&&(yt=!0),l0(S,f);if(f+=v,S.precision=f,n=Er(N),r=n.charAt(0),a=It(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Er(w.d),r=n.charAt(0),m++;a=It(w),r>1?(w=new S("0."+n),a++):w=new S(r+"."+n.slice(1))}else return d=l0(S,f+2,y).times(a+""),w=Al(new S(r+"."+n.slice(1)),f-v).plus(d),S.precision=y,e==null?(yt=!0,ut(w,y)):w;for(c=l=w=zr(w.minus(Mn),w.plus(Mn),f),p=ut(w.times(w),f),i=3;;){if(l=ut(l.times(p),f),d=c.plus(zr(l,new S(i),f)),Er(d.d).slice(0,f)===Er(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(l0(S,f+2,y).times(a+""))),c=zr(c,new S(m),f),S.precision=y,e==null?(yt=!0,ut(c,y)):c;c=d,i+=2}}function mj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ya(n/vt),t.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vt;r<i;)t.d.push(+e.slice(r,r+=vt));e=e.slice(r),r=vt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>jd||t.e<-jd))throw Error(Db+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,a,l,c,d,f,p,m=t.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=vt,i=e,f=m[p=0];else{if(p=Math.ceil((r+1)/vt),a=m.length,p>=a)return t;for(f=a=m[p],l=1;a>=10;a/=10)l++;r%=vt,i=r-vt+l}if(n!==void 0&&(a=os(10,l-i-1),c=f/a%10|0,d=e<0||m[p+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/os(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(a=It(t),m.length=1,e=e-a-1,m[0]=os(10,(vt-e%vt)%vt),t.e=Ya(-e/vt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,a=1,p--):(m.length=p+1,a=os(10,vt-r),m[p]=i>0?(f/os(10,l-i)%os(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Bt&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Bt)break;m[p--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(yt&&(t.e>jd||t.e<-jd))throw Error(Db+It(t));return t}function GM(t,e){var n,r,i,a,l,c,d,f,p,m,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),yt?ut(e,w):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(w/vt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=Bt-1;--d[a],d[i]+=Bt}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,yt?ut(e,w):e):new v(0)}function bs(t,e,n){var r,i=It(t),a=Er(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Si(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Si(-i-1)+a,n&&(r=n-l)>0&&(a+=Si(r))):i>=l?(a+=Si(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Si(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Si(r))),t.s<0?"-"+a:a}function hj(t,e){if(t.length>e)return t.length=e,!0}function HM(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hs+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return mj(l,a.toString())}else if(typeof a!="string")throw Error(hs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,UW.test(a))mj(l,a);else throw Error(hs+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HM,i.config=i.set=qW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qW(t){if(!t||typeof t!="object")throw Error(Zn+"Object expected");var e,n,r,i=["precision",1,Ja,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ya(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hs+n+": "+r);return this}var Ob=HM($W);Mn=new Ob(1);const lt=Ob;function BW(t){return HW(t)||GW(t)||VW(t)||zW()}function zW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function GW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HW(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WW=function(e){return e},WM={},KM=function(e){return e===WM},gj=function(e){return function n(){return arguments.length===0||arguments.length===1&&KM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},KW=function t(e,n){return e===1?n:gj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=i.filter(function(c){return c!==WM}).length;return l>=e?n.apply(void 0,i):t(e-l,gj(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=i.map(function(m){return KM(m)?d.shift():m});return n.apply(void 0,BW(p).concat(d))}))})},Pf=function(e){return KW(e.length,e)},Fx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},JW=Pf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),YW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return WW;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},$x=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},JM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n&&a.every(function(c,d){return c===n[d]})||(n=a,r=e.apply(void 0,a)),r}};function XW(t){var e;return t===0?e=1:e=Math.floor(new lt(t).abs().log(10).toNumber())+1,e}function QW(t,e,n){for(var r=new lt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ZW=Pf(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),eK=Pf(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),tK=Pf(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const kf={rangeStep:QW,getDigitCount:XW,interpolateNumber:ZW,uninterpolateNumber:eK,uninterpolateTruncation:tK};function Ux(t){return iK(t)||rK(t)||YM(t)||nK()}function nK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iK(t){if(Array.isArray(t))return qx(t)}function jl(t,e){return oK(t)||aK(t,e)||YM(t,e)||sK()}function sK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YM(t,e){if(t){if(typeof t=="string")return qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qx(t,e)}}function qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aK(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,a=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function oK(t){if(Array.isArray(t))return t}function XM(t){var e=jl(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function QM(t,e,n){if(t.lte(0))return new lt(0);var r=kf.getDigitCount(t.toNumber()),i=new lt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,c=new lt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?d:new lt(Math.ceil(d))}function lK(t,e,n){var r=1,i=new lt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new lt(10).pow(kf.getDigitCount(t)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new lt(Math.floor(t)))}else t===0?i=new lt(Math.floor((e-1)/2)):n||(i=new lt(Math.floor(t)));var l=Math.floor((e-1)/2),c=YW(JW(function(d){return i.add(new lt(d-l).mul(r)).toNumber()}),Fx);return c(0,e)}function ZM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var a=QM(new lt(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new lt(0):(l=new lt(t).add(e).div(2),l=l.sub(new lt(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),d=Math.ceil(new lt(e).sub(l).div(a).toNumber()),f=c+d+1;return f>n?ZM(t,e,n,r,i+1):(f<n&&(d=e>0?d+(n-f):d,c=e>0?c:c+(n-f)),{step:a,tickMin:l.sub(new lt(c).mul(a)),tickMax:l.add(new lt(d).mul(a))})}function cK(t){var e=jl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=XM([n,r]),d=jl(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Ux(Fx(0,i-1).map(function(){return 1/0}))):[].concat(Ux(Fx(0,i-1).map(function(){return-1/0})),[p]);return n>r?$x(m):m}if(f===p)return lK(f,i,a);var v=ZM(f,p,l,a),w=v.step,N=v.tickMin,S=v.tickMax,y=kf.rangeStep(N,S.add(new lt(.1).mul(w)),w);return n>r?$x(y):y}function uK(t,e){var n=jl(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=XM([r,i]),c=jl(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var p=Math.max(e,2),m=QM(new lt(f).sub(d).div(p-1),a,0),v=[].concat(Ux(kf.rangeStep(new lt(d),new lt(f).sub(new lt(.99).mul(m)),m)),[f]);return r>i?$x(v):v}var dK=JM(cK),fK=JM(uK),pK="Invariant failed";function ws(t,e){throw new Error(pK)}var mK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function hK(t,e){return yK(t)||xK(t,e)||vK(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e){if(t){if(typeof t=="string")return vj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(t,e)}}function vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function yK(t){if(Array.isArray(t))return t}function bK(t,e){if(t==null)return{};var n=wK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mf(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,l=t.dataPointFormatter,c=t.xAxis,d=t.yAxis,f=bK(t,mK),p=nt(f,!1);t.direction==="x"&&c.type!=="number"&&ws();var m=a.map(function(v){var w=l(v,i),N=w.x,S=w.y,y=w.value,E=w.errorVal;if(!E)return null;var T=[],A,I;if(Array.isArray(E)){var _=hK(E,2);A=_[0],I=_[1]}else A=I=E;if(n==="vertical"){var k=c.scale,M=S+e,R=M+r,O=M-r,B=k(y-A),$=k(y+I);T.push({x1:$,y1:R,x2:$,y2:O}),T.push({x1:B,y1:M,x2:$,y2:M}),T.push({x1:B,y1:R,x2:B,y2:O})}else if(n==="horizontal"){var F=d.scale,L=N+e,z=L-r,J=L+r,q=F(y-A),ee=F(y+I);T.push({x1:z,y1:ee,x2:J,y2:ee}),T.push({x1:L,y1:q,x2:L,y2:ee}),T.push({x1:z,y1:q,x2:J,y2:q})}return Z.createElement(zt,Id({className:"recharts-errorBar",key:"bar-".concat(T.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),T.map(function(X){return Z.createElement("line",Id({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return Z.createElement(zt,{className:"recharts-errorBars"},m)}Mf.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Mf.displayName="ErrorBar";function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){SK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SK(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=EK(t,"string");return Il(e)=="symbol"?e:String(e)}function EK(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,l=kn(n,vl);if(!l)return null;var c;return l.props&&l.props.payload?c=l.props&&l.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var p=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(w){return{type:l.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):c=(r||[]).map(function(d){var f=d.item,p=f.props,m=p.dataKey,v=p.name,w=p.legendType,N=p.hide;return{inactive:N,dataKey:m,type:l.props.iconType||w||"square",color:Lb(f),value:v||m,payload:f.props}}),c0(c0(c0({},l.props),vl.getWithHeight(l,i)),{},{payload:c,item:l})};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wa(t,e,n){return e=CK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=_K(t,"string");return Pl(e)=="symbol"?e:String(e)}function _K(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bj(t){return IK(t)||jK(t)||AK(t)||TK()}function TK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(t,e){if(t){if(typeof t=="string")return Bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bx(t,e)}}function jK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IK(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jr(t,e,n){return ot(t)||ot(e)?n:Rt(e)?Kn(t,e,n):He(e)?e(t):n}function al(t,e,n,r){var i=OW(t,function(c){return jr(c,e)});if(n==="number"){var a=i.filter(function(c){return be(c)||parseFloat(c)});return a.length?[If(a),jf(a)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!ot(c)}):i;return l.map(function(c){return Rt(c)||c instanceof Date?c:""})}var PK=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<c;f++){var p=f>0?i[f-1].coordinate:i[c-1].coordinate,m=i[f].coordinate,v=f>=c-1?i[0].coordinate:i[f+1].coordinate,w=void 0;if(dr(m-p)!==dr(v-m)){var N=[];if(dr(v-m)===dr(d[1]-d[0])){w=v;var S=m+d[1]-d[0];N[0]=Math.min(S,(S+p)/2),N[1]=Math.max(S,(S+p)/2)}else{w=p;var y=v+d[1]-d[0];N[0]=Math.min(m,(y+m)/2),N[1]=Math.max(m,(y+m)/2)}var E=[Math.min(m,(w+m)/2),Math.max(m,(w+m)/2)];if(e>E[0]&&e<=E[1]||e>=N[0]&&e<=N[1]){l=i[f].index;break}}else{var T=Math.min(p,v),A=Math.max(p,v);if(e>(T+m)/2&&e<=(A+m)/2){l=i[f].index;break}}}else for(var I=0;I<c;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<c-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===c-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){l=r[I].index;break}return l},Lb=function(e){var n=e,r=n.type.displayName,i=e.props,a=i.stroke,l=i.fill,c;switch(r){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},kK=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var a={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var f=i[l[c]].stackGroups,p=Object.keys(f),m=0,v=p.length;m<v;m++){var w=f[p[m]],N=w.items,S=w.cateAxisId,y=N.filter(function(A){return Br(A.type).indexOf("Bar")>=0});if(y&&y.length){var E=y[0].props.barSize,T=y[0].props[S];a[T]||(a[T]=[]),a[T].push({item:y[0],stackList:y.slice(1),barSize:ot(E)?n:E})}}return a},MK=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,l=a===void 0?[]:a,c=e.maxBarSize,d=l.length;if(d<1)return null;var f=Ea(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,w=i/d,N=l.reduce(function(I,_){return I+_.barSize||0},0);N+=(d-1)*f,N>=i&&(N-=(d-1)*f,f=0),N>=i&&w>0&&(v=!0,w*=.9,N=d*w);var S=(i-N)/2>>0,y={offset:S-f,size:0};p=l.reduce(function(I,_){var k={item:_.item,position:{offset:y.offset+y.size+f,size:v?w:_.barSize}},M=[].concat(bj(I),[k]);return y=M[M.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(R){M.push({item:R,position:y})}),M},m)}else{var E=Ea(r,i,0,!0);i-2*E-(d-1)*f<=0&&(f=0);var T=(i-2*E-(d-1)*f)/d;T>1&&(T>>=0);var A=c===+c?Math.min(T,c):T;p=l.reduce(function(I,_,k){var M=[].concat(bj(I),[{item:_.item,position:{offset:E+(T+f)*k+(T-A)/2,size:A}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(R){M.push({item:R,position:M[M.length-1].position})}),M},m)}return p},RK=function(e,n,r,i){var a=r.children,l=r.width,c=r.margin,d=l-(c.left||0)-(c.right||0),f=eR({children:a,legendWidth:d});if(f){var p=i||{},m=p.width,v=p.height,w=f.align,N=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&N==="middle")&&w!=="center"&&be(e[w]))return Gn(Gn({},e),{},wa({},w,e[w]+(m||0)));if((S==="horizontal"||S==="vertical"&&w==="center")&&N!=="middle"&&be(e[N]))return Gn(Gn({},e),{},wa({},N,e[N]+(v||0)))}return e},DK=function(e,n,r){return ot(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},tR=function(e,n,r,i,a){var l=n.props.children,c=mr(l,Mf).filter(function(f){return DK(i,a,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var m=jr(p,r);if(ot(m))return f;var v=Array.isArray(m)?[If(m),jf(m)]:[m,m],w=d.reduce(function(N,S){var y=jr(p,S,0),E=v[0]-Math.abs(Array.isArray(y)?y[0]:y),T=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(E,N[0]),Math.max(T,N[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},OK=function(e,n,r,i,a){var l=n.map(function(c){return tR(e,c,r,a,i)}).filter(function(c){return!ot(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},nR=function(e,n,r,i,a){var l=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&tR(e,d,f,i)||al(e,f,r,a)});if(r==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},rR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},ds=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,l=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?dr(c[0]-c[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=a?a.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return p.filter(function(m){return!oc(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:a?a[m]:m,index:v,offset:f}})},u0=new WeakMap,Uu=function(e,n){if(typeof n!="function")return e;u0.has(e)||u0.set(e,new WeakMap);var r=u0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},LK=function(e,n,r){var i=e.scale,a=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Nl(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Cd(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:sl(),realScaleType:"point"}:a==="category"?{scale:Nl(),realScaleType:"band"}:{scale:Cd(),realScaleType:"linear"};if(ac(i)){var d="scale".concat(gf(i));return{scale:(sj[d]||sl)(),realScaleType:sj[d]?d:"point"}}return He(i)?{scale:i}:{scale:sl(),realScaleType:"point"}},wj=1e-4,FK=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-wj,l=Math.max(i[0],i[1])+wj,c=e(n[0]),d=e(n[r-1]);(c<a||c>l||d<a||d>l)&&e.domain([n[0],n[r-1]])}},$K=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},UK=function(e,n){if(!n||n.length!==2||!be(n[0])||!be(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!be(e[0])||e[0]<r)&&(a[0]=r),(!be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},qK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,l=0,c=0;c<n;++c){var d=oc(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=a,e[c][r][1]=a+d,a=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},BK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,l=0;l<n;++l){var c=oc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},zK={sign:qK,expand:D8,none:Ca,silhouette:O8,wiggle:L8,positive:BK},VK=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),a=zK[r],l=R8().keys(i).value(function(c,d){return+jr(c,d,0)}).order(bx).offset(a);return l(e)},GK=function(e,n,r,i,a,l){if(!e)return null;var c=l?n.reverse():n,d={},f=c.reduce(function(m,v){var w=v.props,N=w.stackId,S=w.hide;if(S)return m;var y=v.props[r],E=m[y]||{hasStack:!1,stackGroups:{}};if(Rt(N)){var T=E.stackGroups[N]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(v),E.hasStack=!0,E.stackGroups[N]=T}else E.stackGroups[hf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Gn(Gn({},m),{},wa({},y,E))},d),p={};return Object.keys(f).reduce(function(m,v){var w=f[v];if(w.hasStack){var N={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(S,y){var E=w.stackGroups[y];return Gn(Gn({},S),{},wa({},y,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:VK(e,E.items,a)}))},N)}return Gn(Gn({},m),{},wa({},v,w))},p)},HK=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,l=n.originalDomain,c=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=dK(f,a,c);return e.domain([If(p),jf(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),v=fK(m,a,c);return{niceTicks:v}}return null},Sj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var d=jr(l,n.dataKey,n.domain[c]);return ot(d)?null:n.scale(d)-a/2+i},WK=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},KK=function(e,n){var r=e.props.stackId;if(Rt(r)){var i=n[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},JK=function(e){return e.reduce(function(n,r){return[If(r.concat([n[0]]).filter(be)),jf(r.concat([n[1]]).filter(be))]},[1/0,-1/0])},iR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var l=e[a],c=l.stackedData,d=c.reduce(function(f,p){var m=JK(p.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Nj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zx=function(e,n,r){if(He(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(be(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Nj.test(e[0])){var a=+Nj.exec(e[0])[1];i[0]=n[0]-a}else He(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(be(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Ej.test(e[1])){var l=+Ej.exec(e[1])[1];i[1]=n[1]+l}else He(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Pd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=cb(n,function(m){return m.coordinate}),l=1/0,c=1,d=a.length;c<d;c++){var f=a[c],p=a[c-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},Cj=function(e,n,r){return!e||!e.length||Rb(e,Kn(r,"type.defaultProps.domain"))?n:e},sR=function(e,n){var r=e.props,i=r.dataKey,a=r.name,l=r.unit,c=r.formatter,d=r.tooltipType,f=r.chartType,p=r.hide;return Gn(Gn({},nt(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:a||i,color:Lb(e),value:jr(n,i),type:d,payload:n,chartType:f,hide:p})};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){YK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YK(t,e,n){return e=XK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XK(t){var e=QK(t,"string");return kl(e)=="symbol"?e:String(e)}function QK(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kd=Math.PI/180,ZK=function(e){return e*180/Math.PI},Qt=function(e,n,r,i){return{x:e+Math.cos(-kd*i)*r,y:n+Math.sin(-kd*i)*r}},eJ=function(e,n){var r=e.x,i=e.y,a=n.x,l=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-l,2))},tJ=function(e,n){var r=e.x,i=e.y,a=n.cx,l=n.cy,c=eJ({x:r,y:i},{x:a,y:l});if(c<=0)return{radius:c};var d=(r-a)/c,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:c,angle:ZK(f),angleInRadian:f}},nJ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return{startAngle:n-l*360,endAngle:r-l*360}},rJ=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(a,l);return e+c*360},Aj=function(e,n){var r=e.x,i=e.y,a=tJ({x:r,y:i},n),l=a.radius,c=a.angle,d=n.innerRadius,f=n.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=nJ(n),m=p.startAngle,v=p.endAngle,w=c,N;if(m<=v){for(;w>v;)w-=360;for(;w<m;)w+=360;N=w>=m&&w<=v}else{for(;w>m;)w-=360;for(;w<v;)w+=360;N=w>=v&&w<=m}return N?Tj(Tj({},n),{},{radius:l,angle:rJ(w,n)}):null};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var iJ=["offset"];function sJ(t){return cJ(t)||lJ(t)||oJ(t)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return Vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(t,e)}}function lJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cJ(t){if(Array.isArray(t))return Vx(t)}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uJ(t,e){if(t==null)return{};var n=dJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return Ml(e)=="symbol"?e:String(e)}function mJ(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}var hJ=function(e){var n=e.value,r=e.formatter,i=ot(e.children)?n:e.children;return He(r)?r(i):i},gJ=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},vJ=function(e,n,r){var i=e.position,a=e.viewBox,l=e.offset,c=e.className,d=a,f=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,w=d.startAngle,N=d.endAngle,S=d.clockWise,y=(m+v)/2,E=gJ(w,N),T=E>=0?1:-1,A,I;i==="insideStart"?(A=w+T*l,I=S):i==="insideEnd"?(A=N-T*l,I=!S):i==="end"&&(A=N+T*l,I=S),I=E<=0?I:!I;var _=Qt(f,p,y,A),k=Qt(f,p,y,A+(I?1:-1)*359),M="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(I?0:1,`,
    `).concat(k.x,",").concat(k.y),R=ot(e.id)?hf("recharts-radial-line-"):e.id;return Z.createElement("text",Rl({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",c)}),Z.createElement("defs",null,Z.createElement("path",{id:R,d:M})),Z.createElement("textPath",{xlinkHref:"#".concat(R)},n))},xJ=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,l=a.cx,c=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,m=a.endAngle,v=(p+m)/2;if(i==="outside"){var w=Qt(l,c,f+r,v),N=w.x,S=w.y;return{x:N,y:S,textAnchor:N>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,E=Qt(l,c,y,v),T=E.x,A=E.y;return{x:T,y:A,textAnchor:"middle",verticalAnchor:"middle"}},yJ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,l=n,c=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,v=m*i,w=m>0?"end":"start",N=m>0?"start":"end",S=f>=0?1:-1,y=S*i,E=S>0?"end":"start",T=S>0?"start":"end";if(a==="top"){var A={x:c+f/2,y:d-m*i,textAnchor:"middle",verticalAnchor:w};return Mt(Mt({},A),r?{height:Math.max(d-r.y,0),width:f}:{})}if(a==="bottom"){var I={x:c+f/2,y:d+p+v,textAnchor:"middle",verticalAnchor:N};return Mt(Mt({},I),r?{height:Math.max(r.y+r.height-(d+p),0),width:f}:{})}if(a==="left"){var _={x:c-y,y:d+p/2,textAnchor:E,verticalAnchor:"middle"};return Mt(Mt({},_),r?{width:Math.max(_.x-r.x,0),height:p}:{})}if(a==="right"){var k={x:c+f+y,y:d+p/2,textAnchor:T,verticalAnchor:"middle"};return Mt(Mt({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:p}:{})}var M=r?{width:f,height:p}:{};return a==="insideLeft"?Mt({x:c+y,y:d+p/2,textAnchor:T,verticalAnchor:"middle"},M):a==="insideRight"?Mt({x:c+f-y,y:d+p/2,textAnchor:E,verticalAnchor:"middle"},M):a==="insideTop"?Mt({x:c+f/2,y:d+v,textAnchor:"middle",verticalAnchor:N},M):a==="insideBottom"?Mt({x:c+f/2,y:d+p-v,textAnchor:"middle",verticalAnchor:w},M):a==="insideTopLeft"?Mt({x:c+y,y:d+v,textAnchor:T,verticalAnchor:N},M):a==="insideTopRight"?Mt({x:c+f-y,y:d+v,textAnchor:E,verticalAnchor:N},M):a==="insideBottomLeft"?Mt({x:c+y,y:d+p-v,textAnchor:T,verticalAnchor:w},M):a==="insideBottomRight"?Mt({x:c+f-y,y:d+p-v,textAnchor:E,verticalAnchor:w},M):Ha(a)&&(be(a.x)||ls(a.x))&&(be(a.y)||ls(a.y))?Mt({x:c+Ea(a.x,f),y:d+Ea(a.y,p),textAnchor:"end",verticalAnchor:"end"},M):Mt({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},M)},bJ=function(e){return"cx"in e&&be(e.cx)};function sn(t){var e=t.offset,n=e===void 0?5:e,r=uJ(t,iJ),i=Mt({offset:n},r),a=i.viewBox,l=i.position,c=i.value,d=i.children,f=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!a||ot(c)&&ot(d)&&!P.isValidElement(f)&&!He(f))return null;if(P.isValidElement(f))return P.cloneElement(f,i);var w;if(He(f)){if(w=P.createElement(f,i),P.isValidElement(w))return w}else w=hJ(i);var N=bJ(a),S=nt(i,!0);if(N&&(l==="insideStart"||l==="insideEnd"||l==="end"))return vJ(i,w,S);var y=N?xJ(i):yJ(i);return Z.createElement(xd,Rl({className:ct("recharts-label",m)},S,y,{breakAll:v}),w)}sn.displayName="Label";var aR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,l=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,w=e.top,N=e.left,S=e.width,y=e.height,E=e.clockWise,T=e.labelViewBox;if(T)return T;if(be(S)&&be(y)){if(be(m)&&be(v))return{x:m,y:v,width:S,height:y};if(be(w)&&be(N))return{x:w,y:N,width:S,height:y}}return be(m)&&be(v)?{x:m,y:v,width:0,height:0}:be(n)&&be(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:E}:e.viewBox?e.viewBox:{}},wJ=function(e,n){return e?e===!0?Z.createElement(sn,{key:"label-implicit",viewBox:n}):Rt(e)?Z.createElement(sn,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===sn?P.cloneElement(e,{key:"label-implicit",viewBox:n}):Z.createElement(sn,{key:"label-implicit",content:e,viewBox:n}):He(e)?Z.createElement(sn,{key:"label-implicit",content:e,viewBox:n}):Ha(e)?Z.createElement(sn,Rl({viewBox:n},e,{key:"label-implicit"})):null:null},SJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=aR(e),l=mr(i,sn).map(function(d,f){return P.cloneElement(d,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return l;var c=wJ(e.label,n||a);return[c].concat(sJ(l))};sn.parseViewBox=aR;sn.renderCallByParent=SJ;var d0,Ij;function NJ(){if(Ij)return d0;Ij=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return d0=t,d0}var EJ=NJ();const CJ=dt(EJ);function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var _J=["valueAccessor"],TJ=["data","dataKey","clockWise","id","textBreakAll"];function AJ(t){return kJ(t)||PJ(t)||IJ(t)||jJ()}function jJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(t,e){if(t){if(typeof t=="string")return Gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(t,e)}}function PJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kJ(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=DJ(t,"string");return Dl(e)=="symbol"?e:String(e)}function DJ(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mj(t,e){if(t==null)return{};var n=OJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LJ=function(e){return Array.isArray(e.value)?CJ(e.value):e.value};function gs(t){var e=t.valueAccessor,n=e===void 0?LJ:e,r=Mj(t,_J),i=r.data,a=r.dataKey,l=r.clockWise,c=r.id,d=r.textBreakAll,f=Mj(r,TJ);return!i||!i.length?null:Z.createElement(zt,{className:"recharts-label-list"},i.map(function(p,m){var v=ot(a)?n(p,m):jr(p&&p.payload,a),w=ot(c)?{}:{id:"".concat(c,"-").concat(m)};return Z.createElement(sn,Md({},nt(p,!0),f,w,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:sn.parseViewBox(ot(l)?p:kj(kj({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}gs.displayName="LabelList";function FJ(t,e){return t?t===!0?Z.createElement(gs,{key:"labelList-implicit",data:e}):Z.isValidElement(t)||He(t)?Z.createElement(gs,{key:"labelList-implicit",data:e,content:t}):Ha(t)?Z.createElement(gs,Md({data:e},t,{key:"labelList-implicit"})):null:null}function $J(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=mr(r,gs).map(function(l,c){return P.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var a=FJ(t.label,e);return[a].concat(AJ(i))}gs.renderCallByParent=$J;function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){UJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UJ(t,e,n){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=BJ(t,"string");return Ol(e)=="symbol"?e:String(e)}function BJ(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zJ=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},qu=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,l=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(c?1:-1)+i,m=Math.asin(d/p)/kd,v=f?a:a+l*m,w=Qt(n,r,p,v),N=Qt(n,r,i,v),S=f?a-l*m:a,y=Qt(n,r,p*Math.cos(m*kd),S);return{center:w,circleTangency:N,lineTangency:y,theta:m}},oR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.startAngle,c=e.endAngle,d=zJ(l,c),f=l+d,p=Qt(n,r,a,l),m=Qt(n,r,a,f),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var w=Qt(n,r,i,l),N=Qt(n,r,i,f);v+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},VJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,m=dr(p-f),v=qu({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),w=v.circleTangency,N=v.lineTangency,S=v.theta,y=qu({cx:n,cy:r,radius:a,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),E=y.circleTangency,T=y.lineTangency,A=y.theta,I=d?Math.abs(f-p):Math.abs(f-p)-S-A;if(I<0)return c?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):oR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var _="M ".concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var k=qu({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),M=k.circleTangency,R=k.lineTangency,O=k.theta,B=qu({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),$=B.circleTangency,F=B.lineTangency,L=B.theta,z=d?Math.abs(f-p):Math.abs(f-p)-O-L;if(z<0&&l===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},GJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lR=function(e){var n=Dj(Dj({},GJ),e),r=n.cx,i=n.cy,a=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<a||p===m)return null;var w=ct("recharts-sector",v),N=l-a,S=Ea(c,N,0,!0),y;return S>0&&Math.abs(p-m)<360?y=VJ({cx:r,cy:i,innerRadius:a,outerRadius:l,cornerRadius:Math.min(S,N/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):y=oR({cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:p,endAngle:m}),Z.createElement("path",Hx({},nt(n,!0),{className:w,d:y,role:"img"}))};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return e=WJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WJ(t){var e=KJ(t,"string");return Ll(e)=="symbol"?e:String(e)}function KJ(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fj={curveBasisClosed:N8,curveBasisOpen:E8,curveBasis:S8,curveBumpX:l8,curveBumpY:c8,curveLinearClosed:C8,curveLinear:xf,curveMonotoneX:_8,curveMonotoneY:T8,curveNatural:A8,curveStep:j8,curveStepAfter:P8,curveStepBefore:I8},Bu=function(e){return e.x===+e.x&&e.y===+e.y},Go=function(e){return e.x},Ho=function(e){return e.y},JJ=function(e,n){if(He(e))return e;var r="curve".concat(gf(e));return(r==="curveMonotone"||r==="curveBump")&&n?Fj["".concat(r).concat(n==="vertical"?"Y":"X")]:Fj[r]||xf},YJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,l=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=JJ(r,c),m=f?a.filter(function(S){return Bu(S)}):a,v;if(Array.isArray(l)){var w=f?l.filter(function(S){return Bu(S)}):l,N=m.map(function(S,y){return Lj(Lj({},S),{},{base:w[y]})});return c==="vertical"?v=Mu().y(Ho).x1(Go).x0(function(S){return S.base.x}):v=Mu().x(Go).y1(Ho).y0(function(S){return S.base.y}),v.defined(Bu).curve(p),v(N)}return c==="vertical"&&be(l)?v=Mu().y(Ho).x1(Go).x0(l):be(l)?v=Mu().x(Go).y1(Ho).y0(l):v=gk().x(Go).y(Ho),v.defined(Bu).curve(p),v(m)},$j=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?YJ(e):i;return Z.createElement("path",Wx({},nt(e,!1),ad(e),{className:ct("recharts-curve",n),d:l,ref:a}))},f0={exports:{}},p0,Uj;function XJ(){if(Uj)return p0;Uj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return p0=t,p0}var m0,qj;function QJ(){if(qj)return m0;qj=1;var t=XJ();function e(){}function n(){}return n.resetWarningCache=e,m0=function(){function r(l,c,d,f,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},m0}var Bj;function ZJ(){return Bj||(Bj=1,f0.exports=QJ()()),f0.exports}var eY=ZJ();const tt=dt(eY),{getOwnPropertyNames:tY,getOwnPropertySymbols:nY}=Object,{hasOwnProperty:rY}=Object.prototype;function h0(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function zu(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,l=a.get(n),c=a.get(r);if(l&&c)return l===r&&c===n;a.set(n,r),a.set(r,n);const d=t(n,r,i);return a.delete(n),a.delete(r),d}}function iY(t){return t!=null?t[Symbol.toStringTag]:void 0}function zj(t){return tY(t).concat(nY(t))}const sY=Object.hasOwn||((t,e)=>rY.call(t,e));function Rs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const aY="__v",oY="__o",lY="_owner",{getOwnPropertyDescriptor:Vj,keys:Gj}=Object;function cY(t,e){return t.byteLength===e.byteLength&&Rd(new Uint8Array(t),new Uint8Array(e))}function uY(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function dY(t,e){return t.byteLength===e.byteLength&&Rd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function fY(t,e){return Rs(t.getTime(),e.getTime())}function pY(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mY(t,e){return t===e}function Hj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let l,c,d=0;for(;(l=a.next())&&!l.done;){const f=e.entries();let p=!1,m=0;for(;(c=f.next())&&!c.done;){if(i[m]){m++;continue}const v=l.value,w=c.value;if(n.equals(v[0],w[0],d,m,t,e,n)&&n.equals(v[1],w[1],v[0],w[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}const hY=Rs;function gY(t,e,n){const r=Gj(t);let i=r.length;if(Gj(e).length!==i)return!1;for(;i-- >0;)if(!cR(t,e,n,r[i]))return!1;return!0}function Wo(t,e,n){const r=zj(t);let i=r.length;if(zj(e).length!==i)return!1;let a,l,c;for(;i-- >0;)if(a=r[i],!cR(t,e,n,a)||(l=Vj(t,a),c=Vj(e,a),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function vY(t,e){return Rs(t.valueOf(),e.valueOf())}function xY(t,e){return t.source===e.source&&t.flags===e.flags}function Wj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let l,c;for(;(l=a.next())&&!l.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function Rd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yY(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cR(t,e,n,r){return(r===lY||r===oY||r===aY)&&(t.$$typeof||e.$$typeof)?!0:sY(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const bY="[object ArrayBuffer]",wY="[object Arguments]",SY="[object Boolean]",NY="[object DataView]",EY="[object Date]",CY="[object Error]",_Y="[object Map]",TY="[object Number]",AY="[object Object]",jY="[object RegExp]",IY="[object Set]",PY="[object String]",kY={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},MY="[object URL]",RY=Object.prototype.toString;function DY({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:l,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:w,unknownTagComparators:N}){return function(y,E,T){if(y===E)return!0;if(y==null||E==null)return!1;const A=typeof y;if(A!==typeof E)return!1;if(A!=="object")return A==="number"?c(y,E,T):A==="function"?a(y,E,T):!1;const I=y.constructor;if(I!==E.constructor)return!1;if(I===Object)return d(y,E,T);if(Array.isArray(y))return e(y,E,T);if(I===Date)return r(y,E,T);if(I===RegExp)return p(y,E,T);if(I===Map)return l(y,E,T);if(I===Set)return m(y,E,T);const _=RY.call(y);if(_===EY)return r(y,E,T);if(_===jY)return p(y,E,T);if(_===_Y)return l(y,E,T);if(_===IY)return m(y,E,T);if(_===AY)return typeof y.then!="function"&&typeof E.then!="function"&&d(y,E,T);if(_===MY)return w(y,E,T);if(_===CY)return i(y,E,T);if(_===wY)return d(y,E,T);if(kY[_])return v(y,E,T);if(_===bY)return t(y,E,T);if(_===NY)return n(y,E,T);if(_===SY||_===TY||_===PY)return f(y,E,T);if(N){let k=N[_];if(!k){const M=iY(y);M&&(k=N[M])}if(k)return k(y,E,T)}return!1}}function OY({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:cY,areArraysEqual:n?Wo:uY,areDataViewsEqual:dY,areDatesEqual:fY,areErrorsEqual:pY,areFunctionsEqual:mY,areMapsEqual:n?h0(Hj,Wo):Hj,areNumbersEqual:hY,areObjectsEqual:n?Wo:gY,arePrimitiveWrappersEqual:vY,areRegExpsEqual:xY,areSetsEqual:n?h0(Wj,Wo):Wj,areTypedArraysEqual:n?h0(Rd,Wo):Rd,areUrlsEqual:yY,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=zu(r.areArraysEqual),a=zu(r.areMapsEqual),l=zu(r.areObjectsEqual),c=zu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return r}function LY(t){return function(e,n,r,i,a,l,c){return t(e,n,c)}}function FY({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=n();return e(c,d,{cache:f,equals:r,meta:p,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,d){return e(c,d,a)}}const $Y=zi();zi({strict:!0});zi({circular:!0});zi({circular:!0,strict:!0});zi({createInternalComparator:()=>Rs});zi({strict:!0,createInternalComparator:()=>Rs});zi({circular:!0,createInternalComparator:()=>Rs});zi({circular:!0,createInternalComparator:()=>Rs,strict:!0});function zi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=OY(t),l=DY(a),c=n?n(l):LY(l);return FY({circular:e,comparator:l,createState:r,equals:c,strict:i})}function UY(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Kj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):UY(i)};requestAnimationFrame(r)}function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}function qY(t){return GY(t)||VY(t)||zY(t)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t,e){if(t){if(typeof t=="string")return Jj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jj(t,e)}}function Jj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GY(t){if(Array.isArray(t))return t}function HY(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,c=qY(l),d=c[0],f=c.slice(1);if(typeof d=="number"){Kj(i.bind(null,f),d);return}i(d),Kj(i.bind(null,f));return}Kx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){uR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uR(t,e,n){return e=WY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WY(t){var e=KY(t,"string");return Fl(e)==="symbol"?e:String(e)}function KY(t,e){if(Fl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JY=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},YY=function(e){return e},XY=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ol=function(e,n){return Object.keys(n).reduce(function(r,i){return Xj(Xj({},r),{},uR({},i,e(i,n[i])))},{})},Qj=function(e,n,r){return e.map(function(i){return"".concat(XY(i)," ").concat(n,"ms ").concat(r)}).join(",")};function QY(t,e){return tX(t)||eX(t,e)||dR(t,e)||ZY()}function ZY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function tX(t){if(Array.isArray(t))return t}function nX(t){return sX(t)||iX(t)||dR(t)||rX()}function rX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dR(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function iX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sX(t){if(Array.isArray(t))return Jx(t)}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dd=1e-4,fR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},pR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Zj=function(e,n){return function(r){var i=fR(e,n);return pR(i,r)}},aX=function(e,n){return function(r){var i=fR(e,n),a=[].concat(nX(i.map(function(l,c){return l*c}).slice(1)),[0]);return pR(a,r)}},eI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,l=1,c=1;break;case"ease":i=.25,a=.1,l=.25,c=1;break;case"ease-in":i=.42,a=0,l=1,c=1;break;case"ease-out":i=.42,a=0,l=.58,c=1;break;case"ease-in-out":i=0,a=0,l=.58,c=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=QY(f,4);i=p[0],a=p[1],l=p[2],c=p[3]}}}var m=Zj(i,l),v=Zj(a,c),w=aX(i,l),N=function(E){return E>1?1:E<0?0:E},S=function(E){for(var T=E>1?1:E,A=T,I=0;I<8;++I){var _=m(A)-T,k=w(A);if(Math.abs(_-T)<Dd||k<Dd)return v(A);A=N(A-_/k)}return v(A)};return S.isStepper=!1,S},oX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,d=function(p,m,v){var w=-(p-m)*r,N=v*a,S=v+(w-N)*c/1e3,y=v*c/1e3+p;return Math.abs(y-m)<Dd&&Math.abs(S)<Dd?[m,0]:[y,S]};return d.isStepper=!0,d.dt=c,d},lX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eI(i);case"spring":return oX();default:if(i.split("(")[0]==="cubic-bezier")return eI(i)}return typeof i=="function"?i:null};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function tI(t){return dX(t)||uX(t)||mR(t)||cX()}function cX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dX(t){if(Array.isArray(t))return Xx(t)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yx(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=pX(t,"string");return $l(e)==="symbol"?e:String(e)}function pX(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mX(t,e){return vX(t)||gX(t,e)||mR(t,e)||hX()}function hX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(t,e){if(t){if(typeof t=="string")return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(t,e)}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function vX(t){if(Array.isArray(t))return t}var Od=function(e,n,r){return e+(n-e)*r},Qx=function(e){var n=e.from,r=e.to;return n!==r},xX=function t(e,n,r){var i=ol(function(a,l){if(Qx(l)){var c=e(l.from,l.to,l.velocity),d=mX(c,2),f=d[0],p=d[1];return Yt(Yt({},l),{},{from:f,velocity:p})}return l},n);return r<1?ol(function(a,l){return Qx(l)?Yt(Yt({},l),{},{velocity:Od(l.velocity,i[a].velocity,r),from:Od(l.from,i[a].from,r)}):l},n):t(e,i,r-1)};const yX=(function(t,e,n,r,i){var a=JY(t,e),l=a.reduce(function(y,E){return Yt(Yt({},y),{},Yx({},E,[t[E],e[E]]))},{}),c=a.reduce(function(y,E){return Yt(Yt({},y),{},Yx({},E,{from:t[E],velocity:0,to:e[E]}))},{}),d=-1,f,p,m=function(){return null},v=function(){return ol(function(E,T){return T.from},c)},w=function(){return!Object.values(c).filter(Qx).length},N=function(E){f||(f=E);var T=E-f,A=T/n.dt;c=xX(n,c,A),i(Yt(Yt(Yt({},t),e),v())),f=E,w()||(d=requestAnimationFrame(m))},S=function(E){p||(p=E);var T=(E-p)/r,A=ol(function(_,k){return Od.apply(void 0,tI(k).concat([n(T)]))},l);if(i(Yt(Yt(Yt({},t),e),A)),T<1)d=requestAnimationFrame(m);else{var I=ol(function(_,k){return Od.apply(void 0,tI(k).concat([n(1)]))},l);i(Yt(Yt(Yt({},t),e),I))}};return m=n.isStepper?N:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}var bX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wX(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function g0(t){return _X(t)||CX(t)||EX(t)||NX()}function NX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(t,e){if(t){if(typeof t=="string")return Zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(t,e)}}function CX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _X(t){if(Array.isArray(t))return Zx(t)}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qo(t,e,n){return e=hR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hR(r.key),r)}}function jX(t,e,n){return e&&AX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hR(t){var e=IX(t,"string");return Ma(e)==="symbol"?e:String(e)}function IX(t,e){if(Ma(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ey(t,e)}function ey(t,e){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ey(t,e)}function kX(t){var e=MX();return function(){var r=Ld(t),i;if(e){var a=Ld(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ty(this,i)}}function ty(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(t)}function ny(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(t)}var Mi=(function(t){PX(n,t);var e=kX(n);function n(r,i){var a;TX(this,n),a=e.call(this,r,i);var l=a.props,c=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,v=l.children,w=l.duration;if(a.handleStyleChange=a.handleStyleChange.bind(ny(a)),a.changeStyle=a.changeStyle.bind(ny(a)),!c||w<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:p}),ty(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof v=="function")return a.state={style:f},ty(a);a.state={style:d?Qo({},d,f):f}}else a.state={style:{}};return a}return jX(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,l=i.canBegin;this.mounted=!0,!(!a||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,l=a.isActive,c=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,m=a.from,v=this.state.style;if(c){if(!l){var w={style:d?Qo({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(w);return}if(!($Y(i.to,p)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=N||f?m:i.to;if(this.state&&v){var y={style:d?Qo({},d,S):S};(d&&v[d]!==S||!d&&v!==S)&&this.setState(y)}this.runAnimation(lr(lr({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,l=i.from,c=i.to,d=i.duration,f=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,w=yX(l,c,lX(f),d,this.changeStyle),N=function(){a.stopJSAnimation=w()};this.manager.start([v,p,N,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,l=i.steps,c=i.begin,d=i.onAnimationStart,f=l[0],p=f.style,m=f.duration,v=m===void 0?0:m,w=function(S,y,E){if(E===0)return S;var T=y.duration,A=y.easing,I=A===void 0?"ease":A,_=y.style,k=y.properties,M=y.onAnimationEnd,R=E>0?l[E-1]:y,O=k||Object.keys(_);if(typeof I=="function"||I==="spring")return[].concat(g0(S),[a.runJSAnimation.bind(a,{from:R.style,to:_,duration:T,easing:I}),T]);var B=Qj(O,T,I),$=lr(lr(lr({},R.style),_),{},{transition:B});return[].concat(g0(S),[$,T,M]).filter(YY)};return this.manager.start([d].concat(g0(l.reduce(w,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=HY());var a=i.begin,l=i.duration,c=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,w=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?Qo({},c,d):d,y=Qj(Object.keys(S),l,f);N.start([p,a,lr(lr({},S),{},{transition:y}),l,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=wX(i,bX),f=P.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!c||f===0||l<=0)return a;var m=function(w){var N=w.props,S=N.style,y=S===void 0?{}:S,E=N.className,T=P.cloneElement(w,lr(lr({},d),{},{style:lr(lr({},y),p),className:E}));return T};return f===1?m(P.Children.only(a)):Z.createElement("div",null,P.Children.map(a,function(v){return m(v)}))}}]),n})(P.PureComponent);Mi.displayName="Animate";Mi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mi.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function RX(t,e){return FX(t)||LX(t,e)||OX(t,e)||DX()}function DX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function FX(t){if(Array.isArray(t))return t}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){$X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $X(t,e,n){return e=UX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=qX(t,"string");return Ul(e)=="symbol"?e:String(e)}function qX(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oI=function(e,n,r,i,a){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,w=4;v<w;v++)m[v]=a[v]>l?l:a[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+d*m[0],",").concat(n)),p+="L ".concat(e+r-d*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-d*m[2],",").concat(n+i)),p+="L ".concat(e+d*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&a===+a&&a>0){var N=Math.min(l,a);p="M ".concat(e,",").concat(n+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+d*N,",").concat(n,`
            L `).concat(e+r-d*N,",").concat(n,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+r,",").concat(n+c*N,`
            L `).concat(e+r,",").concat(n+i-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+r-d*N,",").concat(n+i,`
            L `).concat(e+d*N,",").concat(n+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e,",").concat(n+i-c*N," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},BX=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,l=n.y,c=n.width,d=n.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(a,a+c),p=Math.max(a,a+c),m=Math.min(l,l+d),v=Math.max(l,l+d);return r>=f&&r<=p&&i>=m&&i<=v}return!1},zX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fb=function(e){var n=aI(aI({},zX),e),r=P.useRef(),i=P.useState(-1),a=RX(i,2),l=a[0],c=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&c(I)}catch{}},[]);var d=n.x,f=n.y,p=n.width,m=n.height,v=n.radius,w=n.className,N=n.animationEasing,S=n.animationDuration,y=n.animationBegin,E=n.isAnimationActive,T=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var A=ct("recharts-rectangle",w);return T?Z.createElement(Mi,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:S,animationEasing:N,isActive:T},function(I){var _=I.width,k=I.height,M=I.x,R=I.y;return Z.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:S,isActive:E,easing:N},Z.createElement("path",Fd({},nt(n,!0),{className:A,d:oI(M,R,_,k,v),ref:r})))}):Z.createElement("path",Fd({},nt(n,!0),{className:A,d:oI(d,f,p,m,v)}))};function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}var gR=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,l=ct("recharts-dot",a);return n===+n&&r===+r&&i===+i?Z.createElement("circle",ry({},nt(e,!1),ad(e),{className:l,cx:n,cy:r,r:i})):null};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var VX=["x","y","top","left","width","height","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){HX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=KX(t,"string");return ql(e)=="symbol"?e:String(e)}function KX(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){if(t==null)return{};var n=YX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XX=function(e,n,r,i,a,l){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},QX=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,l=e.top,c=l===void 0?0:l,d=e.left,f=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,w=v===void 0?0:v,N=e.className,S=JX(e,VX),y=GX({x:r,y:a,top:c,left:f,width:m,height:w},S);return!be(r)||!be(a)||!be(m)||!be(w)||!be(c)||!be(f)?null:Z.createElement("path",iy({},nt(y,!0),{className:ct("recharts-cross",N),d:XX(r,a,m,w,c,f)}))},v0,cI;function ZX(){if(cI)return v0;cI=1;var t=$k(),e=t(Object.getPrototypeOf,Object);return v0=e,v0}var x0,uI;function eQ(){if(uI)return x0;uI=1;var t=Qr(),e=ZX(),n=Zr(),r="[object Object]",i=Function.prototype,a=Object.prototype,l=i.toString,c=a.hasOwnProperty,d=l.call(Object);function f(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==d}return x0=f,x0}var tQ=eQ();const nQ=dt(tQ);var y0,dI;function rQ(){if(dI)return y0;dI=1;var t=Qr(),e=Zr(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return y0=r,y0}var iQ=rQ();const sQ=dt(iQ);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function aQ(t,e){return uQ(t)||cQ(t,e)||lQ(t,e)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(t,e){if(t){if(typeof t=="string")return fI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fI(t,e)}}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function uQ(t){if(Array.isArray(t))return t}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=pQ(t,"string");return Bl(e)=="symbol"?e:String(e)}function pQ(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hI=function(e,n,r,i,a){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+a),c+="L ".concat(e+r-l/2-i,",").concat(n+a),c+="L ".concat(e,",").concat(n," Z"),c},mQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hQ=function(e){var n=mI(mI({},mQ),e),r=P.useRef(),i=P.useState(-1),a=aQ(i,2),l=a[0],c=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&c(A)}catch{}},[]);var d=n.x,f=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,w=n.className,N=n.animationEasing,S=n.animationDuration,y=n.animationBegin,E=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var T=ct("recharts-trapezoid",w);return E?Z.createElement(Mi,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:f},duration:S,animationEasing:N,isActive:E},function(A){var I=A.upperWidth,_=A.lowerWidth,k=A.height,M=A.x,R=A.y;return Z.createElement(Mi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:S,easing:N},Z.createElement("path",$d({},nt(n,!0),{className:T,d:hI(M,R,I,_,k),ref:r})))}):Z.createElement("g",null,Z.createElement("path",$d({},nt(n,!0),{className:T,d:hI(d,f,p,m,v)})))},gQ=["option","shapeType","propTransformer","activeClassName","isActive"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function vQ(t,e){if(t==null)return{};var n=xQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return e=bQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=wQ(t,"string");return zl(e)=="symbol"?e:String(e)}function wQ(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t,e){return Ud(Ud({},e),t)}function NQ(t,e){return t==="symbols"}function vI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Z.createElement(Fb,n);case"trapezoid":return Z.createElement(hQ,n);case"sector":return Z.createElement(lR,n);case"symbols":if(NQ(e))return Z.createElement(tb,n);break;default:return null}}function EQ(t){return P.isValidElement(t)?t.props:t}function CQ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?SQ:r,a=t.activeClassName,l=a===void 0?"recharts-active-shape":a,c=t.isActive,d=vQ(t,gQ),f;if(P.isValidElement(e))f=P.cloneElement(e,Ud(Ud({},d),EQ(e)));else if(He(e))f=e(d);else if(nQ(e)&&!sQ(e)){var p=i(e,d);f=Z.createElement(vI,{shapeType:n,elementProps:p})}else{var m=d;f=Z.createElement(vI,{shapeType:n,elementProps:m})}return c?Z.createElement(zt,{className:l},f):f}function Rf(t,e){return e!=null&&"trapezoids"in t.props}function Df(t,e){return e!=null&&"sectors"in t.props}function Vl(t,e){return e!=null&&"points"in t.props}function _Q(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function TQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function AQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function jQ(t,e){var n;return Rf(t,e)?n=_Q:Df(t,e)?n=TQ:Vl(t,e)&&(n=AQ),n}function IQ(t,e){var n;return Rf(t,e)?n="trapezoids":Df(t,e)?n="sectors":Vl(t,e)&&(n="points"),n}function PQ(t,e){if(Rf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Df(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vl(t,e)?e.payload:{}}function kQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=IQ(n,e),a=PQ(n,e),l=r.filter(function(d,f){var p=Rb(a,d),m=n.props[i].filter(function(N){var S=jQ(n,e);return S(N,e)}),v=n.props[i].indexOf(m[m.length-1]),w=f===v;return p&&w}),c=r.indexOf(l[l.length-1]);return c}var b0,xI;function MQ(){if(xI)return b0;xI=1;var t=Math.ceil,e=Math.max;function n(r,i,a,l){for(var c=-1,d=e(t((i-r)/(a||1)),0),f=Array(d);d--;)f[l?d:++c]=r,r+=a;return f}return b0=n,b0}var w0,yI;function vR(){if(yI)return w0;yI=1;var t=nM(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return w0=r,w0}var S0,bI;function RQ(){if(bI)return S0;bI=1;var t=MQ(),e=Sf(),n=vR();function r(i){return function(a,l,c){return c&&typeof c!="number"&&e(a,l,c)&&(l=c=void 0),a=n(a),l===void 0?(l=a,a=0):l=n(l),c=c===void 0?a<l?1:-1:n(c),t(a,l,c,i)}}return S0=r,S0}var N0,wI;function DQ(){if(wI)return N0;wI=1;var t=RQ(),e=t();return N0=e,N0}var OQ=DQ();const qd=dt(OQ);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){xR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xR(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=FQ(t,"string");return Gl(e)=="symbol"?e:String(e)}function FQ(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Q=["Webkit","Moz","O","ms"],UQ=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$Q.reduce(function(a,l){return NI(NI({},a),{},xR({},l+r,n))},{});return i[e]=n,i};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bR(r.key),r)}}function BQ(t,e,n){return e&&CI(t.prototype,e),n&&CI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zQ(t,e,n){return e=zd(e),VQ(t,yR()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function VQ(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}function yR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yR=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sy(t,e)}function sy(t,e){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sy(t,e)}function Pn(t,e,n){return e=bR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t){var e=HQ(t,"string");return Ra(e)=="symbol"?e:String(e)}function HQ(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WQ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=sl().domain(qd(0,d)).range([a,a+l-c]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:p}},_I=function(e){return e.changedTouches&&!!e.changedTouches.length},Da=(function(t){GQ(e,t);function e(n){var r;return qQ(this,e),r=zQ(this,e,[n]),Pn(Sr(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pn(Sr(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pn(Sr(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:a,startIndex:c})}),r.detachDragEndListener()}),Pn(Sr(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pn(Sr(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pn(Sr(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pn(Sr(r),"handleSlideDragStart",function(i){var a=_I(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Sr(r),"startX"),endX:r.handleTravellerDragStart.bind(Sr(r),"endX")},r.state={},r}return BQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,l=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,m=Math.min(i,a),v=Math.max(i,a),w=e.getIndexInRange(l,m),N=e.getIndexInRange(l,v);return{startIndex:w-w%d,endIndex:N===p?p:N-N%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,l=i.tickFormatter,c=i.dataKey,d=jr(a[r],c,r);return He(l)?l(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,l=i.startX,c=i.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,w=d.endIndex,N=d.onChange,S=r.pageX-a;S>0?S=Math.min(S,f+p-m-c,f+p-m-l):S<0&&(S=Math.max(S,f-l,f-c));var y=this.getIndex({startX:l+S,endX:c+S});(y.startIndex!==v||y.endIndex!==w)&&N&&N(y),this.setState({startX:l+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_I(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[l],p=this.props,m=p.x,v=p.width,w=p.travellerWidth,N=p.onChange,S=p.gap,y=p.data,E={startX:this.state.startX,endX:this.state.endX},T=r.pageX-a;T>0?T=Math.min(T,m+v-w-f):T<0&&(T=Math.max(T,m-f)),E[l]=f+T;var A=this.getIndex(E),I=A.startIndex,_=A.endIndex,k=function(){var R=y.length-1;return l==="startX"&&(c>d?I%S===0:_%S===0)||c<d&&_===R||l==="endX"&&(c>d?_%S===0:I%S===0)||c>d&&_===R};this.setState(Pn(Pn({},l,f+T),"brushMoveStartX",r.pageX),function(){N&&k()&&N(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,l=this.state,c=l.scaleValues,d=l.startX,f=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var w=c[v];i==="startX"&&w>=f||i==="endX"&&w<=d||this.setState(Pn({},i,w),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,c=r.height,d=r.fill,f=r.stroke;return Z.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,c=r.height,d=r.data,f=r.children,p=r.padding,m=P.Children.only(f);return m?Z.cloneElement(m,{x:i,y:a,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,v=l.data,w=l.startIndex,N=l.endIndex,S=Math.max(r,this.props.x),y=E0(E0({},nt(this.props,!1)),{},{x:S,y:c,width:d,height:f}),E=m||"Min value: ".concat(v[w].name,", Max value: ").concat(v[N].name);return Z.createElement(zt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,l=a.y,c=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,l=r.y,c=r.height,d=r.travellerWidth,f=r.stroke,p=this.state,m=p.startX,v=p.endX,w=5,N={pointerEvents:"none",fill:f};return Z.createElement(zt,{className:"recharts-brush-texts"},Z.createElement(xd,Bd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-w,y:l+c/2},N),this.getTextOfTick(i)),Z.createElement(xd,Bd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+w,y:l+c/2},N),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,l=r.children,c=r.x,d=r.y,f=r.width,p=r.height,m=r.alwaysShowText,v=this.state,w=v.startX,N=v.endX,S=v.isTextActive,y=v.isSlideMoving,E=v.isTravellerMoving,T=v.isTravellerFocused;if(!i||!i.length||!be(c)||!be(d)||!be(f)||!be(p)||f<=0||p<=0)return null;var A=ct("recharts-brush",a),I=Z.Children.count(l)===1,_=UQ("userSelect","none");return Z.createElement(zt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(w,N),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(N,"endX"),(S||y||E||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,l=r.width,c=r.height,d=r.stroke,f=Math.floor(a+c/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:i,y:a,width:l,height:c,fill:d,stroke:"none"}),Z.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Z.isValidElement(r)?a=Z.cloneElement(r,i):He(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,l=r.width,c=r.x,d=r.travellerWidth,f=r.updateId,p=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return E0({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l},a&&a.length?WQ({data:a,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+l-d]);var v=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,l=0,c=a-1;c-l>1;){var d=Math.floor((l+c)/2);r[d]>i?c=d:l=d}return i>=r[c]?c:l}}]),e})(P.PureComponent);Pn(Da,"displayName","Brush");Pn(Da,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var C0,TI;function KQ(){if(TI)return C0;TI=1;var t=lb();function e(n,r){var i;return t(n,function(a,l,c){return i=r(a,l,c),!i}),!!i}return C0=e,C0}var _0,AI;function JQ(){if(AI)return _0;AI=1;var t=kk(),e=Ui(),n=KQ(),r=Cn(),i=Sf();function a(l,c,d){var f=r(l)?t:n;return d&&i(l,c,d)&&(c=void 0),f(l,e(c,3))}return _0=a,_0}var YQ=JQ();const XQ=dt(YQ);var _r=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},T0,jI;function QQ(){if(jI)return T0;jI=1;var t=Xk();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return T0=e,T0}var A0,II;function ZQ(){if(II)return A0;II=1;var t=QQ(),e=Jk(),n=Ui();function r(i,a){var l={};return a=n(a,3),e(i,function(c,d,f){t(l,d,a(c,d,f))}),l}return A0=r,A0}var eZ=ZQ();const tZ=dt(eZ);var j0,PI;function nZ(){if(PI)return j0;PI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return j0=t,j0}var I0,kI;function rZ(){if(kI)return I0;kI=1;var t=lb();function e(n,r){var i=!0;return t(n,function(a,l,c){return i=!!r(a,l,c),i}),i}return I0=e,I0}var P0,MI;function iZ(){if(MI)return P0;MI=1;var t=nZ(),e=rZ(),n=Ui(),r=Cn(),i=Sf();function a(l,c,d){var f=r(l)?t:e;return d&&i(l,c,d)&&(c=void 0),f(l,n(c,3))}return P0=a,P0}var sZ=iZ();const aZ=dt(sZ);var oZ=["x","y"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=uZ(t,"string");return Hl(e)=="symbol"?e:String(e)}function uZ(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t,e){if(t==null)return{};var n=fZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pZ(t,e){var n=t.x,r=t.y,i=dZ(t,oZ),a="".concat(n),l=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),p=parseInt(f,10),m="".concat(e.width||i.width),v=parseInt(m,10);return Ko(Ko(Ko(Ko(Ko({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function DI(t){return Z.createElement(CQ,ay({shapeType:"rectangle",propTransformer:pZ,activeClassName:"recharts-active-bar"},t))}var mZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||ws(),n)}},hZ=["value","background"],wR;function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function gZ(t,e){if(t==null)return{};var n=vZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NR(r.key),r)}}function yZ(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bZ(t,e,n){return e=Gd(e),wZ(t,SR()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function wZ(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zo(t)}function SR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function Zo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oy(t,e)}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oy(t,e)}function _i(t,e,n){return e=NR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t){var e=NZ(t,"string");return Oa(e)=="symbol"?e:String(e)}function NZ(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds=(function(t){SZ(e,t);function e(){var n;xZ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bZ(this,e,[].concat(i)),_i(Zo(n),"state",{isAnimationFinished:!1}),_i(Zo(n),"id",hf("recharts-bar-")),_i(Zo(n),"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),_i(Zo(n),"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return yZ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,l=a.shape,c=a.dataKey,d=a.activeIndex,f=a.activeBar,p=nt(this.props,!1);return r&&r.map(function(m,v){var w=v===d,N=w?f:l,S=Ut(Ut(Ut({},p),m),{},{isActive:w,option:N,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Z.createElement(zt,Vd({className:"recharts-bar-rectangle"},od(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),Z.createElement(DI,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,l=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return Z.createElement(Mi,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t,S=a.map(function(y,E){var T=v&&v[E];if(T){var A=aa(T.x,y.x),I=aa(T.y,y.y),_=aa(T.width,y.width),k=aa(T.height,y.height);return Ut(Ut({},y),{},{x:A(N),y:I(N),width:_(N),height:k(N)})}if(l==="horizontal"){var M=aa(0,y.height),R=M(N);return Ut(Ut({},y),{},{y:y.y+y.height-R,height:R})}var O=aa(0,y.width),B=O(N);return Ut(Ut({},y),{},{width:B})});return Z.createElement(zt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,l=this.state.prevData;return a&&i&&i.length&&(!l||!Rb(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,l=i.dataKey,c=i.activeIndex,d=nt(this.props.background,!1);return a.map(function(f,p){f.value;var m=f.background,v=gZ(f,hZ);if(!m)return null;var w=Ut(Ut(Ut(Ut(Ut({},v),{},{fill:"#eee"},m),d),od(r.props,f,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,key:"background-bar-".concat(p),className:"recharts-bar-background-rectangle"});return Z.createElement(DI,Vd({option:r.props.background,isActive:p===c},w))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.data,c=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,m=mr(p,Mf);if(!m)return null;var v=f==="vertical"?l[0].height/2:l[0].width/2,w=function(y,E){var T=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:T,errorVal:jr(y,E)}},N={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Z.createElement(zt,N,m.map(function(S){return Z.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:c,yAxis:d,layout:f,offset:v,dataPointFormatter:w})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,l=r.className,c=r.xAxis,d=r.yAxis,f=r.left,p=r.top,m=r.width,v=r.height,w=r.isAnimationActive,N=r.background,S=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,E=ct("recharts-bar",l),T=c&&c.allowDataOverflow,A=d&&d.allowDataOverflow,I=T||A,_=ot(S)?this.id:S;return Z.createElement(zt,{className:E},T||A?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(_)},Z.createElement("rect",{x:T?f:f-m/2,y:A?p:p-v/2,width:T?m:m*2,height:A?v:v*2}))):null,Z.createElement(zt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(_,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,_),(!w||y)&&gs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e})(P.PureComponent);wR=Ds;_i(Ds,"displayName","Bar");_i(Ds,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_i(Ds,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,l=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,w=$K(r,n);if(!w)return null;var N=e.layout,S=n.props,y=S.dataKey,E=S.children,T=S.minPointSize,A=N==="horizontal"?l:a,I=f?A.scale.domain():null,_=WK({numericAxis:A}),k=mr(E,db),M=m.map(function(R,O){var B,$,F,L,z,J;f?B=UK(f[p+O],I):(B=jr(R,y),Array.isArray(B)||(B=[_,B]));var q=mZ(T,wR.defaultProps.minPointSize)(B[1],O);if(N==="horizontal"){var ee,X=[l.scale(B[0]),l.scale(B[1])],re=X[0],ae=X[1];$=Sj({axis:a,ticks:c,bandSize:i,offset:w.offset,entry:R,index:O}),F=(ee=ae??re)!==null&&ee!==void 0?ee:void 0,L=w.size;var V=re-ae;if(z=Number.isNaN(V)?0:V,J={x:$,y:l.y,width:L,height:l.height},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var Q=dr(z||q)*(Math.abs(q)-Math.abs(z));F-=Q,z+=Q}}else{var ge=[a.scale(B[0]),a.scale(B[1])],Ie=ge[0],ne=ge[1];if($=Ie,F=Sj({axis:l,ticks:d,bandSize:i,offset:w.offset,entry:R,index:O}),L=ne-Ie,z=w.size,J={x:a.x,y:F,width:a.width,height:z},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var Pe=dr(L||q)*(Math.abs(q)-Math.abs(L));L+=Pe}}return Ut(Ut(Ut({},R),{},{x:$,y:F,width:L,height:z,value:f?B:B[1],payload:R,background:J},k&&k[O]&&k[O].props),{},{tooltipPayload:[sR(n,R)],tooltipPosition:{x:$+L/2,y:F+z/2}})});return Ut({data:M,layout:N},v)});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function EZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ER(r.key),r)}}function CZ(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Of(t,e,n){return e=ER(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ER(t){var e=_Z(t,"string");return Wl(e)=="symbol"?e:String(e)}function _Z(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TZ=function(e,n,r,i,a){var l=e.width,c=e.height,d=e.layout,f=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!kn(f,Ds);return p.reduce(function(w,N){var S=n[N],y=S.orientation,E=S.domain,T=S.padding,A=T===void 0?{}:T,I=S.mirror,_=S.reversed,k="".concat(y).concat(I?"Mirror":""),M,R,O,B,$;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var F=E[1]-E[0],L=1/0,z=S.categoricalDomain.sort();z.forEach(function(Ie,ne){ne>0&&(L=Math.min((Ie||0)-(z[ne-1]||0),L))});var J=L/F,q=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(M=J*q/2),S.padding==="no-gap"){var ee=Ea(e.barCategoryGap,J*q),X=J*q/2;M=X-ee-(X-ee)/q*ee}}i==="xAxis"?R=[r.left+(A.left||0)+(M||0),r.left+r.width-(A.right||0)-(M||0)]:i==="yAxis"?R=d==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(M||0),r.top+r.height-(A.bottom||0)-(M||0)]:R=S.range,_&&(R=[R[1],R[0]]);var re=LK(S,a,v),ae=re.scale,V=re.realScaleType;ae.domain(E).range(R),FK(ae);var Q=HK(ae,cr(cr({},S),{},{realScaleType:V}));i==="xAxis"?($=y==="top"&&!I||y==="bottom"&&I,O=r.left,B=m[k]-$*S.height):i==="yAxis"&&($=y==="left"&&!I||y==="right"&&I,O=m[k]-$*S.width,B=r.top);var ge=cr(cr(cr({},S),Q),{},{realScaleType:V,x:O,y:B,scale:ae,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ge.bandSize=Pd(ge,Q),!S.hide&&i==="xAxis"?m[k]+=($?-1:1)*ge.height:S.hide||(m[k]+=($?-1:1)*ge.width),cr(cr({},w),{},Of({},N,ge))},{})},CR=function(e,n){var r=e.x,i=e.y,a=n.x,l=n.y;return{x:Math.min(r,a),y:Math.min(i,l),width:Math.abs(a-r),height:Math.abs(l-i)}},AZ=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return CR({x:n,y:r},{x:i,y:a})},_R=(function(){function t(e){EZ(this,t),this.scale=e}return CZ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t})();Of(_R,"EPS",1e-4);var $b=function(e){var n=Object.keys(e).reduce(function(r,i){return cr(cr({},r),{},Of({},i,_R.create(e[i])))},{});return cr(cr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.bandAware,c=a.position;return tZ(i,function(d,f){return n[f].apply(d,{bandAware:l,position:c})})},isInRange:function(i){return aZ(i,function(a,l){return n[l].isInRange(a)})}})};function jZ(t){return(t%180+180)%180}var IZ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=jZ(i),l=a*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},k0,UI;function PZ(){if(UI)return k0;UI=1;var t=Ui(),e=lc(),n=bf();function r(i){return function(a,l,c){var d=Object(a);if(!e(a)){var f=t(l,3);a=n(a),l=function(m){return f(d[m],m,d)}}var p=i(a,l,c);return p>-1?d[f?a[p]:p]:void 0}}return k0=r,k0}var M0,qI;function kZ(){if(qI)return M0;qI=1;var t=vR();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return M0=e,M0}var R0,BI;function MZ(){if(BI)return R0;BI=1;var t=zk(),e=Ui(),n=kZ(),r=Math.max;function i(a,l,c){var d=a==null?0:a.length;if(!d)return-1;var f=c==null?0:n(c);return f<0&&(f=r(d+f,0)),t(a,e(l,3),f)}return R0=i,R0}var D0,zI;function RZ(){if(zI)return D0;zI=1;var t=PZ(),e=MZ(),n=t(e);return D0=n,D0}RZ();var DZ=sk();const OZ=dt(DZ);var LZ=OZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),TR=P.createContext(void 0),AR=P.createContext(void 0),jR=P.createContext(void 0),FZ=P.createContext({}),IR=P.createContext(void 0),PR=P.createContext(0),kR=P.createContext(0),VI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,l=e.clipPathId,c=e.children,d=e.width,f=e.height,p=LZ(a);return Z.createElement(TR.Provider,{value:r},Z.createElement(AR.Provider,{value:i},Z.createElement(FZ.Provider,{value:a},Z.createElement(jR.Provider,{value:p},Z.createElement(IR.Provider,{value:l},Z.createElement(PR.Provider,{value:f},Z.createElement(kR.Provider,{value:d},c)))))))},$Z=function(){return P.useContext(IR)},MR=function(e){var n=P.useContext(TR);n==null&&ws();var r=n[e];return r==null&&ws(),r},RR=function(e){var n=P.useContext(AR);n==null&&ws();var r=n[e];return r==null&&ws(),r},UZ=function(){var e=P.useContext(jR);return e},DR=function(){return P.useContext(kR)},OR=function(){return P.useContext(PR)};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BZ(t){var e=zZ(t,"string");return Kl(e)=="symbol"?e:String(e)}function zZ(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VZ(t,e){return KZ(t)||WZ(t,e)||HZ(t,e)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function KZ(t){if(Array.isArray(t))return t}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}var JZ=function(e,n){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,n):He(e)?r=e(n):r=Z.createElement("line",ly({},n,{className:"recharts-reference-line-line"})),r},YZ=function(e,n,r,i,a,l,c,d,f){var p=a.x,m=a.y,v=a.width,w=a.height;if(r){var N=f.y,S=e.y.apply(N,{position:l});if(_r(f,"discard")&&!e.y.isInRange(S))return null;var y=[{x:p+v,y:S},{x:p,y:S}];return d==="left"?y.reverse():y}if(n){var E=f.x,T=e.x.apply(E,{position:l});if(_r(f,"discard")&&!e.x.isInRange(T))return null;var A=[{x:T,y:m+w},{x:T,y:m}];return c==="top"?A.reverse():A}if(i){var I=f.segment,_=I.map(function(k){return e.apply(k,{position:l})});return _r(f,"discard")&&XQ(_,function(k){return!e.isInRange(k)})?null:_}return null};function Ub(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,l=t.shape,c=t.className,d=t.alwaysShow,f=$Z(),p=MR(i),m=RR(a),v=UZ();if(!f||!v)return null;ps(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=$b({x:p.scale,y:m.scale}),N=Rt(e),S=Rt(n),y=r&&r.length===2,E=YZ(w,N,S,y,v,t.position,p.orientation,m.orientation,t);if(!E)return null;var T=VZ(E,2),A=T[0],I=A.x,_=A.y,k=T[1],M=k.x,R=k.y,O=_r(t,"hidden")?"url(#".concat(f,")"):void 0,B=HI(HI({clipPath:O},nt(t,!0)),{},{x1:I,y1:_,x2:M,y2:R});return Z.createElement(zt,{className:ct("recharts-reference-line",c)},JZ(l,B),sn.renderCallByParent(t,AZ({x1:I,y1:_,x2:M,y2:R})))}Ub.displayName="ReferenceLine";Ub.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){XZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XZ(t,e,n){return e=QZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=ZZ(t,"string");return Jl(e)=="symbol"?e:String(e)}function ZZ(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eee=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,l=$b({x:i.scale,y:a.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return _r(e,"discard")&&!l.isInRange(c)?null:c};function mc(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,a=t.clipPathId,l=Rt(e),c=Rt(n);if(ps(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=eee(t);if(!d)return null;var f=d.x,p=d.y,m=t.shape,v=t.className,w=_r(t,"hidden")?"url(#".concat(a,")"):void 0,N=JI(JI({clipPath:w},nt(t,!0)),{},{cx:f,cy:p});return Z.createElement(zt,{className:ct("recharts-reference-dot",v)},mc.renderDot(m,N),sn.renderCallByParent(t,{x:f-r,y:p-r,width:2*r,height:2*r}))}mc.displayName="ReferenceDot";mc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};mc.renderDot=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):He(t)?n=t(e):n=Z.createElement(gR,cy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return e=nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return Yl(e)=="symbol"?e:String(e)}function ree(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iee=function(e,n,r,i,a){var l=a.x1,c=a.x2,d=a.y1,f=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var v=$b({x:p.scale,y:m.scale}),w={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(d,{position:"start"}):v.y.rangeMin},N={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return _r(a,"discard")&&(!v.isInRange(w)||!v.isInRange(N))?null:CR(w,N)};function hc(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,a=t.className,l=t.alwaysShow,c=t.clipPathId;ps(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Rt(e),f=Rt(n),p=Rt(r),m=Rt(i),v=t.shape;if(!d&&!f&&!p&&!m&&!v)return null;var w=iee(d,f,p,m,t);if(!w&&!v)return null;var N=_r(t,"hidden")?"url(#".concat(c,")"):void 0;return Z.createElement(zt,{className:ct("recharts-reference-area",a)},hc.renderRect(v,XI(XI({clipPath:N},nt(t,!0)),w)),sn.renderCallByParent(t,w))}hc.displayName="ReferenceArea";hc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};hc.renderRect=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):He(t)?n=t(e):n=Z.createElement(Fb,uy({},e,{className:"recharts-reference-area-rect"})),n};function LR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function see(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return IZ(r,n)}function aee(t,e,n){var r=n==="width",i=t.x,a=t.y,l=t.width,c=t.height;return e===1?{start:r?i:a,end:r?i+l:a+c}:{start:r?i+l:a+c,end:r?i:a}}function Hd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function oee(t,e){return LR(t,e+1)}function lee(t,e,n,r,i){for(var a=(r||[]).slice(),l=e.start,c=e.end,d=0,f=1,p=l,m=function(){var N=r==null?void 0:r[d];if(N===void 0)return{v:LR(r,f)};var S=d,y,E=function(){return y===void 0&&(y=n(N,S)),y},T=N.coordinate,A=d===0||Hd(t,T,E,p,c);A||(d=0,p=l,f+=1),A&&(p=T+t*(E()/2+i),d+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return e=uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=dee(t,"string");return Xl(e)=="symbol"?e:String(e)}function dee(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fee(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,c=e.start,d=e.end,f=function(v){var w=a[v],N,S=function(){return N===void 0&&(N=n(w,v)),N};if(v===l-1){var y=t*(w.coordinate+t*S()/2-d);a[v]=w=rn(rn({},w),{},{tickCoord:y>0?w.coordinate-y*t:w.coordinate})}else a[v]=w=rn(rn({},w),{},{tickCoord:w.coordinate});var E=Hd(t,w.tickCoord,S,c,d);E&&(d=w.tickCoord-t*(S()/2+i),a[v]=rn(rn({},w),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return a}function pee(t,e,n,r,i,a){var l=(r||[]).slice(),c=l.length,d=e.start,f=e.end;if(a){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-f);l[c-1]=p=rn(rn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var w=Hd(t,p.tickCoord,function(){return m},d,f);w&&(f=p.tickCoord-t*(m/2+i),l[c-1]=rn(rn({},p),{},{isShow:!0}))}for(var N=a?c-1:c,S=function(T){var A=l[T],I,_=function(){return I===void 0&&(I=n(A,T)),I};if(T===0){var k=t*(A.coordinate-t*_()/2-d);l[T]=A=rn(rn({},A),{},{tickCoord:k<0?A.coordinate-k*t:A.coordinate})}else l[T]=A=rn(rn({},A),{},{tickCoord:A.coordinate});var M=Hd(t,A.tickCoord,_,d,f);M&&(d=A.tickCoord+t*(_()/2+i),l[T]=rn(rn({},A),{},{isShow:!0}))},y=0;y<N;y++)S(y);return l}function mee(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,l=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(be(d)||cc.isSsr)return oee(i,typeof d=="number"&&be(d)?d:0);var v=[],w=c==="top"||c==="bottom"?"width":"height",N=p&&w==="width"?il(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(A,I){var _=He(f)?f(A.value,I):A.value;return w==="width"?see(il(_,{fontSize:e,letterSpacing:n}),N,m):il(_,{fontSize:e,letterSpacing:n})[w]},y=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,E=aee(a,y,w);return d==="equidistantPreserveStart"?lee(y,E,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?v=pee(y,E,S,i,l,d==="preserveStartEnd"):v=fee(y,E,S,i,l),v.filter(function(T){return T.isShow}))}var hee=["viewBox"],gee=["viewBox"],vee=["ticks"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O0(t,e){if(t==null)return{};var n=xee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function bee(t,e,n){return e&&e2(t.prototype,e),n&&e2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wee(t,e,n){return e=Wd(e),See(t,FR()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function See(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nee(t)}function Nee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function Eee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(t,e)}function qb(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=Cee(t,"string");return La(e)=="symbol"?e:String(e)}function Cee(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lf=(function(t){Eee(e,t);function e(n){var r;return yee(this,e),r=wee(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bee(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,l=O0(r,hee),c=this.props,d=c.viewBox,f=O0(c,gee);return!ya(a,d)||!ya(l,f)||!ya(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,l=i.y,c=i.width,d=i.height,f=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,w,N,S,y,E,T,A=m?-1:1,I=r.tickSize||p,_=be(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":w=N=r.coordinate,y=l+ +!m*d,S=y-A*I,T=S-A*v,E=_;break;case"left":S=y=r.coordinate,N=a+ +!m*c,w=N-A*I,E=w-A*v,T=_;break;case"right":S=y=r.coordinate,N=a+ +m*c,w=N+A*I,E=w+A*v,T=_;break;default:w=N=r.coordinate,y=l+ +m*d,S=y+A*I,T=S+A*v,E=_;break}return{line:{x1:w,y1:S,x2:N,y2:y},tick:{x:E,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,l;switch(i){case"left":l=a?"start":"end";break;case"right":l=a?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=a?"start":"end";break;default:l=a?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,l=r.width,c=r.height,d=r.orientation,f=r.mirror,p=r.axisLine,m=un(un(un({},nt(this.props,!1)),nt(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);m=un(un({},m),{},{x1:i,y1:a+v*c,x2:i+l,y2:a+v*c})}else{var w=+(d==="left"&&!f||d==="right"&&f);m=un(un({},m),{},{x1:i+w*l,y1:a,x2:i+w*l,y2:a+c})}return Z.createElement("line",ma({},m,{className:ct("recharts-cartesian-axis-line",Kn(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var l=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,w=mee(un(un({},this.props),{},{ticks:r}),i,a),N=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),y=nt(this.props,!1),E=nt(p,!1),T=un(un({},y),{},{fill:"none"},nt(d,!1)),A=w.map(function(I,_){var k=l.getTickLineCoord(I),M=k.line,R=k.tick,O=un(un(un(un({textAnchor:N,verticalAnchor:S},y),{},{stroke:"none",fill:f},E),R),{},{index:_,payload:I,visibleTicksCount:w.length,tickFormatter:m});return Z.createElement(zt,ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},od(l.props,I,_)),d&&Z.createElement("line",ma({},T,M,{className:ct("recharts-cartesian-axis-tick-line",Kn(d,"className"))})),p&&e.renderTickItem(p,O,"".concat(He(m)?m(I.value,_):I.value).concat(v||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,l=i.width,c=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,w=O0(m,vee),N=v;return He(d)&&(N=v&&v.length>0?d(this.props):d(w)),l<=0||c<=0||!N||!N.length?null:Z.createElement(zt,{className:ct("recharts-cartesian-axis",f),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var l;return Z.isValidElement(r)?l=Z.cloneElement(r,i):He(r)?l=r(i):l=Z.createElement(xd,ma({},i,{className:"recharts-cartesian-axis-tick-value"}),a),l}}]),e})(P.Component);qb(Lf,"displayName","CartesianAxis");qb(Lf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}var Ff=function(e){var n=e.xAxisId,r=DR(),i=OR(),a=MR(n);return a==null?null:Z.createElement(Lf,fy({},a,{className:ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return ds(c,!0)}}))};Ff.displayName="XAxis";Ff.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}var $f=function(e){var n=e.yAxisId,r=DR(),i=OR(),a=RR(n);return a==null?null:Z.createElement(Lf,py({},a,{className:ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return ds(c,!0)}}))};$f.displayName="YAxis";$f.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function t2(t){return jee(t)||Aee(t)||Tee(t)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(t,e){if(t){if(typeof t=="string")return my(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(t,e)}}function Aee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jee(t){if(Array.isArray(t))return my(t)}function my(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hy=function(e,n,r,i,a){var l=mr(e,Ub),c=mr(e,mc),d=[].concat(t2(l),t2(c)),f=mr(e,hc),p="".concat(i,"Id"),m=i[0],v=n;if(d.length&&(v=d.reduce(function(S,y){if(y.props[p]===r&&_r(y.props,"extendDomain")&&be(y.props[m])){var E=y.props[m];return[Math.min(S[0],E),Math.max(S[1],E)]}return S},v)),f.length){var w="".concat(m,"1"),N="".concat(m,"2");v=f.reduce(function(S,y){if(y.props[p]===r&&_r(y.props,"extendDomain")&&be(y.props[w])&&be(y.props[N])){var E=y.props[w],T=y.props[N];return[Math.min(S[0],E,T),Math.max(S[1],E,T)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,y){return be(y)?[Math.min(S[0],y),Math.max(S[1],y)]:S},v)),v},L0={exports:{}},n2;function Iee(){return n2||(n2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,m||d,v),N=n?n+f:f;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],w]:d._events[N].push(w):(d._events[N]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,w=m.length,N=new Array(w);v<w;v++)N[v]=m[v].fn;return N},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,v,w,N){var S=n?n+f:f;if(!this._events[S])return!1;var y=this._events[S],E=arguments.length,T,A;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,v),!0;case 5:return y.fn.call(y.context,p,m,v,w),!0;case 6:return y.fn.call(y.context,p,m,v,w,N),!0}for(A=1,T=new Array(E-1);A<E;A++)T[A-1]=arguments[A];y.fn.apply(y.context,T)}else{var I=y.length,_;for(A=0;A<I;A++)switch(y[A].once&&this.removeListener(f,y[A].fn,void 0,!0),E){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,p);break;case 3:y[A].fn.call(y[A].context,p,m);break;case 4:y[A].fn.call(y[A].context,p,m,v);break;default:if(!T)for(_=1,T=new Array(E-1);_<E;_++)T[_-1]=arguments[_];y[A].fn.apply(y[A].context,T)}}return!0},c.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,v){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return l(this,w),this;var N=this._events[w];if(N.fn)N.fn===p&&(!v||N.once)&&(!m||N.context===m)&&l(this,w);else{for(var S=0,y=[],E=N.length;S<E;S++)(N[S].fn!==p||v&&!N[S].once||m&&N[S].context!==m)&&y.push(N[S]);y.length?this._events[w]=y.length===1?y[0]:y:l(this,w)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(L0)),L0.exports}var Pee=Iee();const kee=dt(Pee);var F0=new kee,$0="recharts.syncMouseEvents";function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Mee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ree(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function Dee(t,e,n){return e&&Ree(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U0(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=Oee(t,"string");return Ql(e)=="symbol"?e:String(e)}function Oee(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lee=(function(){function t(){Mee(this,t),U0(this,"activeIndex",0),U0(this,"coordinateList",[]),U0(this,"layout","horizontal")}return Dee(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,l=n.container,c=l===void 0?null:l,d=n.layout,f=d===void 0?null:d,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,w=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,l=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+d+f,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}]),t})();function Fee(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&be(r)&&be(i))return!0}return!1}function $ee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,l=Qt(e,n,r,i),c=Qt(e,n,r,a);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Uee(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,m=e.angle,v=Qt(c,d,f,m),w=Qt(c,d,p,m);r=v.x,i=v.y,a=w.x,l=w.y}else return qR(e);return[{x:r,y:i},{x:a,y:l}]}function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=zee(t,"string");return Zl(e)=="symbol"?e:String(e)}function zee(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vee(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName;if(!e||!e.props.cursor||!r||!i||p!=="ScatterChart"&&n!=="axis")return null;var m,v=$j;if(p==="ScatterChart")m=i,v=QX;else if(p==="BarChart")m=$ee(f,i,l,d),v=Fb;else if(f==="radial"){var w=qR(i),N=w.cx,S=w.cy,y=w.radius,E=w.startAngle,T=w.endAngle;m={cx:N,cy:S,startAngle:E,endAngle:T,innerRadius:y,outerRadius:y},v=lR}else m={points:Uee(f,i,l)},v=$j;var A=Vu(Vu(Vu(Vu({stroke:"#ccc",pointerEvents:"none"},l),m),nt(e.props.cursor,!1)),{},{payload:a,payloadIndex:c,className:"recharts-tooltip-cursor"});return P.isValidElement(e.props.cursor)?P.cloneElement(e.props.cursor,A):P.createElement(v,A)}var Gee=["item"],Hee=["children","className","width","height","style","compact","title","desc"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function i2(t,e){return Jee(t)||Kee(t,e)||zR(t,e)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Jee(t){if(Array.isArray(t))return t}function s2(t,e){if(t==null)return{};var n=Yee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VR(r.key),r)}}function Zee(t,e,n){return e&&Qee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ete(t,e,n){return e=Kd(e),tte(t,BR()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function tte(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function Ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gy(t,e)}function gy(t,e){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gy(t,e)}function $a(t){return ste(t)||ite(t)||zR(t)||rte()}function rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(t,e){if(t){if(typeof t=="string")return vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(t,e)}}function ite(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ste(t){if(Array.isArray(t))return vy(t)}function vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t,e,n){return e=VR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VR(t){var e=ate(t,"string");return Fa(e)=="symbol"?e:String(e)}function ate(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote={xAxis:["bottom","top"],yAxis:["left","right"]},lte={width:"100%",height:"100%"},GR={x:0,y:0};function Gu(t){return t}var cte=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ute=function(e,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,c=i.radius;return oe(oe(oe({},i),Qt(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var d=a.coordinate,f=i.angle;return oe(oe(oe({},i),Qt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return GR},Uf=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,l=(r??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat($a(c),$a(f)):c},[]);return l.length>0?l:e&&e.length&&be(i)&&be(a)?e.slice(i,a+1):[]};function HR(t){return t==="number"?[0,"auto"]:void 0}var xy=function(e,n,r,i){var a=e.graphicalItems,l=e.tooltipAxis,c=Uf(n,e);return r<0||!a||!a.length||r>=c.length?null:a.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var w=m===void 0?c:m;v=dx(w,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat($a(d),[sR(f,v)]):d},[])},o2=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},l=cte(a,r),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=PK(l,c,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,v=xy(e,n,p,m),w=ute(r,c,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:w}}return null},dte=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,l=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,w=rR(p,a);return r.reduce(function(N,S){var y,E=S.props,T=E.type,A=E.dataKey,I=E.allowDataOverflow,_=E.allowDuplicatedCategory,k=E.scale,M=E.ticks,R=E.includeHidden,O=S.props[l];if(N[O])return N;var B=Uf(e.data,{graphicalItems:i.filter(function(Q){return Q.props[l]===O}),dataStartIndex:d,dataEndIndex:f}),$=B.length,F,L,z;Fee(S.props.domain,I,T)&&(F=zx(S.props.domain,null,I),w&&(T==="number"||k!=="auto")&&(z=al(B,A,"category")));var J=HR(T);if(!F||F.length===0){var q,ee=(q=S.props.domain)!==null&&q!==void 0?q:J;if(A){if(F=al(B,A,T),T==="category"&&w){var X=Mz(F);_&&X?(L=F,F=qd(0,$)):_||(F=Cj(ee,F,S).reduce(function(Q,ge){return Q.indexOf(ge)>=0?Q:[].concat($a(Q),[ge])},[]))}else if(T==="category")_?F=F.filter(function(Q){return Q!==""&&!ot(Q)}):F=Cj(ee,F,S).reduce(function(Q,ge){return Q.indexOf(ge)>=0||ge===""||ot(ge)?Q:[].concat($a(Q),[ge])},[]);else if(T==="number"){var re=OK(B,i.filter(function(Q){return Q.props[l]===O&&(R||!Q.props.hide)}),A,a,p);re&&(F=re)}w&&(T==="number"||k!=="auto")&&(z=al(B,A,"category"))}else w?F=qd(0,$):c&&c[O]&&c[O].hasStack&&T==="number"?F=v==="expand"?[0,1]:iR(c[O].stackGroups,d,f):F=nR(B,i.filter(function(Q){return Q.props[l]===O&&(R||!Q.props.hide)}),T,p,!0);if(T==="number")F=hy(m,F,O,a,M),ee&&(F=zx(ee,F,I));else if(T==="category"&&ee){var ae=ee,V=F.every(function(Q){return ae.indexOf(Q)>=0});V&&(F=ae)}}return oe(oe({},N),{},De({},O,oe(oe({},S.props),{},{axisType:a,domain:F,categoricalDomain:z,duplicateDomain:L,originalDomain:(y=S.props.domain)!==null&&y!==void 0?y:J,isCategorical:w,layout:p})))},{})},fte=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,l=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,m=e.children,v=Uf(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),w=v.length,N=rR(p,a),S=-1;return r.reduce(function(y,E){var T=E.props[l],A=HR("number");if(!y[T]){S++;var I;return N?I=qd(0,w):c&&c[T]&&c[T].hasStack?(I=iR(c[T].stackGroups,d,f),I=hy(m,I,T,a)):(I=zx(A,nR(v,r.filter(function(_){return _.props[l]===T&&!_.props.hide}),"number",p),i.defaultProps.allowDataOverflow),I=hy(m,I,T,a)),oe(oe({},y),{},De({},T,oe(oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Kn(ote,"".concat(a,".").concat(S%2),null),domain:I,originalDomain:A,isCategorical:N,layout:p})))}return y},{})},pte=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=mr(p,a),w={};return v&&v.length?w=dte(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(w=fte(e,{Axis:a,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),w},mte=function(e){var n=ua(e),r=ds(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:cb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Pd(n,r)}},l2=function(e){var n=e.children,r=e.defaultShowTooltip,i=kn(n,Da),a=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},hte=function(e){return!e||!e.length?!1:e.some(function(n){var r=Br(n&&n.type);return r&&r.indexOf("Bar")>=0})},c2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gte=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,l=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,f=r.width,p=r.height,m=r.children,v=r.margin||{},w=kn(m,Da),N=kn(m,vl),S=Object.keys(d).reduce(function(_,k){var M=d[k],R=M.orientation;return!M.mirror&&!M.hide?oe(oe({},_),{},De({},R,_[R]+M.width)):_},{left:v.left||0,right:v.right||0}),y=Object.keys(l).reduce(function(_,k){var M=l[k],R=M.orientation;return!M.mirror&&!M.hide?oe(oe({},_),{},De({},R,Kn(_,"".concat(R))+M.height)):_},{top:v.top||0,bottom:v.bottom||0}),E=oe(oe({},y),S),T=E.bottom;w&&(E.bottom+=w.props.height||Da.defaultProps.height),N&&n&&(E=RK(E,i,r,n));var A=f-E.left-E.right,I=p-E.top-E.bottom;return oe(oe({brushBottom:T},E),{},{width:Math.max(A,0),height:Math.max(I,0)})},vte=function(e){var n,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,l=a===void 0?"axis":a,c=e.validateTooltipEventTypes,d=c===void 0?["axis"]:c,f=e.axisComponents,p=e.legendContent,m=e.formatAxisMap,v=e.defaultProps,w=function(y,E){var T=E.graphicalItems,A=E.stackGroups,I=E.offset,_=E.updateId,k=E.dataStartIndex,M=E.dataEndIndex,R=y.barSize,O=y.layout,B=y.barGap,$=y.barCategoryGap,F=y.maxBarSize,L=c2(O),z=L.numericAxisName,J=L.cateAxisName,q=hte(T),ee=q&&kK({barSize:R,stackGroups:A}),X=[];return T.forEach(function(re,ae){var V=Uf(y.data,{graphicalItems:[re],dataStartIndex:k,dataEndIndex:M}),Q=re.props,ge=Q.dataKey,Ie=Q.maxBarSize,ne=re.props["".concat(z,"Id")],Pe=re.props["".concat(J,"Id")],Le={},ke=f.reduce(function(_n,hn){var Vi=E["".concat(hn.axisType,"Map")],Xa=re.props["".concat(hn.axisType,"Id")];Vi&&Vi[Xa]||hn.axisType==="zAxis"||ws();var Qa=Vi[Xa];return oe(oe({},_n),{},De(De({},hn.axisType,Qa),"".concat(hn.axisType,"Ticks"),ds(Qa)))},Le),ce=ke[J],_e=ke["".concat(J,"Ticks")],Fe=A&&A[ne]&&A[ne].hasStack&&KK(re,A[ne].stackGroups),pe=Br(re.type).indexOf("Bar")>=0,rt=Pd(ce,_e),$e=[];if(pe){var it,ft,Wt=ot(Ie)?F:Ie,Dn=(it=(ft=Pd(ce,_e,!0))!==null&&ft!==void 0?ft:Wt)!==null&&it!==void 0?it:0;$e=MK({barGap:B,barCategoryGap:$,bandSize:Dn!==rt?Dn:rt,sizeList:ee[Pe],maxBarSize:Wt}),Dn!==rt&&($e=$e.map(function(_n){return oe(oe({},_n),{},{position:oe(oe({},_n.position),{},{offset:_n.position.offset-Dn/2})})}))}var ti=re&&re.type&&re.type.getComposedData;ti&&X.push({props:oe(oe({},ti(oe(oe({},ke),{},{displayedData:V,props:y,dataKey:ge,item:re,bandSize:rt,barPosition:$e,offset:I,stackedData:Fe,layout:O,dataStartIndex:k,dataEndIndex:M}))),{},De(De(De({key:re.key||"item-".concat(ae)},z,ke[z]),J,ke[J]),"animationId",_)),childIndex:Vz(re,y.children),item:re})}),X},N=function(y,E){var T=y.props,A=y.dataStartIndex,I=y.dataEndIndex,_=y.updateId;if(!UC({props:T}))return null;var k=T.children,M=T.layout,R=T.stackOffset,O=T.data,B=T.reverseStackOrder,$=c2(M),F=$.numericAxisName,L=$.cateAxisName,z=mr(k,i),J=GK(O,z,"".concat(F,"Id"),"".concat(L,"Id"),R,B),q=f.reduce(function(V,Q){var ge="".concat(Q.axisType,"Map");return oe(oe({},V),{},De({},ge,pte(T,oe(oe({},Q),{},{graphicalItems:z,stackGroups:Q.axisType===F&&J,dataStartIndex:A,dataEndIndex:I}))))},{}),ee=gte(oe(oe({},q),{},{props:T,graphicalItems:z}),E==null?void 0:E.legendBBox);Object.keys(q).forEach(function(V){q[V]=m(T,q[V],ee,V.replace("Map",""),r)});var X=q["".concat(L,"Map")],re=mte(X),ae=w(T,oe(oe({},q),{},{dataStartIndex:A,dataEndIndex:I,updateId:_,graphicalItems:z,stackGroups:J,offset:ee}));return oe(oe({formattedGraphicalItems:ae,graphicalItems:z,offset:ee,stackGroups:J},re),q)};return n=(function(S){nte(y,S);function y(E){var T,A,I;return Xee(this,y),I=ete(this,y,[E]),De(Ge(I),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(Ge(I),"accessibilityManager",new Lee),De(Ge(I),"handleLegendBBoxUpdate",function(_){if(_){var k=I.state,M=k.dataStartIndex,R=k.dataEndIndex,O=k.updateId;I.setState(oe({legendBBox:_},N({props:I.props,dataStartIndex:M,dataEndIndex:R,updateId:O},oe(oe({},I.state),{},{legendBBox:_}))))}}),De(Ge(I),"handleReceiveSyncEvent",function(_,k,M){if(I.props.syncId===_){if(M===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(k)}}),De(Ge(I),"handleBrushChange",function(_){var k=_.startIndex,M=_.endIndex;if(k!==I.state.dataStartIndex||M!==I.state.dataEndIndex){var R=I.state.updateId;I.setState(function(){return oe({dataStartIndex:k,dataEndIndex:M},N({props:I.props,dataStartIndex:k,dataEndIndex:M,updateId:R},I.state))}),I.triggerSyncEvent({dataStartIndex:k,dataEndIndex:M})}}),De(Ge(I),"handleMouseEnter",function(_){var k=I.getMouseInfo(_);if(k){var M=oe(oe({},k),{},{isTooltipActive:!0});I.setState(M),I.triggerSyncEvent(M);var R=I.props.onMouseEnter;He(R)&&R(M,_)}}),De(Ge(I),"triggeredAfterMouseMove",function(_){var k=I.getMouseInfo(_),M=k?oe(oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(M),I.triggerSyncEvent(M);var R=I.props.onMouseMove;He(R)&&R(M,_)}),De(Ge(I),"handleItemMouseEnter",function(_){I.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),De(Ge(I),"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),De(Ge(I),"handleMouseMove",function(_){_.persist(),I.throttleTriggeredAfterMouseMove(_)}),De(Ge(I),"handleMouseLeave",function(_){I.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};I.setState(k),I.triggerSyncEvent(k);var M=I.props.onMouseLeave;He(M)&&M(k,_)}),De(Ge(I),"handleOuterEvent",function(_){var k=zz(_),M=Kn(I.props,"".concat(k));if(k&&He(M)){var R,O;/.*touch.*/i.test(k)?O=I.getMouseInfo(_.changedTouches[0]):O=I.getMouseInfo(_),M((R=O)!==null&&R!==void 0?R:{},_)}}),De(Ge(I),"handleClick",function(_){var k=I.getMouseInfo(_);if(k){var M=oe(oe({},k),{},{isTooltipActive:!0});I.setState(M),I.triggerSyncEvent(M);var R=I.props.onClick;He(R)&&R(M,_)}}),De(Ge(I),"handleMouseDown",function(_){var k=I.props.onMouseDown;if(He(k)){var M=I.getMouseInfo(_);k(M,_)}}),De(Ge(I),"handleMouseUp",function(_){var k=I.props.onMouseUp;if(He(k)){var M=I.getMouseInfo(_);k(M,_)}}),De(Ge(I),"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),De(Ge(I),"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&I.handleMouseDown(_.changedTouches[0])}),De(Ge(I),"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&I.handleMouseUp(_.changedTouches[0])}),De(Ge(I),"triggerSyncEvent",function(_){I.props.syncId!==void 0&&F0.emit($0,I.props.syncId,_,I.eventEmitterSymbol)}),De(Ge(I),"applySyncEvent",function(_){var k=I.props,M=k.layout,R=k.syncMethod,O=I.state.updateId,B=_.dataStartIndex,$=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)I.setState(oe({dataStartIndex:B,dataEndIndex:$},N({props:I.props,dataStartIndex:B,dataEndIndex:$,updateId:O},I.state)));else if(_.activeTooltipIndex!==void 0){var F=_.chartX,L=_.chartY,z=_.activeTooltipIndex,J=I.state,q=J.offset,ee=J.tooltipTicks;if(!q)return;if(typeof R=="function")z=R(ee,_);else if(R==="value"){z=-1;for(var X=0;X<ee.length;X++)if(ee[X].value===_.activeLabel){z=X;break}}var re=oe(oe({},q),{},{x:q.left,y:q.top}),ae=Math.min(F,re.x+re.width),V=Math.min(L,re.y+re.height),Q=ee[z]&&ee[z].value,ge=xy(I.state,I.props.data,z),Ie=ee[z]?{x:M==="horizontal"?ee[z].coordinate:ae,y:M==="horizontal"?V:ee[z].coordinate}:GR;I.setState(oe(oe({},_),{},{activeLabel:Q,activeCoordinate:Ie,activePayload:ge,activeTooltipIndex:z}))}else I.setState(_)}),De(Ge(I),"renderCursor",function(_){var k,M=I.state,R=M.isTooltipActive,O=M.activeCoordinate,B=M.activePayload,$=M.offset,F=M.activeTooltipIndex,L=M.tooltipAxisBandSize,z=I.getTooltipEventType(),J=(k=_.props.active)!==null&&k!==void 0?k:R,q=I.props.layout,ee=_.key||"_recharts-cursor";return Z.createElement(Vee,{key:ee,activeCoordinate:O,activePayload:B,activeTooltipIndex:F,chartName:r,element:_,isActive:J,layout:q,offset:$,tooltipAxisBandSize:L,tooltipEventType:z})}),De(Ge(I),"renderPolarAxis",function(_,k,M){var R=Kn(_,"type.axisType"),O=Kn(I.state,"".concat(R,"Map")),B=O&&O[_.props["".concat(R,"Id")]];return P.cloneElement(_,oe(oe({},B),{},{className:R,key:_.key||"".concat(k,"-").concat(M),ticks:ds(B,!0)}))}),De(Ge(I),"renderPolarGrid",function(_){var k=_.props,M=k.radialLines,R=k.polarAngles,O=k.polarRadius,B=I.state,$=B.radiusAxisMap,F=B.angleAxisMap,L=ua($),z=ua(F),J=z.cx,q=z.cy,ee=z.innerRadius,X=z.outerRadius;return P.cloneElement(_,{polarAngles:Array.isArray(R)?R:ds(z,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(O)?O:ds(L,!0).map(function(re){return re.coordinate}),cx:J,cy:q,innerRadius:ee,outerRadius:X,key:_.key||"polar-grid",radialLines:M})}),De(Ge(I),"renderLegend",function(){var _=I.state.formattedGraphicalItems,k=I.props,M=k.children,R=k.width,O=k.height,B=I.props.margin||{},$=R-(B.left||0)-(B.right||0),F=eR({children:M,formattedGraphicalItems:_,legendWidth:$,legendContent:p});if(!F)return null;var L=F.item,z=s2(F,Gee);return P.cloneElement(L,oe(oe({},z),{},{chartWidth:R,chartHeight:O,margin:B,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),De(Ge(I),"renderTooltip",function(){var _,k=I.props,M=k.children,R=k.accessibilityLayer,O=kn(M,Nr);if(!O)return null;var B=I.state,$=B.isTooltipActive,F=B.activeCoordinate,L=B.activePayload,z=B.activeLabel,J=B.offset,q=(_=O.props.active)!==null&&_!==void 0?_:$;return P.cloneElement(O,{viewBox:oe(oe({},J),{},{x:J.left,y:J.top}),active:q,label:z,payload:q?L:[],coordinate:F,accessibilityLayer:R})}),De(Ge(I),"renderBrush",function(_){var k=I.props,M=k.margin,R=k.data,O=I.state,B=O.offset,$=O.dataStartIndex,F=O.dataEndIndex,L=O.updateId;return P.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Uu(I.handleBrushChange,_.props.onChange),data:R,x:be(_.props.x)?_.props.x:B.left,y:be(_.props.y)?_.props.y:B.top+B.height+B.brushBottom-(M.bottom||0),width:be(_.props.width)?_.props.width:B.width,startIndex:$,endIndex:F,updateId:"brush-".concat(L)})}),De(Ge(I),"renderReferenceElement",function(_,k,M){if(!_)return null;var R=Ge(I),O=R.clipPathId,B=I.state,$=B.xAxisMap,F=B.yAxisMap,L=B.offset,z=_.props,J=z.xAxisId,q=z.yAxisId;return P.cloneElement(_,{key:_.key||"".concat(k,"-").concat(M),xAxis:$[J],yAxis:F[q],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:O})}),De(Ge(I),"renderActivePoints",function(_){var k=_.item,M=_.activePoint,R=_.basePoint,O=_.childIndex,B=_.isRange,$=[],F=k.props.key,L=k.item.props,z=L.activeDot,J=L.dataKey,q=oe(oe({index:O,dataKey:J,cx:M.x,cy:M.y,r:4,fill:Lb(k.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value,key:"".concat(F,"-activePoint-").concat(O)},nt(z,!1)),ad(z));return $.push(y.renderActiveDot(z,q)),R?$.push(y.renderActiveDot(z,oe(oe({},q),{},{cx:R.x,cy:R.y,key:"".concat(F,"-basePoint-").concat(O)}))):B&&$.push(null),$}),De(Ge(I),"renderGraphicChild",function(_,k,M){var R=I.filterFormatItem(_,k,M);if(!R)return null;var O=I.getTooltipEventType(),B=I.state,$=B.isTooltipActive,F=B.tooltipAxis,L=B.activeTooltipIndex,z=B.activeLabel,J=I.props.children,q=kn(J,Nr),ee=R.props,X=ee.points,re=ee.isRange,ae=ee.baseLine,V=R.item.props,Q=V.activeDot,ge=V.hide,Ie=V.activeBar,ne=V.activeShape,Pe=!!(!ge&&$&&q&&(Q||Ie||ne)),Le={};O!=="axis"&&q&&q.props.trigger==="click"?Le={onClick:Uu(I.handleItemMouseEnter,_.props.onClick)}:O!=="axis"&&(Le={onMouseLeave:Uu(I.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Uu(I.handleItemMouseEnter,_.props.onMouseEnter)});var ke=P.cloneElement(_,oe(oe({},R.props),Le));function ce(hn){return typeof F.dataKey=="function"?F.dataKey(hn.payload):null}if(Pe)if(L>=0){var _e,Fe;if(F.dataKey&&!F.allowDuplicatedCategory){var pe=typeof F.dataKey=="function"?ce:"payload.".concat(F.dataKey.toString());_e=dx(X,pe,z),Fe=re&&ae&&dx(ae,pe,z)}else _e=X==null?void 0:X[L],Fe=re&&ae&&ae[L];if(ne||Ie){var rt=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[P.cloneElement(_,oe(oe(oe({},R.props),Le),{},{activeIndex:rt})),null,null]}if(!ot(_e))return[ke].concat($a(I.renderActivePoints({item:R,activePoint:_e,basePoint:Fe,childIndex:L,isRange:re})))}else{var $e,it=($e=I.getItemByXY(I.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:ke},ft=it.graphicalItem,Wt=ft.item,Dn=Wt===void 0?_:Wt,ti=ft.childIndex,_n=oe(oe(oe({},R.props),Le),{},{activeIndex:ti});return[P.cloneElement(Dn,_n),null,null]}return re?[ke,null,null]:[ke,null]}),De(Ge(I),"renderCustomized",function(_,k,M){return P.cloneElement(_,oe(oe({key:"recharts-customized-".concat(M)},I.props),I.state))}),De(Ge(I),"renderMap",{CartesianGrid:{handler:Gu,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Gu},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Gu},YAxis:{handler:Gu},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((T=E.id)!==null&&T!==void 0?T:hf("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=rM(I.triggeredAfterMouseMove,(A=E.throttleDelay)!==null&&A!==void 0?A:1e3/60),I.state={},I}return Zee(y,[{key:"componentDidMount",value:function(){var T,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,A=T.children,I=T.data,_=T.height,k=T.layout,M=kn(A,Nr);if(M){var R=M.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length)){var O=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,B=xy(this.state,I,R,O),$=this.state.tooltipTicks[R].coordinate,F=(this.state.offset.top+_)/2,L=k==="horizontal",z=L?{x:$,y:F}:{y:$,x:F},J=this.state.formattedGraphicalItems.find(function(ee){var X=ee.item;return X.type.name==="Scatter"});J&&(z=oe(oe({},z),J.props.points[R].tooltipPosition),B=J.props.points[R].tooltipPayload);var q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:O,activePayload:B,activeCoordinate:z};this.setState(q),this.renderCursor(M),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var I,_;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(T){px([kn(T.children,Nr)],[kn(this.props.children,Nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=kn(this.props.children,Nr);if(T&&typeof T.props.shared=="boolean"){var A=T.props.shared?"axis":"item";return d.indexOf(A)>=0?A:l}return l}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var A=this.container,I=A.getBoundingClientRect(),_=jG(I),k={chartX:Math.round(T.pageX-_.left),chartY:Math.round(T.pageY-_.top)},M=I.width/A.offsetWidth||1,R=this.inRange(k.chartX,k.chartY,M);if(!R)return null;var O=this.state,B=O.xAxisMap,$=O.yAxisMap,F=this.getTooltipEventType();if(F!=="axis"&&B&&$){var L=ua(B).scale,z=ua($).scale,J=L&&L.invert?L.invert(k.chartX):null,q=z&&z.invert?z.invert(k.chartY):null;return oe(oe({},k),{},{xValue:J,yValue:q})}var ee=o2(this.state,this.props.data,this.props.layout,R);return ee?oe(oe({},k),ee):null}},{key:"inRange",value:function(T,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,k=T/I,M=A/I;if(_==="horizontal"||_==="vertical"){var R=this.state.offset,O=k>=R.left&&k<=R.left+R.width&&M>=R.top&&M<=R.top+R.height;return O?{x:k,y:M}:null}var B=this.state,$=B.angleAxisMap,F=B.radiusAxisMap;if($&&F){var L=ua($);return Aj({x:k,y:M},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,A=this.getTooltipEventType(),I=kn(T,Nr),_={};I&&A==="axis"&&(I.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=ad(this.props,this.handleOuterEvent);return oe(oe({},k),_)}},{key:"addListener",value:function(){F0.on($0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){F0.removeListener($0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,A,I){for(var _=this.state.formattedGraphicalItems,k=0,M=_.length;k<M;k++){var R=_[k];if(R.item===T||R.props.key===T.key||A===Br(R.item.type)&&I===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,A=this.state.offset,I=A.left,_=A.top,k=A.height,M=A.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:T},Z.createElement("rect",{x:I,y:_,height:k,width:M})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(A,I){var _=i2(I,2),k=_[0],M=_[1];return oe(oe({},A),{},De({},k,M.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(A,I){var _=i2(I,2),k=_[0],M=_[1];return oe(oe({},A),{},De({},k,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[T])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(T){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[T])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(T){var A=this.state,I=A.formattedGraphicalItems,_=A.activeItem;if(I&&I.length)for(var k=0,M=I.length;k<M;k++){var R=I[k],O=R.props,B=R.item,$=Br(B.type);if($==="Bar"){var F=(O.data||[]).find(function(q){return BX(T,q)});if(F)return{graphicalItem:R,payload:F}}else if($==="RadialBar"){var L=(O.data||[]).find(function(q){return Aj(T,q)});if(L)return{graphicalItem:R,payload:L}}else if(Rf(R,_)||Df(R,_)||Vl(R,_)){var z=kQ({graphicalItem:R,activeTooltipItem:_,itemData:B.props.data}),J=B.props.activeIndex===void 0?z:B.props.activeIndex;return{graphicalItem:oe(oe({},R),{},{childIndex:J}),payload:Vl(R,_)?B.props.data[z]:R.props.data[z]}}}return null}},{key:"render",value:function(){var T=this,A;if(!UC(this))return null;var I=this.props,_=I.children,k=I.className,M=I.width,R=I.height,O=I.style,B=I.compact,$=I.title,F=I.desc,L=s2(I,Hee),z=nt(L,!1);if(B)return Z.createElement(VI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(hx,ll({},z,{width:M,height:R,title:$,desc:F}),this.renderClipPath(),BC(_,this.renderMap)));if(this.props.accessibilityLayer){var J,q;z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,z.role=(q=this.props.role)!==null&&q!==void 0?q:"application",z.onKeyDown=function(X){T.accessibilityManager.keyboardEvent(X)},z.onFocus=function(){T.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Z.createElement(VI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",ll({className:ct("recharts-wrapper",k),style:oe({position:"relative",cursor:"default",width:M,height:R},O)},ee,{ref:function(re){T.container=re},role:(A=z.role)!==null&&A!==void 0?A:"region"}),Z.createElement(hx,ll({},z,{width:M,height:R,title:$,desc:F,style:lte}),this.renderClipPath(),BC(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),y})(P.Component),De(n,"displayName",r),De(n,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),De(n,"getDerivedStateFromProps",function(S,y){var E=S.dataKey,T=S.data,A=S.children,I=S.width,_=S.height,k=S.layout,M=S.stackOffset,R=S.margin,O=y.dataStartIndex,B=y.dataEndIndex;if(y.updateId===void 0){var $=l2(S);return oe(oe(oe({},$),{},{updateId:0},N(oe(oe({props:S},$),{},{updateId:0}),y)),{},{prevDataKey:E,prevData:T,prevWidth:I,prevHeight:_,prevLayout:k,prevStackOffset:M,prevMargin:R,prevChildren:A})}if(E!==y.prevDataKey||T!==y.prevData||I!==y.prevWidth||_!==y.prevHeight||k!==y.prevLayout||M!==y.prevStackOffset||!ya(R,y.prevMargin)){var F=l2(S),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=oe(oe({},o2(y,T,k)),{},{updateId:y.updateId+1}),J=oe(oe(oe({},F),L),z);return oe(oe(oe({},J),N(oe({props:S},J),y)),{},{prevDataKey:E,prevData:T,prevWidth:I,prevHeight:_,prevLayout:k,prevStackOffset:M,prevMargin:R,prevChildren:A})}if(!px(A,y.prevChildren)){var q,ee,X,re,ae=kn(A,Da),V=ae&&(q=(ee=ae.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&q!==void 0?q:O,Q=ae&&(X=(re=ae.props)===null||re===void 0?void 0:re.endIndex)!==null&&X!==void 0?X:B,ge=V!==O||Q!==B,Ie=!ot(T),ne=Ie&&!ge?y.updateId:y.updateId+1;return oe(oe({updateId:ne},N(oe(oe({props:S},y),{},{updateId:ne,dataStartIndex:V,dataEndIndex:Q}),y)),{},{prevChildren:A,dataStartIndex:V,dataEndIndex:Q})}return null}),De(n,"renderActiveDot",function(S,y){var E;return P.isValidElement(S)?E=P.cloneElement(S,y):He(S)?E=S(y):E=Z.createElement(gR,y),Z.createElement(zt,{className:"recharts-active-dot",key:y.key},E)}),n},xte=vte({chartName:"BarChart",GraphicalChild:Ds,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:$f}],formatAxisMap:TZ});const yte=({currentUser:t})=>{const[e,n]=P.useState(void 0),[r,i]=P.useState({userCount:0,spaceCount:0,activeUsers:0,deptData:[]});P.useEffect(()=>{const w=ji(t.companyId);n(w);const N=Li(t.companyId),S=Fi(t.companyId),y={};N.forEach(T=>{y[T.department]=(y[T.department]||0)+1});const E=Object.entries(y).map(([T,A])=>({name:T,count:A}));i({userCount:N.length,spaceCount:S.length,activeUsers:N.filter(T=>T.status==="active").length,deptData:E})},[t.companyId]);const a=({title:w,value:N,icon:S,colorClass:y})=>s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:w}),s.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:N})]}),s.jsx("div",{className:`p-3 rounded-lg ${y}`,children:s.jsx(S,{className:"w-6 h-6 text-white"})})]})}),l=(e==null?void 0:e.planType)===Et.Basic,c=50,d=5,f=l?Math.min(r.userCount/c*100,100):0,p=l?Math.min(r.spaceCount/d*100,100):0,m=l&&(r.userCount>=c-5||r.spaceCount>=d-1),v=["#dc2626","#1f2937","#ef4444","#4b5563"];return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),s.jsxs("span",{className:"text-sm text-slate-500",children:["Welcome back, ",t.fullName]})]}),t.role===le.CompanyAdmin&&e&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pl,{size:20,className:l?"text-slate-400":"text-black"}),s.jsxs("h2",{className:"font-bold text-slate-900",children:["Plan Usage (",e.planType,")"]})]}),l&&s.jsx(se,{size:"sm",className:"bg-black hover:bg-slate-800 text-white text-xs border-none",onClick:()=>window.location.href="#/billing",children:"Upgrade Plan"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Users"}),s.jsx("span",{className:"text-slate-500",children:l?`${r.userCount} / ${c}`:`${r.userCount} (Unlimited)`})]}),l?s.jsx("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-500 bg-red-600",style:{width:`${f}%`}})}):s.jsx("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full w-full bg-black rounded-full"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Spaces"}),s.jsx("span",{className:"text-slate-500",children:l?`${r.spaceCount} / ${d}`:`${r.spaceCount} (Unlimited)`})]}),l?s.jsx("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-500 bg-red-600",style:{width:`${p}%`}})}):s.jsx("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full w-full bg-black rounded-full"})})]})]}),m&&s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm text-red-700 bg-red-50 p-3 rounded-lg border border-red-200",children:[s.jsx(Na,{size:16}),"You are close to your plan limits. Upgrade to Pro for unlimited users and spaces."]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(a,{title:"Total Users",value:r.userCount,icon:ys,colorClass:"bg-red-600"}),s.jsx(a,{title:"Active Spaces",value:r.spaceCount,icon:Tr,colorClass:"bg-slate-800"}),s.jsx(a,{title:"Active Users",value:r.activeUsers,icon:lf,colorClass:"bg-red-500"}),s.jsx(a,{title:"Departments",value:r.deptData.length,icon:Uy,colorClass:"bg-slate-600"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Users by Department"}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(SG,{width:"100%",height:"100%",children:s.jsxs(xte,{data:r.deptData,children:[s.jsx(Ff,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),s.jsx($f,{fontSize:12,tickLine:!1,axisLine:!1}),s.jsx(Nr,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),s.jsx(Ds,{dataKey:"count",radius:[4,4,0,0],children:r.deptData.map((w,N)=>s.jsx(db,{fill:v[N%v.length]},`cell-${N}`))})]})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.role===le.CompanyAdmin?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100 flex items-center gap-4 hover:bg-slate-100 transition-colors cursor-pointer",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full text-red-600",children:s.jsx(ys,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-900",children:"Manage Users"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Add, edit, or remove team members."})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100 flex items-center gap-4 hover:bg-slate-100 transition-colors cursor-pointer",children:[s.jsx("div",{className:"p-2 bg-slate-200 rounded-full text-slate-700",children:s.jsx(Tr,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-900",children:"Manage Spaces"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Organize content and projects."})]})]})]}):s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg text-center text-slate-500",children:["You are logged in as a ",t.role,". Explore the spaces via the navigation."]})})]})]})]})},bte=({currentUser:t})=>{const e=ze(),[n,r]=P.useState([]),[i,a]=P.useState([]),[l,c]=P.useState([]),[d,f]=P.useState({}),[p,m]=P.useState(void 0),[v,w]=P.useState([]),[N,S]=P.useState([]);P.useEffect(()=>{m(ji(t.companyId)),w(RP(t.companyId));const T=va(t.id).map(F=>Xn(F.spaceId)).filter(F=>!!F);S(T);const I=sf(t.companyId).filter(F=>F.isActive).sort((F,L)=>new Date(L.createdOn).getTime()-new Date(F.createdOn).getTime()),_=I.filter(F=>F.isPinned).slice(0,3),k=new Set(_.map(F=>F.id)),M=I.filter(F=>!k.has(F.id)).slice(0,10);r(_),a(M);const R=Fy(t.companyId),O=new Date;O.setHours(0,0,0,0);const B=R.filter(F=>new Date(F.startDateTime)>=O&&F.isActive).sort((F,L)=>new Date(F.startDateTime).getTime()-new Date(L.startDateTime).getTime()).slice(0,5);c(B);const $={};[..._,...M].forEach(F=>{if(!$[F.createdBy]){const L=Xt(F.createdBy);L&&($[F.createdBy]=L.fullName)}}),f($)},[t.companyId,t.id]);const y=E=>{switch(E.targetType){case Nt.Page:E.pageId&&e(`/pages/${E.pageId}`);break;case Nt.Space:E.spaceId&&e(`/pages?spaceId=${E.spaceId}`);break;case Nt.Documents:e("/documents");break;case Nt.Announcements:e("/announcements");break;case Nt.ExternalURL:case Nt.Other:E.targetURL&&window.open(E.targetURL,"_blank");break}};return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:(p==null?void 0:p.homeTitle)||`Welcome back, ${t.fullName}`}),s.jsx("p",{className:"text-slate-500 mt-1",children:new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"md:col-span-1 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Quick Access"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[v.map(E=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>y(E),className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors w-full text-left",children:[s.jsx(Ii,{size:14})," ",E.label]})},E.id)),v.length===0&&s.jsx("li",{className:"text-slate-400 italic",children:"No quick links configured."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-bold text-slate-900",children:"My Spaces"}),s.jsx(ie,{to:"/spaces",className:"text-xs text-blue-600 hover:underline",children:"View All"})]}),s.jsxs("ul",{className:"space-y-3",children:[N.slice(0,5).map(E=>s.jsx("li",{children:s.jsxs(ie,{to:`/pages?spaceId=${E.id}`,className:"flex items-center gap-2 text-sm text-slate-700 hover:text-blue-600 font-medium",children:[s.jsx(Tr,{size:16,className:"text-slate-400"})," ",E.spaceName]})},E.id)),N.length===0&&s.jsx("li",{className:"text-slate-400 italic text-sm",children:"You are not in any spaces."})]})]})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 space-y-8",children:[n.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(E=>s.jsx(ie,{to:`/announcements/${E.id}`,className:"block group h-full",children:s.jsxs("div",{className:"bg-white border-l-4 border-blue-500 rounded-r-xl shadow-sm p-5 h-full hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(By,{size:14,className:"text-red-500"}),s.jsx("span",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"Featured"})]}),s.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:E.title}),s.jsx("p",{className:"text-slate-600 text-sm line-clamp-2 mb-3",children:E.message}),s.jsx("div",{className:"text-xs text-slate-400",children:new Date(E.createdOn).toLocaleDateString()})]})},E.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[s.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(vs,{size:18,className:"text-blue-500"})," Latest News"]}),s.jsx(ie,{to:"/announcements",className:"text-sm text-blue-600 hover:underline",children:"View All"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[i.map(E=>s.jsx("div",{className:"p-5 hover:bg-slate-50 transition-colors",children:s.jsxs(ie,{to:`/announcements/${E.id}`,className:"block",children:[s.jsx("h4",{className:"font-medium text-slate-900 hover:text-blue-600 mb-1",children:E.title}),s.jsx("p",{className:"text-slate-500 text-sm line-clamp-2",children:E.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(E.createdOn).toLocaleDateString()}),s.jsx("span",{children:""}),s.jsx("span",{children:d[E.createdBy]})]})]})},E.id)),i.length===0&&s.jsx("div",{className:"p-8 text-center text-slate-500",children:"No new announcements."})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[s.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Ts,{size:18,className:"text-pink-500"})," Events"]}),s.jsx(ie,{to:"/events",className:"text-sm text-blue-600 hover:underline",children:"View All"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[l.map(E=>s.jsx(ie,{to:`/events/${E.id}`,className:"block p-4 hover:bg-slate-50 transition-colors group",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center bg-slate-50 rounded-lg border border-slate-200 px-2 py-1 min-w-[50px]",children:[s.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-500",children:new Date(E.startDateTime).toLocaleString("default",{month:"short"})}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:new Date(E.startDateTime).getDate()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-slate-900 text-sm group-hover:text-blue-600 truncate",children:E.title}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:new Date(E.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},E.id)),l.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No upcoming events."})]})]})})]})]})]})]})},Bb=({isOpen:t,onClose:e,featureName:n,message:r})=>t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx(Is,{size:20})}),s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-amber-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:s.jsx(pl,{size:32,className:"text-amber-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Upgrade to Pro"}),s.jsx("p",{className:"text-slate-600 mb-6",children:r||`The ${n} feature is available in the Pro plan.`}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(se,{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 border-none shadow-lg shadow-blue-500/30",onClick:()=>alert("Redirecting to billing..."),children:"Upgrade Plan"}),s.jsx("button",{onClick:e,className:"text-sm text-slate-500 hover:text-slate-700 font-medium",children:"Maybe Later"})]})]}),s.jsx("div",{className:"bg-slate-50 px-6 py-4 text-xs text-center text-slate-500 border-t border-slate-100",children:"Unlock unlimited users, spaces, AI features, and advanced analytics."})]})}):null,wte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState([]),[c,d]=P.useState(""),[f,p]=P.useState(!1),[m,v]=P.useState(null),[w,N]=P.useState(""),[S,y]=P.useState(!1),[E,T]=P.useState({fullName:"",email:"",password:"",designation:"",department:"",departmentId:"",status:"active",role:le.Member}),[A,I]=P.useState([]),_=()=>{n(Li(t.companyId))};P.useEffect(()=>{_(),i(ec(t.companyId).filter(F=>F.isActive)),l(Fi(t.companyId))},[t.companyId]);const k=e.filter(F=>F.fullName.toLowerCase().includes(c.toLowerCase())||F.email.toLowerCase().includes(c.toLowerCase())||F.department.toLowerCase().includes(c.toLowerCase())),M=F=>{if(N(""),I([]),F){if(v(F),T({fullName:F.fullName,email:F.email,password:F.password,designation:F.designation,department:F.department,departmentId:F.departmentId||"",status:F.status,role:F.role}),F.role===le.SpaceManager){const z=va(F.id).filter(J=>J.roleInSpace===qe.SpaceManager).map(J=>J.spaceId);I(z)}}else v(null),T({fullName:"",email:"",password:"",designation:"",department:"",departmentId:"",status:"active",role:le.Member});p(!0)},R=F=>{I(L=>L.includes(F)?L.filter(z=>z!==F):[...L,F])},O=async F=>{if(F.preventDefault(),E.role===le.SpaceManager&&A.length===0){N("Please select at least one space for the Space Manager.");return}try{let L;if(m?L=await Oy({...m,...E}):L=await IP({...E,companyId:t.companyId}),E.role===le.SpaceManager){const z=va(L.id);for(const J of z)J.roleInSpace===qe.SpaceManager&&!A.includes(J.spaceId)&&await el({...J,isActive:!1});for(const J of A){const q=z.find(ee=>ee.spaceId===J);q?(!q.isActive||q.roleInSpace!==qe.SpaceManager)&&await el({...q,isActive:!0,roleInSpace:qe.SpaceManager}):await PP({userId:L.id,spaceId:J,roleInSpace:qe.SpaceManager,isActive:!0})}}else if(m&&m.role===le.SpaceManager&&E.role!==le.SpaceManager){const z=va(L.id);for(const J of z)J.roleInSpace===qe.SpaceManager&&await el({...J,isActive:!1})}p(!1),_()}catch(L){L.message.includes("Your plan allows up to")?(p(!1),y(!0)):N(L.message)}},B=async F=>{if(window.confirm("Are you sure? This cannot be undone."))try{await Bq(F,t),_()}catch(L){alert(L.message)}},$=F=>{if(F.departmentId){const L=r.find(z=>z.id===F.departmentId);if(L)return L.name}return F.department};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bb,{isOpen:S,onClose:()=>y(!1),featureName:"Unlimited Users",message:"Your plan allows up to 50 users. Upgrade to Pro for unlimited users."}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage access and roles for your company."})]}),s.jsxs(se,{onClick:()=>M(),className:"shrink-0",children:[s.jsx(on,{size:18})," Add User"]})]}),s.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 rounded-lg border border-slate-200 shadow-sm max-w-md",children:[s.jsx(Rn,{className:"text-slate-400 ml-2",size:20}),s.jsx("input",{type:"text",placeholder:"Search users...",className:"flex-1 outline-none text-slate-700 placeholder-slate-400",value:c,onChange:F=>d(F.target.value)})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Role"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Department"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[k.map(F=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900",children:F.fullName}),s.jsx("div",{className:"text-slate-500 text-xs",children:F.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.role===le.SpaceManager?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:F.role})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:$(F)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:F.status})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>M(F),className:"p-1 text-slate-400 hover:text-blue-600",children:s.jsx(Dt,{size:16})}),s.jsx("button",{onClick:()=>B(F.id),className:"p-1 text-slate-400 hover:text-red-600",children:s.jsx(Pi,{size:16})})]})})]},F.id)),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No users found matching your search."})})]})]})})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-fade-in flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 shrink-0",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:m?"Edit User":"Add New User"}),s.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(Is,{size:20})})]}),s.jsx("div",{className:"overflow-y-auto p-6",children:s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[w&&s.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:w}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ae,{label:"Full Name",required:!0,value:E.fullName,onChange:F=>T({...E,fullName:F.target.value})}),s.jsx(Ae,{label:"Designation",required:!0,value:E.designation,onChange:F=>T({...E,designation:F.target.value})})]}),s.jsx(Ae,{label:"Email",type:"email",required:!0,value:E.email,onChange:F=>T({...E,email:F.target.value})}),!m&&s.jsx(Ae,{label:"Password",type:"password",required:!0,value:E.password,onChange:F=>T({...E,password:F.target.value})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Department (Structured)"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.departmentId,onChange:F=>T({...E,departmentId:F.target.value}),children:[s.jsx("option",{value:"",children:"Select Department"}),r.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsx(Ae,{label:"Department (Text Fallback)",value:E.department,onChange:F=>T({...E,department:F.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.role,onChange:F=>T({...E,role:F.target.value}),children:i6.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.status,onChange:F=>T({...E,status:F.target.value}),children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),E.role===le.SpaceManager&&s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[s.jsx(ml,{size:16,className:"text-purple-600"}),"Assign Spaces to Manage"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Select the spaces this user will manage."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2 max-h-40 overflow-y-auto pr-2",children:[a.map(F=>s.jsxs("label",{className:`flex items-center gap-3 p-2 rounded border cursor-pointer transition-colors ${A.includes(F.id)?"bg-purple-50 border-purple-200":"bg-white border-slate-200 hover:border-slate-300"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${A.includes(F.id)?"bg-purple-600 border-purple-600":"border-slate-400"}`,children:A.includes(F.id)&&s.jsx(zP,{size:12,className:"text-white"})}),s.jsx("input",{type:"checkbox",className:"hidden",checked:A.includes(F.id),onChange:()=>R(F.id)}),s.jsx("span",{className:"text-sm text-slate-700 truncate",children:F.spaceName})]},F.id)),a.length===0&&s.jsx("div",{className:"col-span-full text-center text-sm text-slate-400 italic",children:"No spaces available. Create spaces first."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-2 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),s.jsx(se,{type:"submit",children:"Save User"})]})]})})]})})]})},gc=({label:t,value:e,onChange:n,className:r=""})=>{const i=P.useRef(null),[a,l]=P.useState(!1),c=f=>{var v;const p=(v=f.target.files)==null?void 0:v[0];if(!p)return;l(!0);const m=new FileReader;m.onloadend=()=>{n(m.result),l(!1)},m.readAsDataURL(p)},d=()=>{n(""),i.current&&(i.current.value="")};return s.jsxs("div",{className:`w-full ${r}`,children:[t&&s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:t}),s.jsxs("div",{className:"flex items-start gap-4",children:[e?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:e,alt:"Preview",className:"h-32 w-full max-w-xs object-cover rounded-lg border border-slate-200"}),s.jsx("button",{type:"button",onClick:d,className:"absolute -top-2 -right-2 bg-red-100 text-red-600 rounded-full p-1 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-200",children:s.jsx(Is,{size:16})})]}):s.jsx("div",{onClick:()=>{var f;return(f=i.current)==null?void 0:f.click()},className:"h-32 w-full max-w-xs rounded-lg border-2 border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400 hover:border-blue-400 hover:text-blue-500 hover:bg-slate-50 cursor-pointer transition-all",children:a?s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-500 border-t-transparent rounded-full"}):s.jsxs(s.Fragment,{children:[s.jsx(XP,{size:32,className:"mb-2"}),s.jsx("span",{className:"text-xs font-medium",children:"Click to upload image"})]})}),s.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:c}),!e&&s.jsx("div",{className:"mt-2",children:s.jsxs(se,{type:"button",size:"sm",variant:"secondary",onClick:()=>{var f;return(f=i.current)==null?void 0:f.click()},children:[s.jsx(BB,{size:16,className:"mr-2"})," Upload"]})})]})]})},Ste=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState(!1),[a,l]=P.useState(null),[c,d]=P.useState({}),[f,p]=P.useState(""),[m,v]=P.useState({spaceName:"",description:"",coverImageURL:""}),[w,N]=P.useState(""),[S,y]=P.useState(!1),[E,T]=P.useState(null),A=()=>{const $=Yn(t.companyId,t.id);n($);const F={};$.forEach(L=>{F[L.id]=Ly(t.id,We.Space,L.id)}),d(F)};P.useEffect(()=>{A()},[t.companyId,t.id]);const I=$=>{N(""),$?(l($),v({spaceName:$.spaceName,description:$.description,coverImageURL:$.coverImageURL||""})):(l(null),v({spaceName:"",description:"",coverImageURL:""})),i(!0)},_=async $=>{$.preventDefault(),N("");try{a?await Vq({...a,...m}):await zq({...m,companyId:t.companyId,createdBy:t.id}),i(!1),A()}catch(F){F.message.includes("Your plan allows up to")?(i(!1),y(!0)):N(F.message)}},k=($,F)=>{$.stopPropagation(),$.preventDefault(),T(F)},M=async()=>{E&&(await Gq(E.id),T(null),A())},R=async $=>{await af(t.companyId,t.id,We.Space,$),d(F=>({...F,[$]:!F[$]}))},O=e.filter($=>$.spaceName.toLowerCase().includes(f.toLowerCase())),B=t.role===le.CompanyAdmin;return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-fade-in relative",children:[s.jsx(Bb,{isOpen:S,onClose:()=>y(!1),featureName:"Unlimited Spaces",message:"Your plan allows up to 5 Spaces. Upgrade to Pro for unlimited Spaces."}),E&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 border border-slate-200",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(Na,{size:24})}),s.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:["Delete ",E.spaceName,"?"]}),s.jsx("p",{className:"text-slate-500 mb-6",children:"This action cannot be undone. All pages, documents, and member roles associated with this space will be permanently removed."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(se,{variant:"secondary",className:"flex-1",onClick:()=>T(null),children:"Cancel"}),s.jsx(se,{variant:"danger",className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:M,children:"Delete Space"})]})]})})}),s.jsxs("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(Tr,{size:18,className:"text-indigo-600"})," Your Spaces"]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Rn,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400",size:14}),s.jsx("input",{type:"text",placeholder:"Filter...",className:"w-full pl-8 pr-2 py-1.5 text-sm border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:$=>p($.target.value)})]}),s.jsxs("ul",{className:"space-y-1 overflow-y-auto max-h-[400px]",children:[O.map($=>s.jsx("li",{children:s.jsx("a",{href:`#space-${$.id}`,className:"block px-2 py-1.5 text-sm text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-md truncate",children:$.spaceName})},$.id)),O.length===0&&s.jsx("li",{className:"text-xs text-slate-400 italic px-2",children:"No spaces found."})]})]}),B&&s.jsxs(se,{onClick:()=>I(),className:"w-full",children:[s.jsx(on,{size:18})," Create Space"]})]}),s.jsxs("main",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"All Spaces"}),s.jsx("div",{className:"lg:hidden",children:B&&s.jsxs(se,{size:"sm",onClick:()=>I(),children:[s.jsx(on,{size:16})," Create"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O.map($=>{const F=at($.id,t.id),L=t.role===le.CompanyAdmin||F===qe.SpaceManager,z=c[$.id],J=t.role===le.CompanyAdmin;return s.jsxs("div",{id:`space-${$.id}`,className:"bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col group/card overflow-hidden",children:[s.jsxs("div",{className:"h-32 bg-slate-50 flex items-center justify-center border-b border-slate-100 relative group",children:[$.coverImageURL?s.jsx("img",{src:$.coverImageURL,alt:$.spaceName,className:"w-full h-full object-cover"}):s.jsx(wB,{size:48,className:"text-slate-300"}),s.jsx("button",{onClick:()=>R($.id),className:`absolute top-2 left-2 p-1.5 rounded-full shadow-sm transition-opacity ${z?"bg-yellow-100 text-yellow-500 opacity-100":"bg-white text-slate-300 opacity-0 group-hover:opacity-100 hover:text-yellow-400"}`,children:s.jsx(ic,{size:14,className:z?"fill-current":""})}),L&&s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),I($)},className:"p-1.5 bg-white rounded-full text-slate-500 hover:text-blue-600 shadow-sm transition-colors",title:"Edit Space",children:s.jsx(Dt,{size:14})}),J&&s.jsx("button",{onClick:q=>k(q,$),className:"p-1.5 bg-white rounded-full text-slate-500 hover:text-red-600 shadow-sm transition-colors",title:"Delete Space",children:s.jsx(Pi,{size:14})})]})]}),s.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:$.spaceName}),s.jsx("p",{className:"text-sm text-slate-500 mb-4 flex-1 line-clamp-2",children:$.description})]}),s.jsxs("div",{className:"px-5 py-3 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{to:`/pages?spaceId=${$.id}`,className:"text-slate-500 hover:text-blue-600 p-1",title:"View Pages",children:s.jsx(Qn,{size:18})}),s.jsx(ie,{to:`/documents?spaceId=${$.id}`,className:"text-slate-500 hover:text-blue-600 p-1",title:"Documents",children:s.jsx(Gr,{size:18})})]}),L&&s.jsx(ie,{to:`/spaces/${$.id}/members`,children:s.jsxs(se,{variant:"ghost",className:"text-xs h-7 px-2",children:[s.jsx(ys,{size:14,className:"mr-1"})," Members"]})})]})]},$.id)}),O.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/50",children:s.jsx("p",{className:"text-slate-500",children:"No spaces found."})})]})]}),r&&B&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:a?"Edit Space":"Create New Space"}),s.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(Is,{size:20})})]}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[w&&s.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:w}),s.jsx(Ae,{label:"Space Name",required:!0,value:m.spaceName,onChange:$=>v({...m,spaceName:$.target.value})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",value:m.description,onChange:$=>v({...m,description:$.target.value})})]}),s.jsx(gc,{label:"Cover Image (Optional)",value:m.coverImageURL,onChange:$=>v({...m,coverImageURL:$})}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),s.jsx(se,{type:"submit",children:a?"Save Changes":"Create Space"})]})]})]})})]})},Nte=({currentUser:t})=>{const{spaceId:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState([]),[c,d]=P.useState([]),[f,p]=P.useState(!1),[m,v]=P.useState(!1),[w,N]=P.useState({userId:"",roleInSpace:qe.Member});P.useEffect(()=>{if(!e)return;tc(e,t.id);const _=Xn(e);if(!_)return;if(i(_),!(t.role===le.CompanyAdmin||at(e,t.id)===qe.SpaceManager)){n("/spaces");return}S()},[e,t.id,n]);const S=()=>{e&&(l(Hq(e)),d(Li(t.companyId)))},y=async _=>{if(_.preventDefault(),!(!e||!w.userId)){p(!0);try{await PP({spaceId:e,userId:w.userId,roleInSpace:w.roleInSpace,isActive:!0}),v(!1),N({userId:"",roleInSpace:qe.Member}),S()}catch(k){alert(k)}finally{p(!1)}}},E=async _=>{try{await el({..._,isActive:!_.isActive}),S()}catch(k){console.error(k)}},T=async(_,k)=>{try{await el({..._,roleInSpace:k}),S()}catch(M){console.error(M)}},A=_=>c.find(k=>k.id===_),I=c.filter(_=>!a.some(k=>k.userId===_.id&&k.isActive));return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{to:"/spaces",className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Manage Members"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["for Space: ",r.spaceName]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Current Members"}),s.jsxs(se,{onClick:()=>v(!0),children:[s.jsx(on,{size:18})," Add Member"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"User"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Email"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Role in Space"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Joined On"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.map(_=>{const k=A(_.userId);return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:(k==null?void 0:k.fullName)||"Unknown User"}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:(k==null?void 0:k.email)||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-slate-700 cursor-pointer",value:_.roleInSpace,onChange:M=>T(_,M.target.value),children:[s.jsx("option",{value:qe.SpaceManager,children:"Manager"}),s.jsx("option",{value:qe.Member,children:"Member"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:_.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 text-slate-500 text-xs",children:new Date(_.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>E(_),className:`text-sm font-medium ${_.isActive?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:_.isActive?"Deactivate":"Activate"})})]},_.id)}),a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No members found."})})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Add Space Member"}),s.jsx("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(Is,{size:20})})]}),s.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select User"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.userId,onChange:_=>N({...w,userId:_.target.value}),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a user"}),I.map(_=>s.jsxs("option",{value:_.id,children:[_.fullName," (",_.email,")"]},_.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role in Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:w.roleInSpace,onChange:_=>N({...w,roleInSpace:_.target.value}),children:[s.jsx("option",{value:qe.Member,children:"Member"}),s.jsx("option",{value:qe.SpaceManager,children:"Space Manager"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:f,children:"Add Member"})]})]})]})})]}):s.jsx("div",{children:"Loading..."})},Ete=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=qa(),[c,d]=P.useState(""),[f,p]=P.useState(a.get("spaceId")||""),[m,v]=P.useState(a.get("status")||""),[w,N]=P.useState(null),[S,y]=P.useState(!1),[E,T]=P.useState({}),[A,I]=P.useState({});P.useEffect(()=>{const M=Yn(t.companyId,t.id);i(M);const R={};M.forEach(L=>R[L.id]=L.spaceName),T(R);const O=Xr(t.companyId),B=new Set(M.map(L=>L.id)),$=O.filter(L=>B.has(L.spaceId));n($);const F={};$.forEach(L=>{if(L.updatedBy&&!F[L.updatedBy]){const z=Xt(L.updatedBy);z&&(F[L.updatedBy]=z.fullName)}if(L.createdBy&&!F[L.createdBy]){const z=Xt(L.createdBy);z&&(F[L.createdBy]=z.fullName)}}),I(F)},[t.companyId,t.id]),P.useEffect(()=>{const M={};if(f){M.spaceId=f;const R=Xn(f);N(R||null)}else N(null);m&&(M.status=m),l(M)},[f,m]);const _=t.role===le.CompanyAdmin||r.some(M=>at(M.id,t.id)===qe.SpaceManager),k=e.filter(M=>!(M.status==="Draft"&&!(t.role===le.CompanyAdmin||at(M.spaceId,t.id)===qe.SpaceManager)||c&&!M.pageTitle.toLowerCase().includes(c.toLowerCase())||f&&M.spaceId!==f||m&&M.status!==m));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-fade-in",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(mn,{size:18,className:"text-blue-600"})," Filters"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Space"}),s.jsxs("div",{className:"space-y-1 max-h-[300px] overflow-y-auto",children:[s.jsx("button",{onClick:()=>p(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${f?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Spaces"}),r.map(M=>s.jsx("button",{onClick:()=>p(M.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm truncate transition-colors ${f===M.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:M.spaceName},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Status"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>v(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Statuses"}),s.jsx("button",{onClick:()=>v("Published"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m==="Published"?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Published"}),s.jsx("button",{onClick:()=>v("Draft"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m==="Draft"?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Drafts"})]})]})]})]})}),s.jsxs("main",{className:"lg:col-span-3 space-y-6",children:[w&&w.coverImageURL&&s.jsxs("div",{className:"w-full h-48 rounded-xl overflow-hidden relative shadow-sm",children:[s.jsx("img",{src:w.coverImageURL,alt:w.spaceName,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:s.jsxs("div",{className:"p-6 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold",children:w.spaceName}),s.jsx("p",{className:"text-white/90 mt-1 text-sm md:text-base max-w-2xl",children:w.description})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("div",{children:!(w!=null&&w.coverImageURL)&&s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Pages"}),s.jsx("p",{className:"text-sm text-slate-500",children:f?`Showing pages in ${E[f]}`:"All company pages"})]})}),_&&s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsx(ie,{to:`/pages/create-from-template${f?"?spaceId="+f:""}`,className:"flex-1 sm:flex-none",children:s.jsxs(se,{variant:"secondary",className:"w-full sm:w-auto text-xs sm:text-sm whitespace-nowrap",children:[s.jsx(HP,{size:16,className:"mr-2"})," Template"]})}),s.jsx(ie,{to:"/pages/new",className:"flex-1 sm:flex-none",children:s.jsxs(se,{className:"w-full sm:w-auto text-xs sm:text-sm whitespace-nowrap",children:[s.jsx(on,{size:16,className:"mr-2"})," Create"]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search pages...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",value:c,onChange:M=>d(M.target.value)})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx("button",{onClick:()=>y(!S),className:`h-full px-4 rounded-lg border flex items-center gap-2 transition-colors ${S?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-700"}`,children:s.jsx(mn,{size:18})})})]}),S&&s.jsxs("div",{className:"lg:hidden p-4 bg-white border border-slate-200 rounded-xl shadow-sm space-y-4 animate-in slide-in-from-top-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Space"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:f,onChange:M=>p(M.target.value),children:[s.jsx("option",{value:"",children:"All Spaces"}),r.map(M=>s.jsx("option",{value:M.id,children:M.spaceName},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:m,onChange:M=>v(M.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Draft",children:"Draft"})]})]})]})]}),s.jsxs("div",{className:"md:hidden space-y-4",children:[k.map(M=>{const R=t.role===le.CompanyAdmin||at(M.spaceId,t.id)===qe.SpaceManager;return s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm active:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${M.status==="Published"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:s.jsx(Qn,{size:16})}),s.jsxs("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full flex items-center gap-1",children:[s.jsx(cx,{size:10})," ",E[M.spaceId]]})]}),R&&s.jsx(ie,{to:`/pages/${M.id}/edit`,className:"text-slate-400 hover:text-blue-600 p-1",children:s.jsx(Dt,{size:16})})]}),s.jsxs(ie,{to:`/pages/${M.id}`,className:"block",children:[s.jsx("h3",{className:"font-bold text-slate-900 text-lg mb-1 line-clamp-1",children:M.pageTitle}),M.summary&&s.jsx("p",{className:"text-slate-500 text-sm line-clamp-2 mb-3",children:M.summary})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 pt-3 border-t border-slate-100",children:[s.jsx("span",{className:`px-2 py-0.5 rounded font-medium ${M.status==="Published"?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:M.status}),s.jsx("span",{children:new Date(M.updatedOn).toLocaleDateString()})]})]},M.id)}),k.length===0&&s.jsx("div",{className:"text-center py-12 text-slate-500 italic bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No pages found."})]}),s.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Page Title"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Updated"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[k.map(M=>{const R=t.role===le.CompanyAdmin||at(M.spaceId,t.id)===qe.SpaceManager;return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 p-1.5 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(Qn,{size:18})}),s.jsxs("div",{children:[s.jsx(ie,{to:`/pages/${M.id}`,className:"font-medium text-slate-900 hover:text-blue-600 block mb-0.5",children:M.pageTitle}),M.summary&&s.jsx("div",{className:"text-slate-500 text-xs truncate max-w-[240px]",children:M.summary})]})]})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-slate-100 rounded-md text-xs font-medium",children:[s.jsx(cx,{size:12})," ",E[M.spaceId]||"Unknown"]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="Published"?"bg-green-100 text-green-800 border border-green-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:M.status})}),s.jsxs("td",{className:"px-6 py-4 text-slate-500 text-xs",children:[s.jsx("div",{children:new Date(M.updatedOn).toLocaleDateString()}),s.jsxs("div",{className:"text-slate-400",children:["by ",A[M.updatedBy||M.createdBy]||"Unknown"]})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(ie,{to:`/pages/${M.id}`,className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-md",title:"View",children:s.jsx(As,{size:16})}),R&&s.jsx(ie,{to:`/pages/${M.id}/edit`,className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-md",title:"Edit",children:s.jsx(Dt,{size:16})})]})})]},M.id)}),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No pages found matching your filters."})})]})]})})]})]})},u2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState([]),[l,c]=P.useState(!1),[d,f]=P.useState(""),[p,m]=P.useState({pageTitle:"",summary:"",content:"",status:"Draft",spaceId:"",headerImageURL:""});P.useEffect(()=>{const S=Yn(t.companyId,t.id).filter(y=>t.role===le.CompanyAdmin?!0:at(y.id,t.id)===qe.SpaceManager);if(a(S),r&&e){const y=Es(e);if(y){if(y.companyId!==t.companyId){n("/pages");return}t.role===le.CompanyAdmin||at(y.spaceId,t.id)===qe.SpaceManager||f("You do not have permission to edit pages in this space."),m({pageTitle:y.pageTitle,summary:y.summary||"",content:y.content,status:y.status,spaceId:y.spaceId,headerImageURL:y.headerImageURL||""})}else f("Page not found")}else S.length>0&&m(y=>({...y,spaceId:S[0].id}))},[e,t.companyId,t.id,n,r,t.role]);const v=async N=>{if(N.preventDefault(),!p.spaceId){f("Please select a space");return}c(!0);try{if(r&&e)await Wq({...p,id:e},t.id),n(`/pages/${e}`);else{const S=await kP({...p,companyId:t.companyId,createdBy:t.id,updatedBy:t.id});n(`/pages/${S.id}`)}}catch(S){f(S.message),c(!1)}},w=(N,S)=>{m(y=>({...y,[N]:S}))};return i.length===0&&!r&&!l?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-700",children:"No Access"}),s.jsx("p",{className:"text-slate-500",children:"You must be a Space Manager for at least one space to create pages."}),s.jsx(se,{className:"mt-4",onClick:()=>n("/pages"),children:"Back to Pages"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(-1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Page":"Create New Page"})]}),d&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:d}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.spaceId,onChange:N=>w("spaceId",N.target.value),required:!0,disabled:r,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a space"}),i.map(N=>s.jsx("option",{value:N.id,children:N.spaceName},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.status,onChange:N=>w("status",N.target.value),children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"})]})]})]}),s.jsx(Ae,{label:"Page Title",value:p.pageTitle,onChange:N=>w("pageTitle",N.target.value),placeholder:"Enter a descriptive title",required:!0}),s.jsx(gc,{label:"Header Image (Optional)",value:p.headerImageURL,onChange:N=>w("headerImageURL",N)}),s.jsx(Ae,{label:"Summary (Optional)",value:p.summary,onChange:N=>w("summary",N.target.value),placeholder:"Brief description of the content"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),s.jsx("textarea",{className:"w-full h-96 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm leading-relaxed",value:p.content,onChange:N=>w("content",N.target.value),placeholder:"Type your content here..."})]})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/pages"),className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:l,disabled:!!d&&d!=="Page not found",className:"w-full sm:w-auto",children:"Save Page"})]})]})]})},Cte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(null),[c,d]=P.useState("Unknown"),[f,p]=P.useState("Unknown"),[m,v]=P.useState([]),[w,N]=P.useState([]),[S,y]=P.useState([]),[E,T]=P.useState([]),[A,I]=P.useState({}),[_,k]=P.useState(!1),[M,R]=P.useState([]),[O,B]=P.useState(""),[$,F]=P.useState(null),[L,z]=P.useState(""),J=ne=>{const Pe=Kq(ne);y(Pe);const Le={...A};Pe.forEach(ke=>{if(!Le[ke.userId]){const ce=Xt(ke.userId);ce&&(Le[ke.userId]=ce.fullName)}}),I(Le)},q=ne=>{const Pe=Qq(ne);T(Pe)};P.useEffect(()=>{if(!e)return;const ne=Es(e);if(!ne)return;tc(ne.spaceId,t.id);const Pe=t.role===le.CompanyAdmin||at(ne.spaceId,t.id)===qe.SpaceManager;if(ne.status==="Draft"&&!Pe){n("/pages");return}if(ne.companyId!==t.companyId){n("/pages");return}i(ne),k(Ly(t.id,We.Page,ne.id)),Aq(t.companyId,ne.id,t.id,t.role);const Le=Xn(ne.spaceId);Le&&l(Le);const ke=Xt(ne.createdBy);ke&&d(ke.fullName);const ce=Xt(ne.updatedBy||ne.createdBy);ce&&p(ce.fullName);const Fe=Cs(t.companyId).filter(it=>it.pageId===ne.id&&(it.isActive||Pe));v(Fe),q(ne.id);const pe=hB(ne.id);R(pe);const rt=rf(t.companyId,{entityId:ne.id,entityType:We.Page});N(rt.slice(0,5));const $e={};ke&&($e[ke.id]=ke.fullName),ce&&($e[ce.id]=ce.fullName),rt.slice(0,5).forEach(it=>{if(!$e[it.userId]){const ft=Xt(it.userId);ft&&($e[it.userId]=ft.fullName)}}),I($e),J(ne.id)},[e,t,n]);const ee=async()=>{if(!(!r||!O.trim()))try{await Jq({pageId:r.id,companyId:t.companyId,userId:t.id,commentText:O.trim()}),B(""),J(r.id)}catch(ne){console.error(ne)}},X=ne=>{F(ne.id),z(ne.commentText)},re=async ne=>{if(!(!r||!L.trim()))try{await Yq(ne,L.trim()),F(null),z(""),J(r.id)}catch(Pe){console.error(Pe)}},ae=async ne=>{if(!(!r||!window.confirm("Are you sure you want to delete this comment?")))try{await Xq(ne),J(r.id)}catch(Pe){console.error(Pe)}},V=async ne=>{if(!(!r||!window.confirm("Disable this widget?")))try{await nB(ne),q(r.id)}catch(Pe){console.error(Pe)}},Q=async()=>{if(!r)return;const ne=await af(t.companyId,t.id,We.Page,r.id);k(ne)};if(!r)return s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading page..."});const ge=t.role===le.CompanyAdmin||at(r.spaceId,t.id)===qe.SpaceManager,Ie=ne=>{switch(ne){case Je.FileLink:return s.jsx(JP,{size:16});case Je.ExternalLink:return s.jsx(tl,{size:16});case Je.InternalNote:return s.jsx(tk,{size:16});default:return s.jsx(Gr,{size:16})}};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{to:"/pages",className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-colors",children:[s.jsx(Ct,{size:20}),"Back to Pages"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{to:`/ai-assistant?scopeType=${qt.Page}&scopePageId=${r.id}`,children:s.jsxs(se,{variant:"ghost",className:"flex items-center gap-2 text-blue-600 bg-blue-50 border-blue-100",children:[s.jsx(xs,{size:16})," Ask AI"]})}),s.jsxs(se,{variant:_?"primary":"secondary",className:`flex items-center gap-2 ${_?"bg-yellow-400 border-yellow-400 text-white hover:bg-yellow-500":""}`,onClick:Q,children:[s.jsx(ic,{size:16,className:_?"fill-current":""})," ",_?"Favorited":"Favorite"]}),ge&&s.jsx(ie,{to:`/pages/${r.id}/edit`,children:s.jsxs(se,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Dt,{size:16})," Edit Page"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[r.headerImageURL&&s.jsx("div",{className:"w-full h-64 overflow-hidden",children:s.jsx("img",{src:r.headerImageURL,alt:r.pageTitle,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-md border font-medium ${r.status==="Published"?"bg-green-50 text-green-700 border-green-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:r.status}),s.jsxs("span",{className:"flex items-center gap-1 text-slate-500 bg-white px-2 py-1 rounded-md border border-slate-200",children:[s.jsx(cx,{size:14}),(a==null?void 0:a.spaceName)||"Unknown Space"]})]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:r.pageTitle}),r.summary&&s.jsx("p",{className:"text-lg text-slate-500",children:r.summary}),s.jsxs("div",{className:"flex items-center gap-6 mt-6 text-sm text-slate-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{size:16}),s.jsxs("span",{children:["By ",c]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:16}),s.jsxs("span",{children:["Updated ",new Date(r.updatedOn).toLocaleDateString()," by ",f]})]})]})]}),s.jsx("div",{className:"p-8 min-h-[400px]",children:s.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-slate-800 leading-relaxed",children:r.content||s.jsx("span",{className:"text-slate-400 italic",children:"No content added yet."})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kB,{size:18,className:"text-slate-500"}),s.jsx("h3",{className:"font-bold text-slate-900",children:"Dashboard & Embeds"})]}),ge&&s.jsx(ie,{to:`/pages/${r.id}/widgets/new`,children:s.jsxs(se,{variant:"secondary",className:"py-1 px-2 text-xs",children:[s.jsx(on,{size:12,className:"mr-1"})," Add Dashboard/Embed Widget"]})})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[E.length===0&&s.jsxs("div",{className:"text-center py-6 text-slate-500",children:[s.jsx("p",{className:"mb-2",children:"No dashboards or embeds added yet."}),ge&&s.jsx("p",{className:"text-xs",children:"Click 'Add Dashboard/Embed Widget' to connect a Google Sheet, BI report, or any dashboard URL."})]}),E.map(ne=>s.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:ne.widgetTitle}),ne.description&&s.jsx("p",{className:"text-xs text-slate-500",children:ne.description})]}),ge&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{to:`/pages/${r.id}/widgets/${ne.id}/edit`,children:s.jsx("button",{className:"p-1.5 text-slate-400 hover:text-blue-600 rounded hover:bg-white",title:"Edit Widget",children:s.jsx(Dt,{size:14})})}),s.jsx("button",{onClick:()=>V(ne.id),className:"p-1.5 text-slate-400 hover:text-red-600 rounded hover:bg-white",title:"Disable Widget",children:s.jsx(_s,{size:14})})]})]}),s.jsxs("div",{className:"bg-white p-1",children:[s.jsx("iframe",{src:ne.embedURL,title:ne.widgetTitle,className:"w-full h-[500px] border-0 rounded",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",loading:"lazy"}),s.jsx("div",{className:"px-4 py-2 bg-slate-50 border-t border-slate-100 text-center",children:s.jsxs("a",{href:ne.embedURL,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center justify-center gap-1",children:["Open Dashboard ",s.jsx(Ii,{size:10})]})})]})]},ne.id))]})]}),M.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(YP,{size:18,className:"text-blue-500"}),s.jsx("h3",{className:"font-bold text-slate-900",children:"Related FAQs"})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:M.map(ne=>s.jsx(ie,{to:"/help",className:"block p-4 hover:bg-slate-50 transition-colors group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-slate-900 group-hover:text-blue-600",children:ne.title}),s.jsx(Ii,{size:14,className:"text-slate-300 group-hover:text-blue-500"})]})},ne.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-slate-900",children:"Related Documents"}),ge&&s.jsx(ie,{to:`/documents/new?spaceId=${r.spaceId}&pageId=${r.id}`,children:s.jsxs(se,{variant:"secondary",className:"py-1 px-2 text-xs",children:[s.jsx(on,{size:12,className:"mr-1"})," Add"]})})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[m.map(ne=>s.jsx("div",{className:"p-4 hover:bg-slate-50 flex items-center justify-between group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-slate-400",children:Ie(ne.itemType)}),s.jsx("div",{children:s.jsx(ie,{to:`/documents/${ne.id}`,className:"font-medium text-slate-900 hover:text-blue-600",children:ne.title})})]})},ne.id)),m.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No documents linked."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(lf,{size:18,className:"text-slate-500"}),s.jsx("h3",{className:"font-bold text-slate-900",children:"Activity for this Page"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[w.map(ne=>s.jsxs("div",{className:"p-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-slate-900",children:A[ne.userId]||"Unknown User"}),s.jsx("span",{className:"text-slate-500 text-xs",children:new Date(ne.createdOn).toLocaleDateString()})]}),s.jsx("p",{className:"text-slate-600",children:ne.description})]},ne.id)),w.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No recent activity."})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jB,{size:18,className:"text-slate-500"}),s.jsxs("h3",{className:"font-bold text-slate-900",children:["Comments ",S.length>0&&`(${S.length})`]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[S.map(ne=>{const Pe=ne.userId===t.id,Le=t.role===le.CompanyAdmin,ke=Pe||Le,ce=$===ne.id;return s.jsxs("div",{className:"flex gap-4 group",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"font-bold text-slate-500 text-sm",children:(A[ne.userId]||"?").charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-slate-900",children:A[ne.userId]||"Unknown User"}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(ne.createdOn).toLocaleString()}),ne.isEdited&&s.jsx("span",{className:"text-xs text-slate-400 italic",children:"(edited)"})]}),ke&&!ce&&s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>X(ne),className:"text-slate-400 hover:text-blue-600 p-1",title:"Edit",children:s.jsx(Dt,{size:14})}),s.jsx("button",{onClick:()=>ae(ne.id),className:"text-slate-400 hover:text-red-600 p-1",title:"Delete",children:s.jsx(Pi,{size:14})})]})]}),ce?s.jsxs("div",{className:"mt-2",children:[s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3,value:L,onChange:_e=>z(_e.target.value)}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(se,{size:"sm",onClick:()=>re(ne.id),className:"h-8 px-3 text-xs",children:[s.jsx(cf,{size:14,className:"mr-1"})," Save"]}),s.jsxs(se,{size:"sm",variant:"secondary",onClick:()=>F(null),className:"h-8 px-3 text-xs",children:[s.jsx(Is,{size:14,className:"mr-1"})," Cancel"]})]})]}):s.jsx("div",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:ne.commentText})]})]},ne.id)}),S.length===0&&s.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"No comments yet. Be the first to comment."})]}),s.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Add a comment"}),s.jsx("textarea",{className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3,placeholder:"Share your thoughts...",value:O,onChange:ne=>B(ne.target.value)}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx(se,{onClick:ee,disabled:!O.trim(),children:"Post Comment"})})]})]})]})]})},d2=({currentUser:t})=>{const{pageId:e,widgetId:n}=Vt(),r=ze(),i=!!n,[a,l]=P.useState(!1),[c,d]=P.useState(""),[f,p]=P.useState(""),[m,v]=P.useState({widgetTitle:"",widgetType:G0.EmbedFrame,embedURL:"",description:"",displayOrder:0,isActive:!0});P.useEffect(()=>{if(!e){r("/pages");return}const S=Es(e);if(!S){r("/pages");return}if(p(S.pageTitle),!(t.role===le.CompanyAdmin||at(S.spaceId,t.id)===qe.SpaceManager)){r(`/pages/${e}`);return}if(i&&n){const E=Zq(n);E?v({widgetTitle:E.widgetTitle,widgetType:E.widgetType,embedURL:E.embedURL,description:E.description||"",displayOrder:E.displayOrder||0,isActive:E.isActive}):d("Widget not found")}},[e,n,t,r,i]);const w=async S=>{if(S.preventDefault(),!!e){l(!0);try{i&&n?await tB({...m,id:n},t.id):await eB({...m,pageId:e,companyId:t.companyId,createdBy:t.id}),r(`/pages/${e}`)}catch(y){d(y.message),l(!1)}}},N=(S,y)=>{v(E=>({...E,[S]:y}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>r(-1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:i?"Edit Widget":"Add Dashboard/Embed Widget"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["for Page: ",f]})]})]}),c&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:c}),s.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Widget Title",value:m.widgetTitle,onChange:S=>N("widgetTitle",S.target.value),placeholder:"e.g. Sales Dashboard Q3",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Widget Type"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-slate-50 text-slate-500 cursor-not-allowed",value:m.widgetType,disabled:!0,children:s.jsx("option",{value:G0.EmbedFrame,children:"Embed Frame"})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Currently only embed frames are supported."})]}),s.jsx(Ae,{label:"Embed URL",value:m.embedURL,onChange:S=>N("embedURL",S.target.value),placeholder:"https://docs.google.com/spreadsheets/d/...",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{className:"w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:m.description,onChange:S=>N("description",S.target.value),placeholder:"Short description of what this dashboard shows."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Order"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:m.displayOrder,onChange:S=>N("displayOrder",parseInt(S.target.value)),min:"0"})]}),s.jsxs("div",{className:"flex-1 flex items-center pt-6",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:m.isActive,onChange:S=>N("isActive",S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active (Visible)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>r(`/pages/${e}`),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:a,children:"Save Widget"})]})]})]})},_te=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=qa(),[c,d]=P.useState(""),[f,p]=P.useState(a.get("spaceId")||""),[m,v]=P.useState(a.get("type")||""),[w,N]=P.useState(!1),[S,y]=P.useState({}),[E,T]=P.useState({}),[A,I]=P.useState({});P.useEffect(()=>{const O=Yn(t.companyId,t.id);i(O);const B=new Set(O.map(ee=>ee.id)),$={};O.forEach(ee=>$[ee.id]=ee.spaceName),y($);const L=Cs(t.companyId).filter(ee=>B.has(ee.spaceId));n(L);const z=Xr(t.companyId),J={};z.forEach(ee=>J[ee.id]=ee.pageTitle),T(J);const q={};L.forEach(ee=>{if(ee.createdBy&&!q[ee.createdBy]){const X=Xt(ee.createdBy);X&&(q[ee.createdBy]=X.fullName)}}),I(q)},[t.companyId,t.id]),P.useEffect(()=>{const O={};f&&(O.spaceId=f),m&&(O.type=m),l(O)},[f,m]);const _=t.role===le.CompanyAdmin||r.some(O=>at(O.id,t.id)===qe.SpaceManager),k=e.filter(O=>{var $;const B=t.role===le.CompanyAdmin||at(O.spaceId,t.id)===qe.SpaceManager;if(!O.isActive&&!B)return!1;if(c){const F=c.toLowerCase(),L=O.title.toLowerCase().includes(F),z=($=O.tags)==null?void 0:$.toLowerCase().includes(F);if(!L&&!z)return!1}return!(f&&O.spaceId!==f||m&&O.itemType!==m)}),M=O=>{switch(O){case Je.FileLink:return s.jsx(JP,{size:18});case Je.ExternalLink:return s.jsx(tl,{size:18});case Je.InternalNote:return s.jsx(tk,{size:18});case Je.Embed:return s.jsx(QP,{size:18});default:return s.jsx(Gr,{size:18})}},R=O=>{if(!O.expiryDate)return null;const B=new Date;B.setHours(0,0,0,0);const $=new Date(O.expiryDate),F=new Date(B);return F.setDate(B.getDate()+30),$<B?{label:"Expired",color:"text-red-600 bg-red-50 border-red-200"}:$<=F?{label:"Expiring Soon",color:"text-amber-600 bg-amber-50 border-amber-200"}:null};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-fade-in",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(mn,{size:18,className:"text-blue-600"})," Filters"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Type"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>v(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Types"}),s.jsx("button",{onClick:()=>v(Je.FileLink),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m===Je.FileLink?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Files"}),s.jsx("button",{onClick:()=>v(Je.ExternalLink),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m===Je.ExternalLink?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Links"}),s.jsx("button",{onClick:()=>v(Je.Embed),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m===Je.Embed?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Embeds"}),s.jsx("button",{onClick:()=>v(Je.InternalNote),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${m===Je.InternalNote?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:"Notes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Space"}),s.jsxs("div",{className:"space-y-1 max-h-[300px] overflow-y-auto",children:[s.jsx("button",{onClick:()=>p(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${f?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Spaces"}),r.map(O=>s.jsx("button",{onClick:()=>p(O.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm truncate transition-colors ${f===O.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:O.spaceName},O.id))]})]})]})]})}),s.jsxs("main",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Documents"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Central library for files and resources."})]}),_&&s.jsx(ie,{to:"/documents/new",className:"w-full sm:w-auto",children:s.jsxs(se,{className:"w-full",children:[s.jsx(on,{size:18,className:"mr-2"})," Add Document"]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",value:c,onChange:O=>d(O.target.value)})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx("button",{onClick:()=>N(!w),className:`h-full px-4 rounded-lg border flex items-center gap-2 transition-colors ${w?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-700"}`,children:s.jsx(mn,{size:18})})})]}),w&&s.jsxs("div",{className:"lg:hidden p-4 bg-white border border-slate-200 rounded-xl shadow-sm space-y-4 animate-in slide-in-from-top-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Space"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:f,onChange:O=>p(O.target.value),children:[s.jsx("option",{value:"",children:"All Spaces"}),r.map(O=>s.jsx("option",{value:O.id,children:O.spaceName},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Type"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:m,onChange:O=>v(O.target.value),children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:Je.FileLink,children:"File"}),s.jsx("option",{value:Je.ExternalLink,children:"Link"}),s.jsx("option",{value:Je.Embed,children:"Embed"}),s.jsx("option",{value:Je.InternalNote,children:"Note"})]})]})]})]}),s.jsxs("div",{className:"md:hidden space-y-4",children:[k.map(O=>{const B=t.role===le.CompanyAdmin||at(O.spaceId,t.id)===qe.SpaceManager,$=R(O);return s.jsxs("div",{className:`bg-white p-4 rounded-xl border border-slate-200 shadow-sm ${O.isActive?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex gap-3",children:[O.previewImageURL?s.jsx("img",{src:O.previewImageURL,alt:"Preview",className:"h-16 w-16 object-cover rounded-lg border border-slate-100 shrink-0"}):s.jsx("div",{className:"h-16 w-16 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400 shrink-0",children:M(O.itemType)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(ie,{to:`/documents/${O.id}`,className:"font-bold text-slate-900 block truncate text-lg mb-1",children:O.title}),B&&s.jsx(ie,{to:`/documents/${O.id}/edit`,className:"text-slate-400 hover:text-blue-600 p-1",children:s.jsx(Dt,{size:16})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-0.5 rounded",children:S[O.spaceId]}),O.isPolicy&&s.jsxs("span",{className:"text-xs bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded flex items-center gap-1 border border-blue-100",children:[s.jsx(ml,{size:10})," Policy"]}),$&&s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase border ${$.color}`,children:$.label})]})]})]}),O.description&&s.jsx("p",{className:"text-sm text-slate-500 mt-3 line-clamp-2",children:O.description}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-slate-100",children:[s.jsx("span",{className:"text-xs text-slate-400",children:new Date(O.createdOn).toLocaleDateString()}),s.jsx(ie,{to:`/documents/${O.id}`,children:s.jsx(se,{variant:"secondary",size:"sm",className:"h-8 text-xs",children:"View Details"})})]})]},O.id)}),k.length===0&&s.jsx("div",{className:"text-center py-12 text-slate-500 italic bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No documents found."})]}),s.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Location"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Tags"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[k.map(O=>{var F;const B=t.role===le.CompanyAdmin||at(O.spaceId,t.id)===qe.SpaceManager,$=R(O);return s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${O.isActive?"":"opacity-60 bg-slate-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[O.previewImageURL?s.jsx("img",{src:O.previewImageURL,alt:"Preview",className:"h-10 w-10 object-cover rounded-md border border-slate-200 shrink-0"}):s.jsx("div",{className:"mt-1 text-slate-400",children:M(O.itemType)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-slate-900",children:O.title}),O.isPolicy&&s.jsx("span",{title:"Policy",children:s.jsx(ml,{size:12,className:"text-blue-600"})})]}),O.description&&s.jsx("div",{className:"text-slate-500 text-xs truncate max-w-[240px]",children:O.description}),$&&s.jsxs("span",{className:`inline-flex items-center gap-1 mt-1 px-1.5 py-0.5 rounded text-[10px] font-bold uppercase border ${$.color}`,children:[s.jsx($y,{size:10})," ",$.label]})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-slate-600",children:[s.jsx("div",{className:"font-medium",children:S[O.spaceId]||"Unknown Space"}),O.pageId&&s.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:["Page: ",E[O.pageId]]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(F=O.tags)==null?void 0:F.split(",").map((L,z)=>L.trim()&&s.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded-full text-xs border border-slate-200",children:L.trim()},z))})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(ie,{to:`/documents/${O.id}`,className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-md",title:"View",children:s.jsx(As,{size:16})}),B&&s.jsx(ie,{to:`/documents/${O.id}/edit`,className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-md",title:"Edit",children:s.jsx(Dt,{size:16})})]})})]},O.id)}),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500",children:"No documents found."})})]})]})})})]})]})},f2=({currentUser:t})=>{const{id:e}=Vt(),[n]=qa(),r=ze(),i=!!e,[a,l]=P.useState([]),[c,d]=P.useState([]),[f,p]=P.useState([]),[m,v]=P.useState(!1),[w,N]=P.useState(""),[S,y]=P.useState({title:"",description:"",itemType:Je.FileLink,fileURL:"",externalURL:"",spaceId:n.get("spaceId")||"",pageId:n.get("pageId")||"",tags:"",isActive:!0,isPolicy:!1,expiryDate:"",ownerUserId:"",importanceLevel:fs.Medium,previewImageURL:""});P.useEffect(()=>{const I=Yn(t.companyId,t.id).filter(_=>t.role===le.CompanyAdmin?!0:at(_.id,t.id)===qe.SpaceManager);if(l(I),p(Li(t.companyId)),i&&e){const _=nc(e);if(_){if(_.companyId!==t.companyId){r("/documents");return}t.role===le.CompanyAdmin||at(_.spaceId,t.id)===qe.SpaceManager||N("You do not have permission to edit documents in this space."),y({title:_.title,description:_.description||"",itemType:_.itemType,fileURL:_.fileURL||"",externalURL:_.externalURL||"",spaceId:_.spaceId,pageId:_.pageId||"",tags:_.tags||"",isActive:_.isActive,isPolicy:_.isPolicy||!1,expiryDate:_.expiryDate||"",ownerUserId:_.ownerUserId||"",importanceLevel:_.importanceLevel||fs.Medium,previewImageURL:_.previewImageURL||""})}else N("Document not found")}else I.length>0&&!S.spaceId&&y(_=>({..._,spaceId:I[0].id}))},[e,t.companyId,t.id,r,i,t.role]),P.useEffect(()=>{if(S.spaceId){const A=Xr(t.companyId);d(A.filter(I=>I.spaceId===S.spaceId))}else d([])},[S.spaceId,t.companyId]);const E=async A=>{if(A.preventDefault(),!S.spaceId){N("Please select a space");return}v(!0);try{const I={...S,companyId:t.companyId,createdBy:t.id,pageId:S.pageId||void 0,expiryDate:S.expiryDate||void 0,ownerUserId:S.ownerUserId||void 0};i&&e?await iB({...I,id:e,updatedBy:t.id}):await rB(I),r("/documents")}catch(I){N(I.message),v(!1)}},T=(A,I)=>{y(_=>({..._,[A]:I}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>r(-1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:i?"Edit Document":"Add Document"})]}),w&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:w}),s.jsxs("form",{onSubmit:E,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Document Title",value:S.title,onChange:A=>T("title",A.target.value),placeholder:"e.g. Q3 Financial Report",required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Item Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.itemType,onChange:A=>T("itemType",A.target.value),children:[s.jsx("option",{value:Je.FileLink,children:"File Link (Drive/SharePoint)"}),s.jsx("option",{value:Je.ExternalLink,children:"External URL"}),s.jsx("option",{value:Je.Embed,children:"Embed / Iframe"}),s.jsx("option",{value:Je.InternalNote,children:"Internal Note"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Importance"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.importanceLevel,onChange:A=>T("importanceLevel",A.target.value),children:Object.values(fs).map(A=>s.jsx("option",{value:A,children:A},A))})]})]}),S.itemType===Je.FileLink&&s.jsx(Ae,{label:"File URL",value:S.fileURL,onChange:A=>T("fileURL",A.target.value),placeholder:"https://drive.google.com/..."}),S.itemType===Je.ExternalLink&&s.jsx(Ae,{label:"External Link",value:S.externalURL,onChange:A=>T("externalURL",A.target.value),placeholder:"https://example.com/..."}),S.itemType===Je.Embed&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ae,{label:"Embed URL (Source)",value:S.externalURL,onChange:A=>T("externalURL",A.target.value),placeholder:"https://docs.google.com/presentation/d/.../embed?...",required:!0}),s.jsx("p",{className:"text-xs text-slate-500 bg-slate-50 p-2 rounded",children:"Paste the embed code source URL (src) here. For Google Docs/Slides, use 'File > Share > Publish to web > Embed'."})]}),s.jsx(gc,{label:"Preview Image (Optional)",value:S.previewImageURL,onChange:A=>T("previewImageURL",A)}),s.jsx(Ae,{label:"Description (Optional)",value:S.description,onChange:A=>T("description",A.target.value)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.spaceId,onChange:A=>T("spaceId",A.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a space"}),a.map(A=>s.jsx("option",{value:A.id,children:A.spaceName},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Related Page (Optional)"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.pageId,onChange:A=>T("pageId",A.target.value),children:[s.jsx("option",{value:"",children:"None"}),c.map(A=>s.jsx("option",{value:A.id,children:A.pageTitle},A.id))]})]})]}),s.jsx(Ae,{label:"Tags (comma separated)",value:S.tags,onChange:A=>T("tags",A.target.value),placeholder:"hr, policy, finance"}),s.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[s.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Policy & Tracking Settings"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isPolicy",checked:S.isPolicy,onChange:A=>T("isPolicy",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isPolicy",className:"text-sm text-slate-700 font-medium",children:"Mark as Policy (Track Read Acknowledgement)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expiry Date (Optional)"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.expiryDate,onChange:A=>T("expiryDate",A.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Owner"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S.ownerUserId,onChange:A=>T("ownerUserId",A.target.value),children:[s.jsx("option",{value:"",children:"None"}),f.map(A=>s.jsx("option",{value:A.id,children:A.fullName},A.id))]})]})]})]})]}),s.jsxs("div",{className:"flex items-center pt-4 border-t border-slate-100",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:A=>T("isActive",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active (Visible to users)"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>r("/documents"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:m,children:"Save Document"})]})]})]})},Tte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(null),[c,d]=P.useState(null),[f,p]=P.useState("Unknown"),[m,v]=P.useState([]),[w,N]=P.useState({}),[S,y]=P.useState(!1),[E,T]=P.useState(void 0),[A,I]=P.useState(!1);P.useEffect(()=>{if(!e)return;const R=nc(e);if(!R)return;tc(R.spaceId,t.id);const O=t.role===le.CompanyAdmin||at(R.spaceId,t.id)===qe.SpaceManager;if(R.companyId!==t.companyId||!R.isActive&&!O){n("/documents");return}i(R),y(Ly(t.id,We.DocumentItem,R.id));const B=Xn(R.spaceId);if(B&&l(B),R.pageId){const J=Es(R.pageId);J&&d(J)}const $=Xt(R.createdBy);$&&p($.fullName);const F=rf(t.companyId,{entityId:R.id,entityType:We.DocumentItem});v(F.slice(0,5));const L={};$&&(L[$.id]=$.fullName),F.slice(0,5).forEach(J=>{if(!L[J.userId]){const q=Xt(J.userId);q&&(L[J.userId]=q.fullName)}}),N(L);const z=OP(t.id,We.DocumentItem,R.id);T(z)},[e,t,n]);const _=async()=>{if(!r)return;const R=await af(t.companyId,t.id,We.DocumentItem,r.id);y(R)},k=async()=>{if(r){I(!0);try{const R=await LP({companyId:t.companyId,userId:t.id,entityType:We.DocumentItem,entityId:r.id});T(R)}catch(R){console.error(R)}finally{I(!1)}}};if(!r)return s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading document..."});const M=t.role===le.CompanyAdmin||at(r.spaceId,t.id)===qe.SpaceManager;return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{to:"/documents",className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-colors",children:[s.jsx(Ct,{size:20}),"Back to Documents"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{to:`/ai-assistant?scopeType=${qt.Document}&scopeDocumentId=${r.id}`,children:s.jsxs(se,{variant:"ghost",className:"flex items-center gap-2 text-blue-600 bg-blue-50 border-blue-100",children:[s.jsx(xs,{size:16})," Ask AI"]})}),s.jsxs(se,{variant:S?"primary":"secondary",className:`flex items-center gap-2 ${S?"bg-yellow-400 border-yellow-400 text-white hover:bg-yellow-500":""}`,onClick:_,children:[s.jsx(ic,{size:16,className:S?"fill-current":""})," ",S?"Favorited":"Favorite"]}),M&&s.jsx(ie,{to:`/documents/${r.id}/edit`,children:s.jsxs(se,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Dt,{size:16})," Edit"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden p-8",children:[r.previewImageURL&&s.jsx("div",{className:"w-full h-48 overflow-hidden mb-6 rounded-lg border border-slate-100",children:s.jsx("img",{src:r.previewImageURL,alt:r.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm text-slate-500",children:[s.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded",children:a==null?void 0:a.spaceName}),c&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"/"}),s.jsx(ie,{to:`/pages/${c.id}`,className:"hover:text-blue-600 hover:underline",children:c.pageTitle})]}),s.jsxs("span",{className:"ml-auto flex items-center gap-1",children:[s.jsx(Ts,{size:14})," ",new Date(r.createdOn).toLocaleDateString()]})]}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:r.title}),r.description&&s.jsx("p",{className:"text-slate-600",children:r.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-slate-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{size:16}),s.jsxs("span",{children:["Added by ",f]})]}),r.tags&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($B,{size:16}),s.jsx("span",{children:r.tags})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[r.itemType===Je.FileLink&&r.fileURL&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:"File Link"}),s.jsxs("a",{href:r.fileURL,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full p-4 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:["Open File ",s.jsx(Ii,{size:18})]})]}),r.itemType===Je.ExternalLink&&r.externalURL&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:"External URL"}),s.jsxs("a",{href:r.externalURL,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full p-4 bg-slate-50 text-slate-700 rounded-lg hover:bg-slate-100 transition-colors font-medium",children:["Open Link ",s.jsx(Ii,{size:18})]})]}),r.itemType===Je.Embed&&r.externalURL&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Embedded Content"}),s.jsxs("a",{href:r.externalURL,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Open Source ",s.jsx(Ii,{size:10})]})]}),s.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-slate-50",children:s.jsx("iframe",{src:r.externalURL,className:"w-full h-[600px] border-0",allowFullScreen:!0,title:r.title,loading:"lazy",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms"})})]}),r.itemType===Je.InternalNote&&s.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg border border-yellow-200",children:[s.jsx("p",{className:"font-medium text-sm mb-1",children:"Internal Note"}),s.jsx("p",{children:"This is an internal reference note."})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 flex justify-end",children:E?s.jsxs("div",{className:"flex items-center gap-2 text-green-700 bg-green-50 px-4 py-2 rounded-lg text-sm font-medium",children:[s.jsx(En,{size:16}),"You acknowledged this on ",new Date(E.acknowledgedOn).toLocaleString()]}):s.jsxs(se,{onClick:k,isLoading:A,children:[s.jsx(En,{size:18,className:"mr-2"})," I have read this"]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(lf,{size:18,className:"text-slate-500"}),s.jsx("h3",{className:"font-bold text-slate-900",children:"Activity for this Document"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[m.map(R=>s.jsxs("div",{className:"p-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-slate-900",children:w[R.userId]||"Unknown User"}),s.jsx("span",{className:"text-slate-500 text-xs",children:new Date(R.createdOn).toLocaleDateString()})]}),s.jsx("p",{className:"text-slate-600",children:R.description})]},R.id)),m.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No recent activity."})]})]})]})},Ate=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState(""),[c,d]=P.useState(""),[f,p]=P.useState("active"),[m,v]=P.useState({}),[w,N]=P.useState({});P.useEffect(()=>{const E=sf(t.companyId),T=Fi(t.companyId),A=E.filter(k=>k.audienceType===Sn.CompanyWide||!k.spaceId?!0:tc(k.spaceId,t.id));n(A.sort((k,M)=>new Date(M.createdOn).getTime()-new Date(k.createdOn).getTime())),i(T);const I={};T.forEach(k=>I[k.id]=k.spaceName),v(I);const _={};A.forEach(k=>{if(!_[k.createdBy]){const M=Xt(k.createdBy);M&&(_[k.createdBy]=M.fullName)}}),N(_)},[t.companyId,t.id]);const S=t.role===le.CompanyAdmin||r.some(E=>t.role===le.SpaceManager||at(E.id,t.id)===qe.SpaceManager),y=e.filter(E=>!(a&&!E.title.toLowerCase().includes(a.toLowerCase())||c&&E.audienceType!==c||f==="active"&&!E.isActive||f==="inactive"&&E.isActive));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Announcements"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Company news and updates."})]}),S&&s.jsx(ie,{to:"/announcements/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Create Announcement"]})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by title...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:E=>l(E.target.value)})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:[s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:c,onChange:E=>d(E.target.value),children:[s.jsx("option",{value:"",children:"All Audiences"}),s.jsx("option",{value:Sn.CompanyWide,children:"Company Wide"}),s.jsx("option",{value:Sn.SpaceSpecific,children:"Space Specific"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]}),s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:f,onChange:E=>p(E.target.value),children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Audience"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Created"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[y.map(E=>{const T=t.role===le.CompanyAdmin||E.spaceId&&at(E.spaceId,t.id)===qe.SpaceManager;return s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${E.isActive?"":"opacity-60 bg-slate-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[E.announcementImageURL&&s.jsx("img",{src:E.announcementImageURL,alt:"",className:"h-10 w-16 object-cover rounded border border-slate-200"}),s.jsx("div",{className:"flex flex-col",children:s.jsxs("div",{className:"flex items-center gap-2",children:[E.isPinned&&s.jsx(By,{size:14,className:"text-red-500 shrink-0"}),s.jsx("div",{className:"font-medium text-slate-900",children:E.title})]})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${E.audienceType===Sn.CompanyWide?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:E.audienceType===Sn.CompanyWide?"Company Wide":"Space Specific"})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:E.spaceId?m[E.spaceId]:"-"}),s.jsxs("td",{className:"px-6 py-4 text-xs text-slate-500",children:[s.jsx("div",{children:new Date(E.createdOn).toLocaleDateString()}),s.jsxs("div",{children:["by ",w[E.createdBy]||"Unknown"]})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/announcements/${E.id}`,className:"p-1 text-slate-400 hover:text-blue-600",title:"View",children:s.jsx(As,{size:16})}),T&&s.jsx(ie,{to:`/announcements/${E.id}/edit`,className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:16})})]})})]},E.id)}),y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No announcements found."})})]})]})})})]})},p2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState([]),[l,c]=P.useState(!1),[d,f]=P.useState(""),[p,m]=P.useState({title:"",message:"",audienceType:Sn.CompanyWide,spaceId:"",isPinned:!1,isActive:!0,announcementImageURL:""});P.useEffect(()=>{const S=Yn(t.companyId,t.id).filter(y=>t.role===le.CompanyAdmin?!0:at(y.id,t.id)===qe.SpaceManager);if(a(S),r&&e){const y=MP(e);if(y){if(y.companyId!==t.companyId){n("/announcements");return}m({title:y.title,message:y.message,audienceType:y.audienceType,spaceId:y.spaceId||"",isPinned:y.isPinned,isActive:y.isActive,announcementImageURL:y.announcementImageURL||""})}else f("Announcement not found")}},[e,t.companyId,t.id,n,r,t.role]);const v=async N=>{if(N.preventDefault(),p.audienceType===Sn.SpaceSpecific&&!p.spaceId){f("Please select a space for space-specific announcements.");return}c(!0);try{const S={...p,spaceId:p.audienceType===Sn.CompanyWide?void 0:p.spaceId};r&&e?await aB({...S,id:e}):await sB({...S,companyId:t.companyId,createdBy:t.id}),n("/announcements")}catch(S){f(S.message),c(!1)}},w=(N,S)=>{m(y=>({...y,[N]:S}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(-1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Announcement":"Create Announcement"})]}),d&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:d}),s.jsxs("form",{onSubmit:v,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Title",value:p.title,onChange:N=>w("title",N.target.value),placeholder:"e.g. New Office Policy",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),s.jsx("textarea",{className:"w-full h-40 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:p.message,onChange:N=>w("message",N.target.value),placeholder:"Write your announcement here...",required:!0})]}),s.jsx(gc,{label:"Announcement Image (Optional)",value:p.announcementImageURL,onChange:N=>w("announcementImageURL",N)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Audience Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.audienceType,onChange:N=>w("audienceType",N.target.value),children:[s.jsx("option",{value:Sn.CompanyWide,children:"Company Wide"}),s.jsx("option",{value:Sn.SpaceSpecific,children:"Space Specific"})]})]}),p.audienceType===Sn.SpaceSpecific&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.spaceId,onChange:N=>w("spaceId",N.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a space"}),i.map(N=>s.jsx("option",{value:N.id,children:N.spaceName},N.id))]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isPinned",checked:p.isPinned,onChange:N=>w("isPinned",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isPinned",className:"text-sm text-slate-700 font-medium",children:"Pin this announcement to Home"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:N=>w("isActive",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700",children:"Active (Visible to users)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n(-1),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:l,children:"Save Announcement"})]})]})]})},jte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(null),[c,d]=P.useState("Unknown"),[f,p]=P.useState([]),[m,v]=P.useState({}),[w,N]=P.useState(void 0),[S,y]=P.useState(!1);P.useEffect(()=>{if(!e)return;const A=MP(e);if(!A)return;const I=A.isActive||[le.CompanyAdmin,le.SpaceManager].includes(t.role);if(A.companyId!==t.companyId||!I){n("/announcements");return}if(i(A),A.spaceId){const O=Xn(A.spaceId);O&&l(O)}const _=Xt(A.createdBy);_&&d(_.fullName);const k=rf(t.companyId,{entityId:A.id,entityType:We.Announcement});p(k.slice(0,5));const M={};_&&(M[_.id]=_.fullName),k.slice(0,5).forEach(O=>{if(!M[O.userId]){const B=Xt(O.userId);B&&(M[O.userId]=B.fullName)}}),v(M);const R=OP(t.id,We.Announcement,A.id);N(R)},[e,t,n]);const E=async()=>{if(r){y(!0);try{const A=await LP({companyId:t.companyId,userId:t.id,entityType:We.Announcement,entityId:r.id});N(A)}catch(A){console.error(A)}finally{y(!1)}}};if(!r)return s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading..."});const T=[le.CompanyAdmin,le.SpaceManager].includes(t.role);return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{to:"/announcements",className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-colors",children:[s.jsx(Ct,{size:20}),"Back to Announcements"]}),T&&s.jsx(ie,{to:`/announcements/${r.id}/edit`,children:s.jsxs(se,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Dt,{size:16})," Edit"]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[r.announcementImageURL&&s.jsx("div",{className:"w-full h-64 overflow-hidden",children:s.jsx("img",{src:r.announcementImageURL,alt:r.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.isPinned&&s.jsxs("span",{className:"bg-red-50 text-red-600 px-2 py-1 rounded text-xs font-bold uppercase tracking-wide flex items-center gap-1",children:[s.jsx(By,{size:12})," Pinned"]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wide ${r.audienceType===Sn.CompanyWide?"bg-purple-50 text-purple-700":"bg-blue-50 text-blue-700"}`,children:r.audienceType===Sn.CompanyWide?"Company Wide":"Space Specific"})]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:r.title}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{size:16}),s.jsx("span",{children:c})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:16}),s.jsx("span",{children:new Date(r.createdOn).toLocaleDateString()})]}),a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tr,{size:16}),s.jsx("span",{children:a.spaceName})]})]})]}),s.jsx("div",{className:"prose max-w-none text-slate-800 leading-relaxed whitespace-pre-wrap",children:r.message}),s.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 flex justify-end",children:w?s.jsxs("div",{className:"flex items-center gap-2 text-green-700 bg-green-50 px-4 py-2 rounded-lg text-sm font-medium",children:[s.jsx(En,{size:16}),"You acknowledged this on ",new Date(w.acknowledgedOn).toLocaleString()]}):s.jsxs(se,{onClick:E,isLoading:S,children:[s.jsx(En,{size:18,className:"mr-2"})," I have read this"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(lf,{size:18,className:"text-slate-500"}),s.jsx("h3",{className:"font-bold text-slate-900",children:"Activity for this Announcement"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[f.map(A=>s.jsxs("div",{className:"p-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-slate-900",children:m[A.userId]||"Unknown User"}),s.jsx("span",{className:"text-slate-500 text-xs",children:new Date(A.createdOn).toLocaleDateString()})]}),s.jsx("p",{className:"text-slate-600",children:A.description})]},A.id)),f.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No recent activity."})]})]})]})},Ite=({currentUser:t})=>{const[e]=qa(),n=ze(),r=e.get("q")||"",[i,a]=P.useState(r),[l,c]=P.useState({pages:[],docs:[],announcements:[]}),[d,f]=P.useState({}),[p,m]=P.useState(!1);P.useEffect(()=>{const N=Yn(t.companyId,t.id),S={};N.forEach(y=>S[y.id]=y.spaceName),f(S)},[t.companyId,t.id]),P.useEffect(()=>{if(a(r),!r.trim()){c({pages:[],docs:[],announcements:[]});return}m(!0);const N=setTimeout(()=>{const S=r.toLowerCase(),y=Yn(t.companyId,t.id),E=new Set(y.map(R=>R.id)),A=Xr(t.companyId).filter(R=>!E.has(R.spaceId)||R.status==="Draft"&&!(t.role===le.CompanyAdmin||at(R.spaceId,t.id)===qe.SpaceManager)?!1:R.pageTitle.toLowerCase().includes(S)||R.summary&&R.summary.toLowerCase().includes(S)||R.content.toLowerCase().includes(S)).slice(0,20),_=Cs(t.companyId).filter(R=>{if(!E.has(R.spaceId))return!1;const O=t.role===le.CompanyAdmin||at(R.spaceId,t.id)===qe.SpaceManager;return!R.isActive&&!O?!1:R.title.toLowerCase().includes(S)||R.description&&R.description.toLowerCase().includes(S)||R.tags&&R.tags.toLowerCase().includes(S)}).slice(0,20),M=sf(t.companyId).filter(R=>(R.spaceId&&tc(R.spaceId,t.id),!R.isActive&&t.role!==le.CompanyAdmin?!1:R.title.toLowerCase().includes(S)||R.message.toLowerCase().includes(S))).slice(0,20);c({pages:A,docs:_,announcements:M}),m(!1)},300);return()=>clearTimeout(N)},[r,t.companyId,t.id,t.role]);const v=N=>{N.preventDefault(),i.trim()&&n(`/search?q=${encodeURIComponent(i)}`)},w=l.pages.length>0||l.docs.length>0||l.announcements.length>0;return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6 text-center",children:"Global Search"}),s.jsxs("form",{onSubmit:v,className:"relative",children:[s.jsx(Rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-4 text-lg border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow",placeholder:"Search pages, documents, and announcements...",value:i,onChange:N=>a(N.target.value),autoFocus:!0}),s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:s.jsx(se,{type:"submit",children:"Search"})})]})]}),p?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 rounded-full border-t-transparent"})}):s.jsxs("div",{className:"space-y-10",children:[!w&&r&&s.jsxs("div",{className:"text-center py-12 text-slate-500 bg-white rounded-xl border border-slate-200 border-dashed",children:[s.jsx(Rn,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsxs("p",{className:"text-lg font-medium",children:['No results found for "',r,'"']}),s.jsx("p",{className:"text-sm",children:"Try searching for different keywords."})]}),l.pages.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-bold text-lg border-b border-slate-200 pb-2",children:[s.jsx(Qn,{className:"text-blue-500",size:20}),s.jsxs("h2",{children:["Pages (",l.pages.length,")"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Page Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:l.pages.map(N=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-3 font-medium text-slate-900",children:[s.jsx(ie,{to:`/pages/${N.id}`,className:"hover:text-blue-600 hover:underline",children:N.pageTitle}),N.summary&&s.jsx("div",{className:"text-slate-500 text-xs font-normal truncate max-w-md",children:N.summary})]}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:d[N.spaceId]||"Unknown"}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${N.status==="Published"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:N.status})}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/pages/${N.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:"Open Page"})})})]},N.id))})]})})]}),l.docs.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-bold text-lg border-b border-slate-200 pb-2",children:[s.jsx(Gr,{className:"text-emerald-500",size:20}),s.jsxs("h2",{children:["Documents (",l.docs.length,")"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Type"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:l.docs.map(N=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-3 font-medium text-slate-900",children:[s.jsx(ie,{to:`/documents/${N.id}`,className:"hover:text-blue-600 hover:underline",children:N.title}),N.tags&&s.jsx("div",{className:"text-slate-500 text-xs font-normal mt-0.5 flex items-center gap-1",children:s.jsx("span",{className:"bg-slate-100 px-1 rounded",children:N.tags})})]}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:N.itemType}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:d[N.spaceId]||"Unknown"}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/documents/${N.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:"Open Document"})})})]},N.id))})]})})]}),l.announcements.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-bold text-lg border-b border-slate-200 pb-2",children:[s.jsx(vs,{className:"text-orange-500",size:20}),s.jsxs("h2",{children:["Announcements (",l.announcements.length,")"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Audience"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:l.announcements.map(N=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-3 font-medium text-slate-900",children:[s.jsx(ie,{to:`/announcements/${N.id}`,className:"hover:text-blue-600 hover:underline",children:N.title}),s.jsx("div",{className:"text-slate-500 text-xs font-normal truncate max-w-md",children:N.message})]}),s.jsxs("td",{className:"px-6 py-3 text-slate-600",children:[N.audienceType,N.spaceId&&s.jsxs("span",{className:"text-xs block text-slate-400",children:["in ",d[N.spaceId]]})]}),s.jsx("td",{className:"px-6 py-3 text-slate-600 text-xs",children:new Date(N.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/announcements/${N.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:"Open Announcement"})})})]},N.id))})]})})]})]})]})},Pte=({currentUser:t})=>{ze();const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState([]),[c,d]=P.useState([]),[f,p]=P.useState([]);return P.useEffect(()=>{const m=va(t.id),v=[],w={},N=new Set;m.forEach(R=>{const O=Xn(R.spaceId);O&&(v.push({space:O,member:R}),w[O.id]=O.spaceName,N.add(O.id))}),n(v);const y=Xr(t.companyId).filter(R=>R.createdBy===t.id||R.updatedBy===t.id).map(R=>({page:R,spaceName:w[R.spaceId]||"Unknown"}));i(y);const T=Cs(t.companyId).filter(R=>R.createdBy===t.id&&R.isActive).map(R=>({doc:R,spaceName:w[R.spaceId]||"Unknown"}));l(T);const A=DP(t.id).slice(0,5),I=[];A.forEach(R=>{if(R.entityType===We.Page){const O=Es(R.entityId);O&&I.push({type:"Page",name:O.pageTitle,link:`/pages/${O.id}`})}else if(R.entityType===We.DocumentItem){const O=nc(R.entityId);O&&I.push({type:"Document",name:O.title,link:`/documents/${O.id}`})}else if(R.entityType===We.Space){const O=Xn(R.entityId);O&&I.push({type:"Space",name:O.spaceName,link:`/pages?spaceId=${O.id}`})}}),d(I);const _=Fy(t.companyId),k=new Date;k.setHours(0,0,0,0);const M=_.filter(R=>new Date(R.startDateTime)<k||!R.isActive?!1:!!(R.spaceId&&N.has(R.spaceId)||R.eventType===Sa.CompanyEvent||R.eventType===Sa.Holiday)).sort((R,O)=>new Date(R.startDateTime).getTime()-new Date(O.startDateTime).getTime()).slice(0,5);p(M)},[t]),s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Workspace"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"My Profile"}),s.jsx(ie,{to:"/profile/edit",children:s.jsxs(se,{variant:"ghost",className:"h-8 px-2 text-xs",children:[s.jsx(Dt,{size:14,className:"mr-1"})," Edit"]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-full text-blue-600",children:s.jsx(js,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Full Name"}),s.jsx("p",{className:"text-slate-900 font-medium",children:t.fullName})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-purple-50 rounded-full text-purple-600",children:s.jsx(rl,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-slate-900",children:t.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-indigo-50 rounded-full text-indigo-600",children:s.jsx(Uy,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Role & Department"}),s.jsxs("p",{className:"text-slate-900",children:[t.designation,"  ",t.department]})]})]}),s.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-100 flex gap-2",children:[s.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-bold uppercase text-slate-600",children:t.role}),s.jsx("span",{className:"bg-green-100 px-2 py-1 rounded text-xs font-bold uppercase text-green-700",children:t.status})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(ic,{size:20,className:"text-yellow-500 fill-current"})," Favorites"]}),s.jsx(ie,{to:"/favorites",className:"text-xs text-blue-600 hover:underline",children:"View All"})]}),s.jsxs("div",{className:"space-y-2",children:[c.map((m,v)=>s.jsx(ie,{to:m.link,className:"block p-2 hover:bg-slate-50 rounded-lg group transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[m.type==="Page"&&s.jsx(Qn,{size:16,className:"text-blue-500 shrink-0"}),m.type==="Document"&&s.jsx(Gr,{size:16,className:"text-emerald-500 shrink-0"}),m.type==="Space"&&s.jsx(Tr,{size:16,className:"text-indigo-500 shrink-0"}),s.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:m.name})]}),s.jsx(xa,{size:14,className:"text-slate-300 group-hover:text-blue-500 shrink-0"})]})},v)),c.length===0&&s.jsx("p",{className:"text-slate-500 text-sm italic",children:"No favorites added yet."})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(Tr,{size:20,className:"text-indigo-600"})," My Spaces"]}),s.jsxs("div",{className:"space-y-3",children:[e.map(({space:m,member:v})=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100 group hover:border-blue-200 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:m.spaceName}),s.jsx("p",{className:"text-xs text-slate-500",children:v.roleInSpace})]}),s.jsx(ie,{to:`/pages?spaceId=${m.id}`,title:"Open Pages",children:s.jsx("button",{className:"p-1.5 bg-white text-slate-400 hover:text-blue-600 rounded-md border border-slate-200 shadow-sm",children:s.jsx(xa,{size:14})})})]},m.id)),e.length===0&&s.jsx("p",{className:"text-slate-500 text-sm",children:"You are not a member of any space."})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:20,className:"text-pink-600"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"My Upcoming Events"})]}),s.jsx(ie,{to:"/events",className:"text-xs text-blue-600 hover:underline",children:"Calendar"})]}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[f.map(m=>s.jsx(ie,{to:`/events/${m.id}`,className:"block p-4 hover:bg-slate-50 transition-colors group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center bg-slate-50 rounded p-1 min-w-[40px] border border-slate-200 text-slate-600",children:[s.jsx("span",{className:"text-[10px] font-bold uppercase",children:new Date(m.startDateTime).toLocaleString("default",{month:"short"})}),s.jsx("span",{className:"text-sm font-bold",children:new Date(m.startDateTime).getDate()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900 group-hover:text-blue-600",children:m.title}),s.jsxs("p",{className:"text-xs text-slate-500",children:[m.eventType," ",m.isAllDay?" All Day":` ${new Date(m.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`]})]})]}),s.jsx(xa,{size:14,className:"text-slate-300 group-hover:text-blue-500"})]})},m.id)),f.length===0&&s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm italic",children:"No upcoming events relevant to you."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(Qn,{size:20,className:"text-blue-600"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"My Pages"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Updated"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.map(({page:m,spaceName:v})=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:m.pageTitle}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:v}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${m.status==="Published"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:m.status})}),s.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs",children:new Date(m.updatedOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/pages/${m.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:"Open"})})})]},m.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No pages found."})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[s.jsx(Gr,{size:20,className:"text-emerald-600"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"My Documents"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Type"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Space"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Created"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.map(({doc:m,spaceName:v})=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:m.title}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:m.itemType}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:v}),s.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs",children:new Date(m.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/documents/${m.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:"Open"})})})]},m.id)),a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No documents found."})})]})]})})]})]})]})]})},kte=({currentUser:t})=>{const e=ze(),[n,r]=P.useState(!1),[i,a]=P.useState(""),[l,c]=P.useState({fullName:t.fullName,designation:t.designation,department:t.department}),d=async f=>{f.preventDefault(),r(!0),a("");try{await Oy({...t,...l}),e("/workspace")}catch(p){a(p.message),r(!1)}};return s.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/workspace"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Edit Profile"})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:[i&&s.jsx("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:i}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsx(Ae,{label:"Full Name",value:l.fullName,onChange:f=>c({...l,fullName:f.target.value}),required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ae,{label:"Designation",value:l.designation,onChange:f=>c({...l,designation:f.target.value}),required:!0}),s.jsx(Ae,{label:"Department",value:l.department,onChange:f=>c({...l,department:f.target.value}),required:!0})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-100 space-y-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Read-only Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Email"}),s.jsx("input",{className:"w-full px-3 py-2 border border-slate-200 bg-slate-50 rounded-lg text-slate-500",value:t.email,disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Role"}),s.jsx("input",{className:"w-full px-3 py-2 border border-slate-200 bg-slate-50 rounded-lg text-slate-500",value:t.role,disabled:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>e("/workspace"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:n,children:"Save Changes"})]})]})]})]})},Mte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState({}),[a,l]=P.useState(""),[c,d]=P.useState("");P.useEffect(()=>{const m=rf(t.companyId);n(m);const v={};Li(t.companyId).forEach(N=>v[N.id]=N.fullName),i(v)},[t.companyId]);const f=e.filter(m=>!(a&&m.entityType!==a||c&&m.actionType!==c)),p=m=>{switch(m){case wi.Created:return"bg-green-100 text-green-700";case wi.Published:return"bg-green-100 text-green-700";case wi.Updated:return"bg-blue-100 text-blue-700";case wi.Pinned:return"bg-orange-100 text-orange-700";case wi.Deleted:return"bg-red-100 text-red-700";case wi.Unpublished:return"bg-slate-100 text-slate-700";default:return"bg-slate-100 text-slate-700"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Company Activity"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Audit log of system events."})]})}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative min-w-[200px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:a,onChange:m=>l(m.target.value),children:[s.jsx("option",{value:"",children:"All Entities"}),Object.values(We).map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]}),s.jsxs("div",{className:"relative min-w-[200px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:c,onChange:m=>d(m.target.value),children:[s.jsx("option",{value:"",children:"All Actions"}),Object.values(wi).map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"User"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Action"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Entity"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Description"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[f.map(m=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 text-slate-500 whitespace-nowrap",children:new Date(m.createdOn).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:r[m.userId]||"Unknown"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 rounded-md text-xs font-bold uppercase ${p(m.actionType)}`,children:m.actionType})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:m.entityType}),s.jsx("td",{className:"px-6 py-4 text-slate-700",children:m.description})]},m.id)),f.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No activity found."})})]})]})})})]})},Rte=({currentUser:t})=>{const[e,n]=P.useState([]),r=ze();P.useEffect(()=>{i()},[t.id]);const i=()=>{n(_P(t.id))},a=async()=>{await kq(t.id),i()},l=async c=>{if(c.isRead||await Pq(c.id),i(),!(!c.entityId||c.entityType==="Other"))switch(c.entityType){case We.Page:r(`/pages/${c.entityId}`);break;case We.DocumentItem:r(`/documents/${c.entityId}`);break;case We.Announcement:r(`/announcements/${c.entityId}`);break}};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Notifications"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Stay updated with the latest activities."})]}),e.some(c=>!c.isRead)&&s.jsxs(se,{variant:"secondary",onClick:a,children:[s.jsx(zP,{size:18})," Mark all as read"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("div",{className:"divide-y divide-slate-100",children:[e.map(c=>s.jsx("div",{className:`p-5 transition-colors ${c.isRead?"hover:bg-slate-50":"bg-blue-50/50"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:`mt-1 p-2 rounded-full shrink-0 ${c.isRead?"bg-slate-100 text-slate-500":"bg-blue-100 text-blue-600"}`,children:c.isRead?s.jsx(TB,{size:20}):s.jsx(vs,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-medium text-slate-900 ${c.isRead?"":"font-bold"}`,children:c.title}),s.jsx("p",{className:"text-slate-600 mt-1",children:c.message}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(c.createdOn).toLocaleString()}),s.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:c.entityType})]})]})]}),c.entityId&&c.entityType!=="Other"&&s.jsxs(se,{size:"sm",variant:"ghost",onClick:()=>l(c),className:"shrink-0",children:["Open ",s.jsx(Ii,{size:14,className:"ml-1"})]})]})},c.id)),e.length===0&&s.jsxs("div",{className:"p-12 text-center text-slate-500 flex flex-col items-center",children:[s.jsx("div",{className:"bg-slate-50 p-4 rounded-full mb-4",children:s.jsx(vs,{size:32,className:"text-slate-300"})}),s.jsx("p",{className:"font-medium",children:"You're all caught up!"}),s.jsx("p",{className:"text-sm",children:"No new notifications."})]})]})})]})},m2=[{label:"System Default",value:""},{label:"Inter",value:"'Inter', sans-serif"},{label:"Roboto",value:"'Roboto', sans-serif"},{label:"Open Sans",value:"'Open Sans', sans-serif"},{label:"Lato",value:"'Lato', sans-serif"}],Dte=({currentUser:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!1),[a,l]=P.useState([]),[c,d]=P.useState("branding"),[f,p]=P.useState(!1),[m,v]=P.useState(!1),[w,N]=P.useState(!1),[S,y]=P.useState([]),[E,T]=P.useState(""),[A,I]=P.useState(!1),[_,k]=P.useState({primaryColor:"",secondaryColor:"",accentColor:"",homeTitle:"",showLogoInHeader:!0,logoURL:"",faviconURL:"",headingFontFamily:"",bodyFontFamily:""}),[M,R]=P.useState("");P.useEffect(()=>{O(),p(dl(t.companyId)),v(dl(t.companyId))},[t.companyId]);const O=()=>{const q=ji(t.companyId);q&&(n(q),k({primaryColor:q.primaryColor||"#2563eb",secondaryColor:q.secondaryColor||"#f8fafc",accentColor:q.accentColor||"#1d4ed8",homeTitle:q.homeTitle||"",showLogoInHeader:q.showLogoInHeader??!0,logoURL:q.logoURL||"",faviconURL:q.faviconURL||"",headingFontFamily:q.headingFontFamily||"",bodyFontFamily:q.bodyFontFamily||""}),R(q.geminiApiKey||""),y(vq(q.id)));const ee=RP(t.companyId);l(ee)},B=async q=>{if(q.preventDefault(),!!e){i(!0);try{const ee={...e,..._};f||(delete ee.faviconURL,delete ee.headingFontFamily,delete ee.bodyFontFamily),await fl(ee),window.location.reload()}catch(ee){console.error(ee)}finally{i(!1)}}},$=async q=>{if(q.preventDefault(),!!e){i(!0);try{await fl({...e,geminiApiKey:M}),alert("AI settings saved.")}catch(ee){console.error(ee)}finally{i(!1)}}},F=async q=>{window.confirm("Disable this link?")&&(await uB(q),O())},L=async q=>{if(q.preventDefault(),!(!E||!e)){I(!0);try{await xq(e.id,E),T(""),O()}catch(ee){alert(ee.message)}finally{I(!1)}}},z=async q=>{I(!0);try{(await yq(q)).isVerified?alert("Domain verified successfully!"):alert("Verification failed. Please check your DNS settings."),O()}catch(ee){alert(ee.message)}finally{I(!1)}},J=async q=>{window.confirm("Remove this domain?")&&(await bq(q),O())};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Bb,{isOpen:w,onClose:()=>N(!1),featureName:"Pro Features",message:"This feature is available in the Pro plan."}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Company Settings"}),s.jsxs("div",{className:"flex gap-2 items-center mt-1",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Manage configuration."}),e.inviteCode&&s.jsxs("span",{className:"text-xs bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded font-mono border border-indigo-100",children:["Invite Code: ",s.jsx("strong",{children:e.inviteCode})]})]})]}),s.jsxs("div",{className:"flex space-x-4 border-b border-slate-200 overflow-x-auto",children:[s.jsx("button",{className:`pb-2 px-1 text-sm font-medium transition-colors whitespace-nowrap ${c==="branding"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,onClick:()=>d("branding"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(PB,{size:16})," Branding"]})}),s.jsx("button",{className:`pb-2 px-1 text-sm font-medium transition-colors whitespace-nowrap ${c==="links"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,onClick:()=>d("links"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gr,{size:16})," Navigation Links"]})}),s.jsx("button",{className:`pb-2 px-1 text-sm font-medium transition-colors whitespace-nowrap ${c==="ai"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,onClick:()=>d("ai"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xs,{size:16})," AI Integration"]})}),s.jsx("button",{className:`pb-2 px-1 text-sm font-medium transition-colors whitespace-nowrap ${c==="domain"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,onClick:()=>d("domain"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tl,{size:16})," Custom Domain"]})})]}),c==="branding"&&s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 max-w-2xl",children:s.jsxs("form",{onSubmit:B,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx(Ae,{label:"Primary Color",type:"color",className:"h-12 p-1 cursor-pointer",value:_.primaryColor,onChange:q=>k({..._,primaryColor:q.target.value})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Header background"})]}),s.jsxs("div",{children:[s.jsx(Ae,{label:"Secondary Color",type:"color",className:"h-12 p-1 cursor-pointer",value:_.secondaryColor,onChange:q=>k({..._,secondaryColor:q.target.value})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Page background"})]}),s.jsxs("div",{children:[s.jsx(Ae,{label:"Accent Color",type:"color",className:"h-12 p-1 cursor-pointer",value:_.accentColor,onChange:q=>k({..._,accentColor:q.target.value})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Buttons & Links"})]})]}),s.jsxs("div",{className:"border-t border-slate-100 pt-6 relative",children:[!f&&s.jsx("div",{className:"absolute inset-0 bg-white/60 z-10 flex items-center justify-center backdrop-blur-[1px]",children:s.jsxs(se,{type:"button",variant:"secondary",onClick:()=>N(!0),className:"shadow-lg",children:[s.jsx(nl,{size:16,className:"mr-2"})," Unlock Typography"]})}),s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-4 flex items-center gap-2",children:[s.jsx(qB,{size:16})," Typography"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Heading Font"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:_.headingFontFamily,onChange:q=>k({..._,headingFontFamily:q.target.value}),disabled:!f,children:m2.map(q=>s.jsx("option",{value:q.value,children:q.label},q.label))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Body Font"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:_.bodyFontFamily,onChange:q=>k({..._,bodyFontFamily:q.target.value}),disabled:!f,children:m2.map(q=>s.jsx("option",{value:q.value,children:q.label},q.label))})]})]})]}),s.jsx(Ae,{label:"Home Screen Title",value:_.homeTitle,onChange:q=>k({..._,homeTitle:q.target.value}),placeholder:"Welcome to Our Intranet"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"showLogo",checked:_.showLogoInHeader,onChange:q=>k({..._,showLogoInHeader:q.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"showLogo",className:"text-sm text-slate-700",children:"Show Company Logo in Header"})]}),s.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[s.jsx(XP,{size:16})," Company Logo"]}),s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ae,{value:_.logoURL,onChange:q=>k({..._,logoURL:q.target.value}),placeholder:"https://example.com/logo.png"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended size: square or horizontal logo. Auto-resizes to header height."})]}),_.logoURL&&s.jsx("div",{className:"h-16 w-16 bg-slate-50 border border-slate-200 rounded-lg flex items-center justify-center p-2",children:s.jsx("img",{src:_.logoURL,alt:"Logo Preview",className:"max-w-full max-h-full object-contain"})})]})]}),s.jsxs("div",{className:"border-t border-slate-100 pt-6 relative",children:[!f&&s.jsx("div",{className:"absolute inset-0 bg-white/60 z-10 flex items-center justify-center backdrop-blur-[1px]",children:s.jsxs(se,{type:"button",variant:"secondary",onClick:()=>N(!0),className:"shadow-lg",children:[s.jsx(nl,{size:16,className:"mr-2"})," Unlock Favicon"]})}),s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[s.jsx(tl,{size:16})," Favicon"]}),s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ae,{value:_.faviconURL,onChange:q=>k({..._,faviconURL:q.target.value}),placeholder:"https://example.com/favicon.ico",disabled:!f}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended size: 16x16 or 32x32 PNG/ICO. This icon appears in the browser tab."})]}),_.faviconURL&&s.jsx("div",{className:"h-10 w-10 bg-slate-50 border border-slate-200 rounded-lg flex items-center justify-center p-1",children:s.jsx("img",{src:_.faviconURL,alt:"Favicon Preview",className:"max-w-full max-h-full object-contain"})})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(se,{type:"submit",isLoading:r,children:[s.jsx(cf,{size:16,className:"mr-2"})," Save Branding Settings"]})})]})}),c==="links"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{to:"/settings/nav-links/new",children:s.jsxs(se,{size:"sm",children:[s.jsx(on,{size:16})," Add Quick Link"]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Label"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Type"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Target"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Order"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.map(q=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:q.label}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:q.targetType}),s.jsx("td",{className:"px-6 py-3 text-slate-500 max-w-xs truncate",children:q.targetURL||q.pageId||q.spaceId||"-"}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:q.displayOrder}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/settings/nav-links/${q.id}/edit`,children:s.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:14})})}),s.jsx("button",{onClick:()=>F(q.id),className:"p-1 text-slate-400 hover:text-red-600",title:"Delete",children:s.jsx(Pi,{size:14})})]})})]},q.id)),a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No quick links found."})})]})]})})]}),c==="ai"&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 max-w-2xl relative",children:[!m&&s.jsx("div",{className:"absolute inset-0 bg-white/60 z-10 flex items-center justify-center backdrop-blur-[1px]",children:s.jsxs("div",{className:"text-center",children:[s.jsxs(se,{type:"button",onClick:()=>N(!0),className:"shadow-lg mb-2",children:[s.jsx(nl,{size:16,className:"mr-2"})," Unlock AI Features"]}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Upgrade to Pro to enable Gemini integration."})]})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(xs,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Google Gemini Integration"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Connect your Gemini API key to enable the AI Assistant."})]})]}),s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsx(Ae,{label:"Gemini API Key",value:M,onChange:q=>R(q.target.value),placeholder:"AIza...",type:"password",disabled:!m}),s.jsx("p",{className:"text-xs text-slate-500",children:"Your key is stored securely and used only for your company's AI queries."}),s.jsx("div",{className:"flex justify-end",children:s.jsx(se,{type:"submit",isLoading:r,disabled:!m,children:"Save API Key"})})]})]}),c==="domain"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 max-w-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:s.jsx(tl,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Custom Domain"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Map your own domain to your intranet."})]})]}),s.jsx("form",{onSubmit:L,className:"space-y-4",children:s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx(Ae,{label:"Add New Domain",placeholder:"intranet.example.com",value:E,onChange:q=>T(q.target.value)}),s.jsx(se,{type:"submit",isLoading:A,children:"Add"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden max-w-4xl",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Domain"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Verification Token"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[S.map(q=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:q.domainName}),s.jsx("td",{className:"px-6 py-4",children:q.isVerified?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(En,{size:12,className:"mr-1"})," Verified"]}):s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[s.jsx($y,{size:12,className:"mr-1"})," Pending"]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-mono text-xs bg-slate-100 p-1 rounded border border-slate-200 inline-block max-w-[200px] truncate",title:q.dnsVerificationToken,children:q.dnsVerificationToken}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"TXT Record: _companyhub-verification"})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!q.isVerified&&s.jsxs(se,{size:"sm",variant:"secondary",onClick:()=>z(q.id),isLoading:A,className:"h-8 text-xs",children:[s.jsx(MB,{size:14,className:"mr-1"})," Verify"]}),s.jsx("button",{onClick:()=>J(q.id),className:"p-1.5 text-slate-400 hover:text-red-600 rounded hover:bg-red-50",title:"Remove",children:s.jsx(Pi,{size:16})})]})})]},q.id)),S.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"No custom domains configured."})})]})]})})]})]}):s.jsx("div",{children:"Loading..."})},h2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState(!1),[l,c]=P.useState(""),[d,f]=P.useState([]),[p,m]=P.useState([]),[v,w]=P.useState({label:"",targetType:Nt.ExternalURL,targetURL:"",pageId:"",spaceId:"",displayOrder:0,isActive:!0});P.useEffect(()=>{if(f(Xr(t.companyId)),m(Fi(t.companyId)),r&&e){const y=oB(e);if(y){if(y.companyId!==t.companyId){n("/settings");return}w({label:y.label,targetType:y.targetType,targetURL:y.targetURL||"",pageId:y.pageId||"",spaceId:y.spaceId||"",displayOrder:y.displayOrder||0,isActive:y.isActive})}else c("Link not found")}},[e,t,n,r]);const N=async y=>{y.preventDefault(),a(!0);try{const E={...v,companyId:t.companyId,targetURL:v.targetType===Nt.ExternalURL||v.targetType===Nt.Other?v.targetURL:void 0,pageId:v.targetType===Nt.Page?v.pageId:void 0,spaceId:v.targetType===Nt.Space?v.spaceId:void 0};r&&e?await cB({...E,id:e}):await lB(E),n("/settings")}catch(E){c(E.message),a(!1)}},S=(y,E)=>{w(T=>({...T,[y]:E}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/settings"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Quick Link":"Add Quick Link"})]}),l&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:l}),s.jsxs("form",{onSubmit:N,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Label",value:v.label,onChange:y=>S("label",y.target.value),placeholder:"e.g. Employee Handbook",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.targetType,onChange:y=>S("targetType",y.target.value),children:[s.jsx("option",{value:Nt.ExternalURL,children:"External URL"}),s.jsx("option",{value:Nt.Page,children:"Internal Page"}),s.jsx("option",{value:Nt.Space,children:"Internal Space"}),s.jsx("option",{value:Nt.Documents,children:"Documents List"}),s.jsx("option",{value:Nt.Announcements,children:"Announcements List"}),s.jsx("option",{value:Nt.Other,children:"Other (Custom URL)"})]})]}),(v.targetType===Nt.ExternalURL||v.targetType===Nt.Other)&&s.jsx(Ae,{label:"URL",value:v.targetURL,onChange:y=>S("targetURL",y.target.value),placeholder:"https://...",required:!0}),v.targetType===Nt.Page&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Page"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.pageId,onChange:y=>S("pageId",y.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a page"}),d.map(y=>s.jsx("option",{value:y.id,children:y.pageTitle},y.id))]})]}),v.targetType===Nt.Space&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.spaceId,onChange:y=>S("spaceId",y.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a space"}),p.map(y=>s.jsx("option",{value:y.id,children:y.spaceName},y.id))]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Order"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.displayOrder,onChange:y=>S("displayOrder",parseInt(y.target.value)),min:"0"})]}),s.jsxs("div",{className:"flex-1 flex items-center pt-6",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:v.isActive,onChange:y=>S("isActive",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/settings"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:i,children:"Save Link"})]})]})]})},Ote=({currentUser:t})=>{ze();const[e,n]=P.useState(null),[r,i]=P.useState({from:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),[a,l]=P.useState(!1);P.useEffect(()=>{dl(t.companyId),c()},[t.companyId,r]);const c=()=>{const d=jq(t.companyId,new Date(r.from),new Date(r.to+"T23:59:59"));n(d)};return a?s.jsx("div",{className:"flex items-center justify-center h-96 animate-fade-in",children:s.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-2xl border border-slate-100 shadow-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(nl,{size:32,className:"text-slate-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Usage Analytics"}),s.jsx("p",{className:"text-slate-500 mb-6",children:"Detailed usage insights are available on the Pro plan."}),s.jsx(se,{onClick:()=>alert("Redirecting to billing..."),children:"Upgrade to Unlock"})]})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Usage Analytics"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Insights into page views and user engagement."})]}),s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded-lg border border-slate-200",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600 px-2",children:"Date Range:"}),s.jsx("input",{type:"date",className:"text-sm border border-slate-300 rounded px-2 py-1",value:r.from,onChange:d=>i({...r,from:d.target.value})}),s.jsx("span",{className:"text-slate-400",children:"-"}),s.jsx("input",{type:"date",className:"text-sm border border-slate-300 rounded px-2 py-1",value:r.to,onChange:d=>i({...r,to:d.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Page Views"}),s.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-2",children:e.totalPageViews})]}),s.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(As,{size:24})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Unique Pages Viewed"}),s.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-2",children:e.uniquePagesViewed})]}),s.jsx("div",{className:"p-3 bg-purple-50 text-purple-600 rounded-lg",children:s.jsx(Qn,{size:24})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Unique Users"}),s.jsx("h3",{className:"text-3xl font-bold text-slate-900 mt-2",children:e.uniqueUsers})]}),s.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-lg",children:s.jsx(ys,{size:24})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-100 font-bold text-slate-900",children:"Top Pages"}),s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Page Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Space"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-right",children:"Views"}),s.jsx("th",{className:"px-6 py-3"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.topPages.map((d,f)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900 truncate max-w-xs",title:d.pageTitle,children:d.pageTitle}),s.jsx("td",{className:"px-6 py-3 text-slate-500",children:d.spaceName}),s.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-900",children:d.viewCount}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsxs(ie,{to:`/pages/${d.pageId}`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium flex items-center justify-end gap-1",children:["Open ",s.jsx(xa,{size:12})]})})]},f)),e.topPages.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"No page views in this period."})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-100 font-bold text-slate-900",children:"Top Active Users"}),s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold",children:"User"}),s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Role"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-right",children:"Views"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.activeUsers.map((d,f)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-3",children:[s.jsx("div",{className:"font-medium text-slate-900",children:d.userName}),s.jsx("div",{className:"text-xs text-slate-500",children:d.userEmail})]}),s.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs",children:d.roleName}),s.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-900",children:d.viewCount})]},f)),e.activeUsers.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-slate-500",children:"No active users in this period."})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-100 font-bold text-slate-900",children:"Views by Role"}),s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Role"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-right",children:"Total Views"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.viewsByRole.map((d,f)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:d.roleName}),s.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:d.viewCount})]},f)),e.viewsByRole.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:2,className:"px-6 py-8 text-center text-slate-500",children:"No data."})})]})]})]})]})]})]}):s.jsx("div",{className:"p-8 text-center",children:"Loading analytics..."})},Lte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState(""),[c,d]=P.useState(""),[f,p]=P.useState(""),[m,v]=P.useState(!1);P.useEffect(()=>{const S=Li(t.companyId).filter(E=>E.status==="active");n(S);const y=ec(t.companyId).filter(E=>E.isActive);i(y)},[t.companyId]);const w=e.filter(S=>{if(a){const y=a.toLowerCase();if(!(S.fullName.toLowerCase().includes(y)||S.email.toLowerCase().includes(y)))return!1}if(f&&S.role!==f)return!1;if(c)if(S.departmentId){if(S.departmentId!==c)return!1}else{const y=r.find(E=>E.id===c);if(!y||S.department.toLowerCase()!==y.name.toLowerCase())return!1}return!0}),N=S=>{if(S.departmentId){const y=r.find(E=>E.id===S.departmentId);if(y)return y.name}return S.department};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-fade-in",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(mn,{size:18,className:"text-blue-600"})," Filters"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Department"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>d(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${c?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Departments"}),r.map(S=>s.jsx("button",{onClick:()=>d(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${c===S.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Role"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>p(""),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${f?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Roles"}),Object.values(le).map(S=>s.jsx("button",{onClick:()=>p(S),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${f===S?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:S},S))]})]})]})]})}),s.jsxs("main",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"People Directory"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Find and connect with colleagues."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",value:a,onChange:S=>l(S.target.value)})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx("button",{onClick:()=>v(!m),className:`h-full px-4 rounded-lg border flex items-center gap-2 transition-colors ${m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-700"}`,children:s.jsx(mn,{size:18})})})]}),m&&s.jsxs("div",{className:"lg:hidden p-4 bg-white border border-slate-200 rounded-xl shadow-sm space-y-4 animate-in slide-in-from-top-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Department"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:c,onChange:S=>d(S.target.value),children:[s.jsx("option",{value:"",children:"All Departments"}),r.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Role"}),s.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg bg-white text-sm",value:f,onChange:S=>p(S.target.value),children:[s.jsx("option",{value:"",children:"All Roles"}),Object.values(le).map(S=>s.jsx("option",{value:S,children:S},S))]})]})]})]}),s.jsx("div",{className:"hidden lg:block bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Designation"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Department"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Connect"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Action"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[w.map(S=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center shrink-0 text-indigo-600 font-bold",children:S.fullName.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900",children:S.fullName}),s.jsxs("div",{className:"text-slate-500 text-xs flex items-center gap-1",children:[s.jsx(rl,{size:10})," ",S.email]})]})]})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:S.designation}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:N(S)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("a",{href:`mailto:${S.email}`,className:"p-1.5 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 transition-colors",title:"Send Email",children:s.jsx(rl,{size:16})}),S.whatsappNumber?s.jsx("a",{href:`https://wa.me/${S.whatsappNumber}`,target:"_blank",rel:"noreferrer",className:"p-1.5 bg-green-50 text-green-600 rounded hover:bg-green-100 transition-colors",title:"Chat on WhatsApp",children:s.jsx(ku,{size:16})}):s.jsx("span",{className:"p-1.5 text-slate-300 cursor-not-allowed",title:"No number available",children:s.jsx(ku,{size:16})})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx(ie,{to:`/directory/${S.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs h-8 px-3",children:"Profile"})})})]},S.id)),w.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No users found."})})]})]})})}),s.jsxs("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.map(S=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:border-blue-300 transition-all",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"h-14 w-14 rounded-full bg-indigo-100 flex items-center justify-center shrink-0 text-indigo-600 font-bold text-xl",children:S.fullName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-slate-900 truncate text-lg",children:S.fullName}),s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:S.designation}),s.jsx("div",{className:"mt-1 text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded inline-block",children:N(S)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-3 border-t border-slate-100",children:[s.jsxs("a",{href:`mailto:${S.email}`,className:"flex items-center justify-center gap-2 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100",children:[s.jsx(rl,{size:16})," Email"]}),S.whatsappNumber?s.jsxs("a",{href:`https://wa.me/${S.whatsappNumber}`,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 py-2 bg-green-50 text-green-700 rounded-lg text-sm font-medium hover:bg-green-100",children:[s.jsx(ku,{size:16})," WhatsApp"]}):s.jsxs("button",{disabled:!0,className:"flex items-center justify-center gap-2 py-2 bg-slate-50 text-slate-400 rounded-lg text-sm font-medium cursor-not-allowed",children:[s.jsx(ku,{size:16})," No Number"]})]}),s.jsx(ie,{to:`/directory/${S.id}`,className:"block mt-2 text-center",children:s.jsx(se,{variant:"ghost",className:"w-full text-xs",children:"View Full Profile"})})]},S.id)),w.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-slate-500 italic bg-slate-50 rounded-xl border border-dashed border-slate-200",children:"No users found."})]})]})]})},Fte=({currentUser:t})=>{const{userId:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(""),[c,d]=P.useState([]);return P.useEffect(()=>{if(!e)return;const f=Xt(e);if(!f||f.companyId!==t.companyId){n("/directory");return}if(i(f),f.departmentId){const w=ec(t.companyId).find(N=>N.id===f.departmentId);l(w?w.name:f.department)}else l(f.department);const m=va(e).map(v=>{const w=Xn(v.spaceId);return w?{spaceName:w.spaceName,role:v.roleInSpace}:null}).filter(Boolean);d(m)},[e,t.companyId,n]),r?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{to:"/directory",className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Profile"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-32 w-full"}),s.jsxs("div",{className:"px-8 pb-8",children:[s.jsx("div",{className:"relative -mt-16 mb-6",children:s.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white bg-slate-200 flex items-center justify-center text-4xl font-bold text-slate-500",children:r.fullName.charAt(0)})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:r.fullName}),s.jsx("p",{className:"text-lg text-slate-500",children:r.designation})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(rl,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Email"}),s.jsx("p",{className:"font-medium",children:r.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:s.jsx(Uy,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Department"}),s.jsx("p",{className:"font-medium",children:a})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:s.jsx(js,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Role"}),s.jsx("p",{className:"font-medium",children:r.role})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:s.jsx(qy,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:"Status"}),s.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-bold uppercase ${r.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:r.status})]})]})]})]})]}),c.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 font-bold text-slate-900 text-lg",children:[s.jsx(Tr,{size:20,className:"text-indigo-500"}),s.jsx("h3",{children:"Spaces"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((f,p)=>s.jsxs("div",{className:"p-3 border border-slate-100 rounded-lg flex justify-between items-center bg-slate-50",children:[s.jsx("span",{className:"font-medium text-slate-800",children:f.spaceName}),s.jsx("span",{className:"text-xs text-slate-500 bg-white px-2 py-1 rounded border border-slate-200",children:f.role})]},p))})]})]}):s.jsx("div",{children:"Loading..."})},$te=({currentUser:t})=>{const[e,n]=P.useState([]);P.useEffect(()=>{r()},[t.companyId]);const r=()=>{n(ec(t.companyId))},i=async a=>{window.confirm("Disable this department? Users linked to it will remain, but it will be hidden from new selections.")&&(await qq(a),r())};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Departments"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage company departments structure."})]}),s.jsx(ie,{to:"/departments/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Add Department"]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Description"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Order"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.map(a=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:a.name}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.displayOrder}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:a.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/departments/${a.id}/edit`,children:s.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:16})})}),a.isActive&&s.jsx("button",{onClick:()=>i(a.id),className:"p-1 text-slate-400 hover:text-red-600",title:"Disable",children:s.jsx(_s,{size:16})})]})})]},a.id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No departments found."})})]})]})})})]})},g2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState(!1),[l,c]=P.useState(""),[d,f]=P.useState({name:"",description:"",displayOrder:0,isActive:!0});P.useEffect(()=>{if(r&&e){const v=TE(e);if(v){if(v.companyId!==t.companyId){n("/settings");return}f({name:v.name,description:v.description||"",displayOrder:v.displayOrder||0,isActive:v.isActive})}else c("Department not found")}},[e,t,n,r]);const p=async v=>{v.preventDefault(),a(!0);try{const w={...d,companyId:t.companyId};if(r&&e){await AE({...w,id:e,createdOn:new Date().toISOString()});const N=TE(e);N&&await AE({...N,...w})}else await Uq(w);n("/departments")}catch(w){c(w.message),a(!1)}},m=(v,w)=>{f(N=>({...N,[v]:w}))};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/departments"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Department":"Add Department"})]}),l&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:l}),s.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Department Name",value:d.name,onChange:v=>m("name",v.target.value),placeholder:"e.g. Engineering, Marketing",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:d.description,onChange:v=>m("description",v.target.value),placeholder:"Brief description of responsibilities..."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Order"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d.displayOrder,onChange:v=>m("displayOrder",parseInt(v.target.value)),min:"0"})]}),s.jsxs("div",{className:"flex-1 flex items-center pt-6",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:v=>m("isActive",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/departments"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:i,children:"Save Department"})]})]})]})},Ute=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState([]),[c,d]=P.useState(!1),[f,p]=P.useState({}),[m,v]=P.useState({}),[w,N]=P.useState({});if(P.useEffect(()=>{dl(t.companyId);const E=Cs(t.companyId).filter(L=>L.isActive),T=Fi(t.companyId),A=Xr(t.companyId),I=Li(t.companyId),_={};T.forEach(L=>_[L.id]=L.spaceName),p(_);const k={};A.forEach(L=>k[L.id]=L.pageTitle),v(k);const M={};I.forEach(L=>M[L.id]=L.fullName),N(M);const R=new Date;R.setHours(0,0,0,0);const O=new Date(R);O.setDate(R.getDate()+30);const B=[],$=[],F=[];E.forEach(L=>{if(L.isPolicy&&F.push(L),L.expiryDate){new Date(L.expiryDate);const z=L.expiryDate.split("-"),J=new Date(Number(z[0]),Number(z[1])-1,Number(z[2]));J<R?B.push(L):J>=R&&J<=O&&$.push(L)}}),n(B),i($),l(F)},[t.companyId]),c)return s.jsx("div",{className:"flex items-center justify-center h-96 animate-fade-in",children:s.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-2xl border border-slate-100 shadow-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(nl,{size:32,className:"text-slate-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Policy Management"}),s.jsx("p",{className:"text-slate-500 mb-6",children:"Advanced policy tracking and expiry alerts are available on the Pro plan."}),s.jsx(se,{onClick:()=>alert("Redirecting to billing..."),children:"Upgrade to Pro"})]})});const S=E=>{switch(E){case fs.High:return"text-red-600 bg-red-50 border-red-200";case fs.Medium:return"text-amber-600 bg-amber-50 border-amber-200";case fs.Low:return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-slate-600 bg-slate-50 border-slate-200"}},y=({docs:E,showExpiry:T})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Location"}),T&&s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Expiry Date"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Importance"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700 text-right",children:"Action"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[E.map(A=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-3 font-medium text-slate-900",children:[s.jsx(ie,{to:`/documents/${A.id}`,className:"hover:text-blue-600 hover:underline",children:A.title}),s.jsx("div",{className:"text-xs text-slate-500",children:A.itemType})]}),s.jsxs("td",{className:"px-6 py-3 text-slate-600",children:[s.jsx("div",{children:f[A.spaceId]}),A.pageId&&s.jsx("div",{className:"text-xs text-slate-400",children:m[A.pageId]})]}),T&&s.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:A.expiryDate}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium border ${S(A.importanceLevel)}`,children:A.importanceLevel||"Medium"})}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:w[A.ownerUserId||""]||"-"}),s.jsx("td",{className:"px-6 py-3 text-right",children:s.jsx(ie,{to:`/documents/${A.id}`,children:s.jsxs(se,{variant:"ghost",className:"text-xs py-1 h-auto",children:["Open ",s.jsx(xa,{size:12,className:"ml-1"})]})})})]},A.id)),E.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:T?6:5,className:"px-6 py-6 text-center text-slate-500 italic",children:"No documents found."})})]})]})});return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Document & Policy Dashboard"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Track expirations and critical company policies."})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2 bg-red-50",children:[s.jsx(Na,{className:"text-red-600",size:20}),s.jsx("h2",{className:"font-bold text-red-900",children:"Expired Documents"}),s.jsx("span",{className:"ml-auto bg-red-200 text-red-800 text-xs font-bold px-2 py-1 rounded-full",children:e.length})]}),s.jsx(y,{docs:e,showExpiry:!0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2 bg-amber-50",children:[s.jsx(GP,{className:"text-amber-600",size:20}),s.jsx("h2",{className:"font-bold text-amber-900",children:"Expiring Soon (Next 30 Days)"}),s.jsx("span",{className:"ml-auto bg-amber-200 text-amber-800 text-xs font-bold px-2 py-1 rounded-full",children:r.length})]}),s.jsx(y,{docs:r,showExpiry:!0})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2 bg-blue-50",children:[s.jsx(ml,{className:"text-blue-600",size:20}),s.jsx("h2",{className:"font-bold text-blue-900",children:"Key Policies"}),s.jsx("span",{className:"ml-auto bg-blue-200 text-blue-800 text-xs font-bold px-2 py-1 rounded-full",children:a.length})]}),s.jsx(y,{docs:a,showExpiry:!0})]})]})]})},qte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState([]),[c,d]=P.useState([]);P.useEffect(()=>{f()},[t]);const f=()=>{const N=DP(t.id);n(N);const S=[],y=[],E=[];N.forEach(T=>{if(T.entityType===We.Page){const A=Es(T.entityId);A&&S.push(A)}else if(T.entityType===We.DocumentItem){const A=nc(T.entityId);A&&y.push(A)}else if(T.entityType===We.Space){const A=Xn(T.entityId);A&&E.push(A)}}),i(S),l(y),d(E)},p=async N=>{await af(t.companyId,t.id,N.entityType,N.entityId),f()},m=e.filter(N=>N.entityType===We.Page),v=e.filter(N=>N.entityType===We.DocumentItem),w=e.filter(N=>N.entityType===We.Space);return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"My Favorites"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Quick access to your important items."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800 border-b border-slate-200 pb-2",children:[s.jsx(Qn,{className:"text-blue-500",size:20}),s.jsx("h2",{children:"Favorite Pages"})]}),m.length===0?s.jsx("p",{className:"text-slate-500 text-sm italic",children:"No pages favorited yet."}):s.jsx("div",{className:"space-y-2",children:m.map(N=>{const S=r.find(y=>y.id===N.entityId);return S?s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex items-center justify-between group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ie,{to:`/pages/${S.id}`,className:"font-medium text-slate-900 hover:text-blue-600 block truncate",children:S.pageTitle}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(S.updatedOn).toLocaleDateString()})]}),s.jsx("button",{onClick:()=>p(N),className:"text-slate-300 hover:text-red-500 p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Pi,{size:14})})]},N.id):null})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800 border-b border-slate-200 pb-2",children:[s.jsx(Gr,{className:"text-emerald-500",size:20}),s.jsx("h2",{children:"Favorite Documents"})]}),v.length===0?s.jsx("p",{className:"text-slate-500 text-sm italic",children:"No documents favorited yet."}):s.jsx("div",{className:"space-y-2",children:v.map(N=>{const S=a.find(y=>y.id===N.entityId);return S?s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex items-center justify-between group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ie,{to:`/documents/${S.id}`,className:"font-medium text-slate-900 hover:text-blue-600 block truncate",children:S.title}),s.jsx("p",{className:"text-xs text-slate-500",children:S.itemType})]}),s.jsx("button",{onClick:()=>p(N),className:"text-slate-300 hover:text-red-500 p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Pi,{size:14})})]},N.id):null})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800 border-b border-slate-200 pb-2",children:[s.jsx(Tr,{className:"text-indigo-500",size:20}),s.jsx("h2",{children:"Favorite Spaces"})]}),w.length===0?s.jsx("p",{className:"text-slate-500 text-sm italic",children:"No spaces favorited yet."}):s.jsx("div",{className:"space-y-2",children:w.map(N=>{const S=c.find(y=>y.id===N.entityId);return S?s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex items-center justify-between group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ie,{to:`/pages?spaceId=${S.id}`,className:"font-medium text-slate-900 hover:text-blue-600 block truncate",children:S.spaceName}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:S.description})]}),s.jsx("button",{onClick:()=>p(N),className:"text-slate-300 hover:text-red-500 p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Pi,{size:14})})]},N.id):null})})]})]})]})},Bte=({currentUser:t})=>{const[e,n]=P.useState([]);P.useEffect(()=>{r()},[t.companyId]);const r=()=>{n(FP(t.companyId))},i=async a=>{window.confirm("Disable this template? It will no longer be available for new pages.")&&(await pB(a),r())};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Page Templates"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage standard templates for creating pages."})]}),s.jsx(ie,{to:"/templates/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Add Template"]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Template Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Description"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Default Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Created"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.map(a=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:a.templateName}),s.jsx("td",{className:"px-6 py-4 text-slate-600 max-w-xs truncate",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.defaultStatus}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:a.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4 text-slate-500 text-xs",children:new Date(a.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/templates/${a.id}/edit`,children:s.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:16})})}),a.isActive&&s.jsx("button",{onClick:()=>i(a.id),className:"p-1 text-slate-400 hover:text-red-600",title:"Disable",children:s.jsx(_s,{size:16})})]})})]},a.id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No templates found."})})]})]})})})]})},v2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState([]),[l,c]=P.useState(!1),[d,f]=P.useState(""),[p,m]=P.useState({templateName:"",description:"",defaultTitlePrefix:"",defaultSummary:"",defaultContent:"",defaultStatus:"Draft",recommendedSpaceId:"",isActive:!0});P.useEffect(()=>{if(t.role!=="CompanyAdmin"){n("/");return}if(a(Fi(t.companyId)),r&&e){const N=jE(e);if(N){if(N.companyId!==t.companyId){n("/templates");return}m({templateName:N.templateName,description:N.description||"",defaultTitlePrefix:N.defaultTitlePrefix||"",defaultSummary:N.defaultSummary||"",defaultContent:N.defaultContent||"",defaultStatus:N.defaultStatus,recommendedSpaceId:N.recommendedSpaceId||"",isActive:N.isActive})}else f("Template not found")}},[e,t,n,r]);const v=async N=>{N.preventDefault(),c(!0);try{const S={...p,companyId:t.companyId,createdBy:t.id};if(r&&e){await IE({...S,id:e,createdOn:new Date().toISOString()});const y=jE(e);y&&await IE({...y,...S})}else await fB(S);n("/templates")}catch(S){f(S.message),c(!1)}},w=(N,S)=>{m(y=>({...y,[N]:S}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/templates"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Template":"Create Template"})]}),d&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:d}),s.jsxs("form",{onSubmit:v,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Template Name",value:p.templateName,onChange:N=>w("templateName",N.target.value),placeholder:"e.g. Monthly Report, Meeting Minutes",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-20 resize-none",value:p.description,onChange:N=>w("description",N.target.value),placeholder:"What is this template for?"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ae,{label:"Default Title Prefix",value:p.defaultTitlePrefix,onChange:N=>w("defaultTitlePrefix",N.target.value),placeholder:"e.g. 'Meeting: '"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.defaultStatus,onChange:N=>w("defaultStatus",N.target.value),children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"})]})]})]}),s.jsx(Ae,{label:"Default Summary",value:p.defaultSummary,onChange:N=>w("defaultSummary",N.target.value),placeholder:"Starter summary text..."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Content (Starter Text)"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-64 font-mono text-sm",value:p.defaultContent,onChange:N=>w("defaultContent",N.target.value),placeholder:`# Heading

Starter content...`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recommended Space (Optional)"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.recommendedSpaceId,onChange:N=>w("recommendedSpaceId",N.target.value),children:[s.jsx("option",{value:"",children:"None"}),i.map(N=>s.jsx("option",{value:N.id,children:N.spaceName},N.id))]})]}),s.jsxs("div",{className:"flex items-center pt-6",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:N=>w("isActive",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active (Available for use)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/templates"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:l,children:"Save Template"})]})]})]})},zte=({currentUser:t})=>{const e=ze(),[n]=qa(),r=n.get("spaceId"),[i,a]=P.useState([]),[l,c]=P.useState([]),[d,f]=P.useState(1),[p,m]=P.useState(null),[v,w]=P.useState({pageTitle:"",summary:"",content:"",status:"Draft",spaceId:""}),[N,S]=P.useState(!1),[y,E]=P.useState("");P.useEffect(()=>{const _=FP(t.companyId);a(_.filter(R=>R.isActive));const M=Yn(t.companyId,t.id).filter(R=>t.role===le.CompanyAdmin?!0:at(R.id,t.id)===qe.SpaceManager);c(M),r&&M.find(R=>R.id===r)?w(R=>({...R,spaceId:r})):M.length>0},[t]);const T=_=>{m(_);let k=v.spaceId;!k&&_.recommendedSpaceId&&l.find(M=>M.id===_.recommendedSpaceId)&&(k=_.recommendedSpaceId),!k&&l.length>0&&(k=l[0].id),w({pageTitle:_.defaultTitlePrefix||"",summary:_.defaultSummary||"",content:_.defaultContent||"",status:_.defaultStatus,spaceId:k}),f(2)},A=async _=>{if(_.preventDefault(),!v.spaceId){E("Please select a space");return}S(!0);try{const k=await kP({...v,companyId:t.companyId,createdBy:t.id,updatedBy:t.id});e(`/pages/${k.id}`)}catch(k){E(k.message),S(!1)}},I=(_,k)=>{w(M=>({...M,[_]:k}))};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>{d===2?f(1):e("/pages")},className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Create Page from Template"})]}),d===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(_=>s.jsxs("div",{onClick:()=>T(_),className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:border-blue-500 hover:shadow-md cursor-pointer transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(Qn,{size:24})}),s.jsx("h3",{className:"font-bold text-slate-900",children:_.templateName})]}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-3 mb-4",children:_.description}),s.jsxs("div",{className:"text-xs text-slate-400",children:["Default Status: ",s.jsx("span",{className:"font-medium text-slate-600",children:_.defaultStatus})]})]},_.id)),i.length===0&&s.jsxs("div",{className:"col-span-full py-12 text-center text-slate-500",children:["No active templates found.",s.jsx(se,{variant:"ghost",onClick:()=>e("/pages/new"),className:"ml-2",children:"Create Blank Page"})]})]}),d===2&&p&&s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[y&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:y}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.spaceId,onChange:_=>I("spaceId",_.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a space"}),l.map(_=>s.jsx("option",{value:_.id,children:_.spaceName},_.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v.status,onChange:_=>I("status",_.target.value),children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"})]})]})]}),s.jsx(Ae,{label:"Page Title",value:v.pageTitle,onChange:_=>I("pageTitle",_.target.value),placeholder:"Enter page title",required:!0,autoFocus:!0}),s.jsx(Ae,{label:"Summary",value:v.summary,onChange:_=>I("summary",_.target.value),placeholder:"Brief description"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),s.jsx("textarea",{className:"w-full h-96 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm leading-relaxed",value:v.content,onChange:_=>I("content",_.target.value),placeholder:"Page content..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>f(1),children:"Back to Templates"}),s.jsx(se,{type:"submit",isLoading:N,children:"Create Page"})]})]})]})},Vte=({currentUser:t})=>{const[e,n]=P.useState(We.Announcement),[r,i]=P.useState(""),[a,l]=P.useState([]),[c,d]=P.useState([]),[f,p]=P.useState([]),[m,v]=P.useState([]);P.useEffect(()=>{t.role===le.CompanyAdmin&&(p(Li(t.companyId)),v(ec(t.companyId)))},[t]),P.useEffect(()=>{if(i(""),d([]),e===We.Announcement){const N=sf(t.companyId).filter(S=>S.isActive);l(N.sort((S,y)=>new Date(y.createdOn).getTime()-new Date(S.createdOn).getTime()))}else{const N=Cs(t.companyId).filter(S=>S.isActive&&S.isPolicy);l(N.sort((S,y)=>new Date(y.createdOn).getTime()-new Date(S.createdOn).getTime()))}},[e,t.companyId]),P.useEffect(()=>{if(!r){d([]);return}const S=dB(r,e).map(y=>{const E=f.find(A=>A.id===y.userId);let T="Unknown";if(E)if(E.departmentId){const A=m.find(I=>I.id===E.departmentId);T=A?A.name:E.department}else T=E.department;return{id:y.id,userName:E?E.fullName:"Unknown User",userEmail:E?E.email:"-",department:T,acknowledgedOn:y.acknowledgedOn}});d(S)},[r,e,f,m]);const w=a.find(N=>N.id===r);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Acknowledgement Report"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Track who has read important announcements and policies."})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>n(We.Announcement),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium flex items-center justify-center gap-2 ${e===We.Announcement?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[s.jsx(vs,{size:16})," Announcements"]}),s.jsxs("button",{onClick:()=>n(We.DocumentItem),className:`flex-1 py-2 px-4 rounded-lg border text-sm font-medium flex items-center justify-center gap-2 ${e===We.DocumentItem?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[s.jsx(Qn,{size:16})," Policies / Documents"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Item"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:N=>i(N.target.value),children:[s.jsx("option",{value:"",children:"-- Choose an item --"}),a.map(N=>s.jsxs("option",{value:N.id,children:["title"in N?N.title:"Untitled"," (",new Date(N.createdOn).toLocaleDateString(),")"]},N.id))]})]})]})}),r&&w&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"title"in w?w.title:"Untitled"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[s.jsxs("span",{children:["Created: ",new Date(w.createdOn).toLocaleDateString()]}),s.jsxs("span",{children:["Type: ",e]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-lg text-sm font-bold",children:[s.jsx(En,{size:18}),"Total Acknowledgements: ",c.length]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"User"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Email"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Department"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Acknowledged On"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[c.map(N=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:N.userName}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:N.userEmail}),s.jsx("td",{className:"px-6 py-3 text-slate-600",children:N.department}),s.jsx("td",{className:"px-6 py-3 text-slate-600 font-mono text-xs",children:new Date(N.acknowledgedOn).toLocaleString()})]},N.id)),c.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500 italic",children:"No acknowledgements recorded yet."})})]})]})})]})]})},Gte=({currentUser:t})=>{var N;const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState(""),[c,d]=P.useState(""),[f,p]=P.useState(null);P.useEffect(()=>{n(of(t.companyId).filter(S=>S.isActive)),i(sd(t.companyId).filter(S=>S.isActive))},[t.companyId]);const m=r.filter(S=>{if(a){const y=a.toLowerCase();if(!(S.title.toLowerCase().includes(y)||S.question&&S.question.toLowerCase().includes(y)||S.answer.toLowerCase().includes(y)||S.tags&&S.tags.toLowerCase().includes(y)))return!1}return!(c&&S.categoryId!==c)}),v=r.filter(S=>S.isFeatured),w=S=>{p(f===S?null:S)};return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center max-w-2xl mx-auto space-y-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"How can we help you?"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-4 text-lg border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow",placeholder:"Search for answers...",value:a,onChange:S=>l(S.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[s.jsx("h3",{className:"font-bold text-slate-900 mb-4 px-2",children:"Categories"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>d(""),className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700"}`,children:"All Categories"}),e.map(S=>s.jsx("button",{onClick:()=>d(S.id),className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c===S.id?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:S.name},S.id))]})]})}),s.jsxs("main",{className:"lg:col-span-3 space-y-8",children:[!a&&!c&&v.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"text-yellow-500 fill-current",size:20}),s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Featured Articles"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.slice(0,4).map(S=>s.jsxs("div",{onClick:()=>{d(S.categoryId),p(S.id)},className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[s.jsx("h3",{className:"font-medium text-slate-900 group-hover:text-blue-600",children:S.title}),s.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:S.question||S.answer})]},S.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(BP,{className:"text-slate-400",size:20}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:c?(N=e.find(S=>S.id===c))==null?void 0:N.name:"All Articles"}),s.jsxs("span",{className:"text-sm text-slate-500 font-normal ml-2",children:["(",m.length,")"]})]}),m.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:[s.jsx(YP,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{className:"text-slate-500",children:"No articles found matching your criteria."})]}):s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100 overflow-hidden",children:m.map(S=>{var y;return s.jsxs("div",{className:"group",children:[s.jsxs("button",{onClick:()=>w(S.id),className:`w-full text-left px-6 py-4 flex items-start justify-between hover:bg-slate-50 transition-colors focus:outline-none ${f===S.id?"bg-slate-50":""}`,children:[s.jsxs("div",{children:[s.jsx("h3",{className:`font-medium text-lg ${f===S.id?"text-blue-600":"text-slate-900"}`,children:S.title}),S.question&&s.jsx("p",{className:"text-slate-500 mt-1 font-medium",children:S.question}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-400",children:[!c&&s.jsx("span",{children:(y=e.find(E=>E.id===S.categoryId))==null?void 0:y.name}),S.tags&&s.jsxs("span",{children:[" Tags: ",S.tags]})]})]}),s.jsx("div",{className:"mt-1 text-slate-400",children:f===S.id?s.jsx(VP,{size:20}):s.jsx(NB,{size:20})})]}),f===S.id&&s.jsx("div",{className:"px-6 pb-6 pt-2 text-slate-700 whitespace-pre-wrap leading-relaxed border-t border-slate-100 bg-slate-50/50",children:S.answer})]},S.id)})})]})]})]})]})},Hte=({currentUser:t})=>{const[e,n]=P.useState([]);P.useEffect(()=>{r()},[t.companyId]);const r=()=>{n(of(t.companyId))},i=async a=>{window.confirm("Disable this category?")&&(await $P({...a,isActive:!1}),r())};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Knowledge Categories"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Organize your help content."})]}),s.jsx(ie,{to:"/admin/knowledge-categories/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Add Category"]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Description"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Order"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Created"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.map(a=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:a.name}),s.jsx("td",{className:"px-6 py-4 text-slate-600 max-w-xs truncate",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.displayOrder}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:a.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4 text-slate-500 text-xs",children:new Date(a.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/admin/knowledge-categories/${a.id}/edit`,children:s.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:16})})}),a.isActive&&s.jsx("button",{onClick:()=>i(a),className:"p-1 text-slate-400 hover:text-red-600",title:"Disable",children:s.jsx(_s,{size:16})})]})})]},a.id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No categories found."})})]})]})})})]})},x2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState(!1),[l,c]=P.useState(""),[d,f]=P.useState({name:"",description:"",displayOrder:0,isActive:!0});P.useEffect(()=>{if(t.role!=="CompanyAdmin"){n("/help");return}if(r&&e){const v=PE(e);if(v){if(v.companyId!==t.companyId){n("/admin/knowledge-categories");return}f({name:v.name,description:v.description||"",displayOrder:v.displayOrder||0,isActive:v.isActive})}else c("Category not found")}},[e,t,n,r]);const p=async v=>{v.preventDefault(),a(!0);try{const w={...d,companyId:t.companyId};if(r&&e){const N=PE(e);N&&await $P({...N,...w})}else await mB(w);n("/admin/knowledge-categories")}catch(w){c(w.message),a(!1)}},m=(v,w)=>{f(N=>({...N,[v]:w}))};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/knowledge-categories"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Category":"Add Category"})]}),l&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:l}),s.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Category Name",value:d.name,onChange:v=>m("name",v.target.value),placeholder:"e.g. HR Policies, IT Support",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:d.description,onChange:v=>m("description",v.target.value),placeholder:"What kind of articles go here?"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Order"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d.displayOrder,onChange:v=>m("displayOrder",parseInt(v.target.value)),min:"0"})]}),s.jsxs("div",{className:"flex-1 flex items-center pt-6",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:v=>m("isActive",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/admin/knowledge-categories"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:i,children:"Save Category"})]})]})]})},Wte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,l]=P.useState({}),[c,d]=P.useState({}),[f,p]=P.useState(""),[m,v]=P.useState(""),[w,N]=P.useState("");P.useEffect(()=>{const E=of(t.companyId);i(E);const T={};E.forEach(_=>T[_.id]=_.name),l(T);const A=sd(t.companyId);n(A);const I={};A.forEach(_=>{if(!I[_.createdBy]){const k=Xt(_.createdBy);k&&(I[_.createdBy]=k.fullName)}}),d(I)},[t.companyId]);const S=async E=>{if(!window.confirm("Disable this article?"))return;await UP({...E,isActive:!1});const T=sd(t.companyId);n(T)},y=e.filter(E=>{var T;if(f){const A=f.toLowerCase();if(!E.title.toLowerCase().includes(A)&&!((T=E.tags)!=null&&T.toLowerCase().includes(A)))return!1}if(m&&E.categoryId!==m)return!1;if(w){const A=w==="active";if(E.isActive!==A)return!1}return!0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Knowledge Articles"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage FAQs and help content."})]}),s.jsx(ie,{to:"/admin/knowledge-articles/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Add Article"]})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search title or tags...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:E=>p(E.target.value)})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:[s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:m,onChange:E=>v(E.target.value),children:[s.jsx("option",{value:"",children:"All Categories"}),r.map(E=>s.jsx("option",{value:E.id,children:E.name},E.id))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]}),s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:w,onChange:E=>N(E.target.value),children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Title"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Category"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Featured"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Created By"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[y.map(E=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:E.title}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:a[E.categoryId]||"Unknown"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:E.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4",children:E.isFeatured&&s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Featured"})}),s.jsx("td",{className:"px-6 py-4 text-slate-500 text-xs",children:c[E.createdBy]||"Unknown"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ie,{to:`/admin/knowledge-articles/${E.id}/edit`,children:s.jsx("button",{className:"p-1 text-slate-400 hover:text-blue-600",title:"Edit",children:s.jsx(Dt,{size:16})})}),E.isActive&&s.jsx("button",{onClick:()=>S(E),className:"p-1 text-slate-400 hover:text-red-600",title:"Disable",children:s.jsx(_s,{size:16})})]})})]},E.id)),y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No articles found."})})]})]})})})]})},y2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState(!1),[l,c]=P.useState(""),[d,f]=P.useState([]),[p,m]=P.useState([]),[v,w]=P.useState([]),[N,S]=P.useState({categoryId:"",title:"",question:"",answer:"",relatedSpaceId:"",relatedPageId:"",tags:"",isActive:!0,isFeatured:!1});P.useEffect(()=>{if(t.role!=="CompanyAdmin"){n("/help");return}if(f(of(t.companyId).filter(T=>T.isActive)),m(Fi(t.companyId)),w(Xr(t.companyId)),r&&e){const T=ox(e);if(T){if(T.companyId!==t.companyId){n("/admin/knowledge-articles");return}S({categoryId:T.categoryId,title:T.title,question:T.question||"",answer:T.answer,relatedSpaceId:T.relatedSpaceId||"",relatedPageId:T.relatedPageId||"",tags:T.tags||"",isActive:T.isActive,isFeatured:T.isFeatured})}else c("Article not found")}},[e,t,n,r]);const y=async T=>{if(T.preventDefault(),!N.categoryId){c("Please select a category");return}a(!0);try{const A={...N,companyId:t.companyId,createdBy:t.id,relatedSpaceId:N.relatedSpaceId||void 0,relatedPageId:N.relatedPageId||void 0,question:N.question||void 0};if(r&&e){const I=ox(e);I&&await UP({...I,...A})}else await gB(A);n("/admin/knowledge-articles")}catch(A){c(A.message),a(!1)}},E=(T,A)=>{S(I=>({...I,[T]:A}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/admin/knowledge-articles"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Article":"Create Article"})]}),l&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:l}),s.jsxs("form",{onSubmit:y,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.categoryId,onChange:T=>E("categoryId",T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Category"}),d.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]})]}),s.jsx(Ae,{label:"Title",value:N.title,onChange:T=>E("title",T.target.value),placeholder:"Article Title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question (FAQ Style)"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-20 resize-none",value:N.question,onChange:T=>E("question",T.target.value),placeholder:"e.g. How do I request time off?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Answer"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-40",value:N.answer,onChange:T=>E("answer",T.target.value),placeholder:"Provide the detailed answer here...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Related Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.relatedSpaceId,onChange:T=>E("relatedSpaceId",T.target.value),children:[s.jsx("option",{value:"",children:"None"}),p.map(T=>s.jsx("option",{value:T.id,children:T.spaceName},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Related Page"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.relatedPageId,onChange:T=>E("relatedPageId",T.target.value),children:[s.jsx("option",{value:"",children:"None"}),v.map(T=>s.jsx("option",{value:T.id,children:T.pageTitle},T.id))]})]})]}),s.jsx(Ae,{label:"Tags (comma separated)",value:N.tags,onChange:T=>E("tags",T.target.value),placeholder:"e.g. hr, policy, leave"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:N.isActive,onChange:T=>E("isActive",T.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active (Visible)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isFeatured",checked:N.isFeatured,onChange:T=>E("isFeatured",T.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isFeatured",className:"text-sm text-slate-700 font-medium",children:"Featured Article"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/admin/knowledge-articles"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:i,children:"Save Article"})]})]})]})},Kte=({currentUser:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState(""),[a,l]=P.useState(!1),[c,d]=P.useState(""),[f,p]=P.useState(new Set);P.useEffect(()=>{(()=>{const N=Fy(t.companyId),S=Yn(t.companyId,t.id),y=new Set(S.map(T=>T.id));p(y);const E=N.filter(T=>!!(t.role===le.CompanyAdmin||T.isPublic||T.spaceId&&y.has(T.spaceId)));n(E.sort((T,A)=>new Date(T.startDateTime).getTime()-new Date(A.startDateTime).getTime()))})()},[t]);const m=t.role===le.CompanyAdmin||f.size>0,v=e.filter(w=>{const N=new Date(w.startDateTime),S=new Date;return S.setHours(0,0,0,0),!(!a&&N<S||r&&w.eventType!==r||c&&!w.title.toLowerCase().includes(c.toLowerCase()))});return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-fade-in",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[s.jsx(mn,{size:18,className:"text-blue-600"})," Filters"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Event Type"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>i(""),className:`w-full text-left px-2 py-1.5 rounded text-sm ${r?"text-slate-600 hover:bg-slate-50":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Types"}),Object.values(Sa).map(w=>s.jsx("button",{onClick:()=>i(w),className:`w-full text-left px-2 py-1.5 rounded text-sm ${r===w?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:w},w))]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a,onChange:w=>l(w.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),"Show Past Events"]})})]})]})}),s.jsxs("main",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Events Calendar"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Upcoming company events and important dates."})]}),m&&s.jsx(ie,{to:"/events/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Create Event"]})})]}),s.jsx("div",{className:"bg-white p-2 rounded-xl border border-slate-200 shadow-sm",children:s.jsx("input",{type:"text",placeholder:"Search events...",className:"w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:w=>d(w.target.value)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.map(w=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow flex flex-col group overflow-hidden",children:[w.eventBannerURL&&s.jsx("div",{className:"h-32 w-full",children:s.jsx("img",{src:w.eventBannerURL,alt:w.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6 flex gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center bg-blue-50 rounded-lg p-4 min-w-[80px] border border-blue-100 text-blue-700 h-fit",children:[s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:new Date(w.startDateTime).toLocaleString("default",{month:"short"})}),s.jsx("span",{className:"text-3xl font-bold",children:new Date(w.startDateTime).getDate()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-slate-100 text-slate-600 border border-slate-200",children:w.eventType}),s.jsx("span",{className:"text-xs text-slate-400",children:w.isAllDay?"All Day":new Date(w.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1 group-hover:text-blue-600 transition-colors",children:s.jsx(ie,{to:`/events/${w.id}`,children:w.title})}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-3",children:w.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[w.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qy,{size:14})," ",w.location]}),s.jsxs(ie,{to:`/events/${w.id}`,className:"ml-auto text-blue-600 font-medium flex items-center gap-1 hover:underline",children:["Details ",s.jsx(xa,{size:14})]})]})]})]})]},w.id)),v.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-slate-500",children:"No events found matching your criteria."})]})]})]})},b2=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),r=!!e,[i,a]=P.useState([]),[l,c]=P.useState(!1),[d,f]=P.useState(""),[p,m]=P.useState({title:"",description:"",eventType:Sa.CompanyEvent,startDateTime:"",endDateTime:"",location:"",spaceId:"",isAllDay:!1,isPublic:!0,isActive:!0,eventBannerURL:""});P.useEffect(()=>{const S=Yn(t.companyId,t.id).filter(E=>t.role===le.CompanyAdmin?!0:at(E.id,t.id)===qe.SpaceManager);if(a(S),!(t.role===le.CompanyAdmin||t.role===le.SpaceManager)&&S.length===0){n("/events");return}if(r&&e){const E=lx(e);if(E){if(E.companyId!==t.companyId){n("/events");return}t.role===le.CompanyAdmin||E.spaceId&&at(E.spaceId,t.id)===qe.SpaceManager||f("You do not have permission to edit this event."),m({title:E.title,description:E.description||"",eventType:E.eventType,startDateTime:E.startDateTime.slice(0,16),endDateTime:E.endDateTime?E.endDateTime.slice(0,16):"",location:E.location||"",spaceId:E.spaceId||"",isAllDay:E.isAllDay,isPublic:E.isPublic,isActive:E.isActive,eventBannerURL:E.eventBannerURL||""})}else f("Event not found")}},[e,t,n,r]);const v=async N=>{N.preventDefault(),c(!0);try{if(!p.startDateTime)throw new Error("Start date is required");const S={...p,companyId:t.companyId,createdBy:t.id,spaceId:p.spaceId||void 0,startDateTime:new Date(p.startDateTime).toISOString(),endDateTime:p.endDateTime?new Date(p.endDateTime).toISOString():void 0};if(r&&e){const y=lx(e);y&&await qP({...y,...S})}else await vB(S);n("/events")}catch(S){f(S.message),c(!1)}},w=(N,S)=>{m(y=>({...y,[N]:S}))};return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/events"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r?"Edit Event":"Create Event"})]}),d&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:d}),s.jsxs("form",{onSubmit:v,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx(Ae,{label:"Event Title",value:p.title,onChange:N=>w("title",N.target.value),placeholder:"e.g. Team Building",required:!0}),s.jsx(gc,{label:"Event Banner (Optional)",value:p.eventBannerURL,onChange:N=>w("eventBannerURL",N)}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",value:p.description,onChange:N=>w("description",N.target.value),placeholder:"Event details..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Type"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.eventType,onChange:N=>w("eventType",N.target.value),children:Object.values(Sa).map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),s.jsx(Ae,{value:p.location,onChange:N=>w("location",N.target.value),placeholder:"Meeting Room 1"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date & Time"}),s.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.startDateTime,onChange:N=>w("startDateTime",N.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date & Time"}),s.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.endDateTime,onChange:N=>w("endDateTime",N.target.value)})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isAllDay",checked:p.isAllDay,onChange:N=>w("isAllDay",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isAllDay",className:"text-sm text-slate-700 font-medium",children:"All Day Event"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Related Space (Optional)"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.spaceId,onChange:N=>w("spaceId",N.target.value),children:[s.jsx("option",{value:"",children:"None (Company Wide)"}),i.map(N=>s.jsx("option",{value:N.id,children:N.spaceName},N.id))]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"If selected, only users in this space will see it unless marked Public."})]}),s.jsxs("div",{className:"flex flex-col gap-2 pt-2 border-t border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:p.isPublic,onChange:N=>w("isPublic",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-slate-700 font-medium",children:"Public (Visible to all company users)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:N=>w("isActive",N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>n("/events"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:l,children:"Save Event"})]})]})]})},Jte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(""),[c,d]=P.useState("");P.useEffect(()=>{if(!e)return;const m=lx(e);if(!m)return;const v=t.role===le.CompanyAdmin,w=m.createdBy===t.id,N=m.spaceId?at(m.spaceId,t.id)!==null:!0;if(m.companyId!==t.companyId){n("/events");return}if(!m.isActive&&!v&&!w){n("/events");return}if(!m.isPublic&&!v&&!N&&!w){n("/events");return}if(i(m),m.spaceId){const y=Xn(m.spaceId);y&&l(y.spaceName)}const S=Xt(m.createdBy);S&&d(S.fullName)},[e,t,n]);const f=async()=>{!r||!window.confirm("Deactivate this event? It will be hidden from lists.")||(await qP({...r,isActive:!1}),n("/events"))};if(!r)return s.jsx("div",{className:"p-12 text-center",children:"Loading event..."});const p=t.role===le.CompanyAdmin||r.spaceId&&at(r.spaceId,t.id)===qe.SpaceManager;return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{to:"/events",className:"flex items-center gap-2 text-slate-500 hover:text-blue-600 transition-colors",children:[s.jsx(Ct,{size:20}),"Back to Events"]}),p&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{to:`/events/${r.id}/edit`,children:s.jsxs(se,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Dt,{size:16})," Edit"]})}),r.isActive&&s.jsxs(se,{variant:"danger",onClick:f,className:"flex items-center gap-2",children:[s.jsx(_s,{size:16})," Deactivate"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[r.eventBannerURL?s.jsx("div",{className:"w-full h-48 overflow-hidden",children:s.jsx("img",{src:r.eventBannerURL,alt:"",className:"w-full h-full object-cover"})}):s.jsx("div",{className:`h-2 w-full ${r.isActive?"bg-blue-500":"bg-slate-300"}`}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-indigo-50 text-indigo-700",children:r.eventType}),!r.isActive&&s.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-slate-100 text-slate-500",children:"Inactive"}),!r.isPublic&&s.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-amber-50 text-amber-700",children:"Private"})]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:r.title})]}),r.startDateTime&&s.jsxs("div",{className:"text-center bg-slate-50 border border-slate-200 rounded-lg p-3 min-w-[80px]",children:[s.jsx("span",{className:"block text-xs text-slate-500 uppercase font-bold",children:new Date(r.startDateTime).toLocaleString("default",{month:"short"})}),s.jsx("span",{className:"block text-2xl font-bold text-slate-900",children:new Date(r.startDateTime).getDate()})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 text-sm text-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ts,{size:20,className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Date & Time"}),s.jsxs("p",{children:[new Date(r.startDateTime).toLocaleDateString()," ",r.isAllDay?"(All Day)":new Date(r.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),r.endDateTime&&s.jsxs("p",{className:"text-slate-500 text-xs",children:["to ",new Date(r.endDateTime).toLocaleDateString()," ",new Date(r.endDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),r.location&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qy,{size:20,className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Location"}),s.jsx("p",{children:r.location})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(js,{size:20,className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Organizer"}),s.jsx("p",{children:c||"Unknown"})]})]}),a&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 flex items-center justify-center bg-slate-200 rounded-full text-xs font-bold text-slate-500",children:"S"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Space"}),s.jsx("p",{children:a})]})]})]}),s.jsx("div",{className:"prose max-w-none text-slate-800 whitespace-pre-wrap border-t border-slate-100 pt-6",children:r.description||s.jsx("span",{className:"text-slate-400 italic",children:"No description provided."})})]})]})]})},Yte=({currentUser:t})=>{const[e]=qa();ze();const[n,r]=P.useState(!1),[i,a]=P.useState(qt.Global),[l,c]=P.useState(""),[d,f]=P.useState(""),[p,m]=P.useState(!1),[v,w]=P.useState(""),[N,S]=P.useState([]),[y,E]=P.useState([]),[T,A]=P.useState([]),[I,_]=P.useState([]),[k,M]=P.useState([]),[R,O]=P.useState(!1);P.useEffect(()=>{dl(t.companyId);const L=e.get("scopeType");if(L&&Object.values(qt).includes(L)){a(L);const J=e.get("scopeSpaceId")||e.get("scopePageId")||e.get("scopeDocumentId")||e.get("scopeKnowledgeArticleId");J&&c(J)}const z=Yn(t.companyId,t.id);S(z),E(Xr(t.companyId)),A(Cs(t.companyId).filter(J=>J.isActive)),_(sd(t.companyId).filter(J=>J.isActive)),B()},[t,e]),P.useEffect(()=>{n||B()},[R]);const B=()=>{const L=t.role===le.CompanyAdmin&&R?void 0:t.id;M(wq(t.companyId,L))},$=async L=>{if(L.preventDefault(),!!d.trim()){m(!0),w("");try{const z={companyId:t.companyId,userId:t.id,scopeType:i,questionText:d,status:Ai.Pending};i===qt.Space&&(z.scopeSpaceId=l),i===qt.Page&&(z.scopePageId=l),i===qt.Document&&(z.scopeDocumentId=l),i===qt.KnowledgeBase&&(z.scopeKnowledgeArticleId=l),await Nq(z),w("Your question has been recorded."),f(""),B()}catch{w("Error submitting query.")}finally{m(!1)}}},F=L=>{switch(L){case Ai.Answered:return"text-green-600 bg-green-50 border-green-200";case Ai.Error:return"text-red-600 bg-red-50 border-red-200";default:return"text-amber-600 bg-amber-50 border-amber-200"}};return n?s.jsx("div",{className:"flex items-center justify-center h-96 animate-fade-in",children:s.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-2xl border border-slate-100 shadow-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xs,{size:32,className:"text-blue-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"AI Assistant"}),s.jsx("p",{className:"text-slate-500 mb-6",children:"Unlock the power of AI to search and summarize your intranet. Available on the Pro plan."}),s.jsx(se,{onClick:()=>alert("Redirecting to billing..."),children:"Upgrade to Pro"})]})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center justify-center gap-3",children:[s.jsx(xs,{size:32,className:"text-blue-600"})," AI Assistant"]}),s.jsx("p",{className:"text-slate-500",children:"Ask questions about your company data."})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Scope"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:L=>{a(L.target.value),c("")},children:Object.values(qt).map(L=>s.jsx("option",{value:L,children:L},L))})]}),i===qt.Space&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Space"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:L=>c(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Choose Space --"}),N.map(L=>s.jsx("option",{value:L.id,children:L.spaceName},L.id))]})]}),i===qt.Page&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Page"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:L=>c(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Choose Page --"}),y.map(L=>s.jsx("option",{value:L.id,children:L.pageTitle},L.id))]})]}),i===qt.Document&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Document"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:L=>c(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Choose Document --"}),T.map(L=>s.jsx("option",{value:L.id,children:L.title},L.id))]})]}),i===qt.KnowledgeBase&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Article (Optional)"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:L=>c(L.target.value),children:[s.jsx("option",{value:"",children:"-- All Articles --"}),I.map(L=>s.jsx("option",{value:L.id,children:L.title},L.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Question"}),s.jsx("textarea",{className:"w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Ask something...",value:d,onChange:L=>f(L.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[v?s.jsxs("span",{className:"text-green-600 text-sm font-medium flex items-center gap-1",children:[s.jsx(En,{size:16})," ",v]}):s.jsx("span",{}),s.jsxs(se,{type:"submit",isLoading:p,children:[s.jsx(DB,{size:16,className:"mr-2"})," Ask"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(GP,{size:20,className:"text-slate-400"})," Query History"]}),t.role===le.CompanyAdmin&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"showAll",checked:R,onChange:L=>O(L.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"showAll",className:"text-sm text-slate-700 font-medium",children:"All Company Queries"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("div",{className:"divide-y divide-slate-100",children:[k.map(L=>s.jsxs("div",{className:"p-4 hover:bg-slate-50 flex items-center justify-between gap-4 group",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase border ${F(L.status)}`,children:L.status}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(L.createdOn).toLocaleString()}),s.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-1.5 rounded",children:L.scopeType})]}),s.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:L.questionText})]}),s.jsx(ie,{to:`/ai-assistant/${L.id}`,children:s.jsx(se,{variant:"ghost",className:"text-xs h-8 px-3",children:"View"})})]},L.id)),k.length===0&&s.jsx("div",{className:"p-8 text-center text-slate-500 italic",children:"No queries found."})]})})]})]})},Xte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(""),[c,d]=P.useState(""),[f,p]=P.useState(!1);P.useEffect(()=>{if(!e)return;const N=Sq(e);if(!N){n("/ai-assistant");return}if(N.companyId!==t.companyId){n("/ai-assistant");return}if(t.role!==le.CompanyAdmin&&N.userId!==t.id){n("/ai-assistant");return}i(N),d(N.answerText||""),m(N)},[e,t,n]);const m=N=>{let S="";if(N.scopeType===qt.Space&&N.scopeSpaceId){const y=Xn(N.scopeSpaceId);y&&(S=`Space: ${y.spaceName}`)}else if(N.scopeType===qt.Page&&N.scopePageId){const y=Es(N.scopePageId);y&&(S=`Page: ${y.pageTitle}`)}else if(N.scopeType===qt.Document&&N.scopeDocumentId){const y=nc(N.scopeDocumentId);y&&(S=`Document: ${y.title}`)}else if(N.scopeType===qt.KnowledgeBase&&N.scopeKnowledgeArticleId){const y=ox(N.scopeKnowledgeArticleId);y&&(S=`Article: ${y.title}`)}l(S)},v=async()=>{if(r){p(!0);try{const N=await Eq({...r,answerText:c,status:Ai.Answered,answeredOn:new Date().toISOString()});i(N),alert("Answer saved successfully.")}catch(N){console.error(N)}finally{p(!1)}}};if(!r)return s.jsx("div",{className:"p-12 text-center",children:"Loading..."});const w=t.role===le.CompanyAdmin;return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n("/ai-assistant"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Query Details"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-1 border-b border-slate-100 pb-4",children:[s.jsx("span",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"Question"}),s.jsx("h2",{className:"text-lg font-medium text-slate-900",children:r.questionText}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[s.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded",children:r.scopeType}),a&&s.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded",children:a}),s.jsx("span",{children:new Date(r.createdOn).toLocaleString()})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("span",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider flex items-center gap-2",children:[s.jsx(xs,{size:16})," AI Answer"]}),w?s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{className:"w-full h-40 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter answer manually...",value:c,onChange:N=>d(N.target.value)}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(se,{onClick:v,isLoading:f,children:[s.jsx(cf,{size:16,className:"mr-2"})," Save Answer"]})})]}):s.jsx("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 text-slate-700 whitespace-pre-wrap",children:r.answerText||s.jsx("span",{className:"text-slate-400 italic",children:"No answer has been recorded yet."})}),r.answeredOn&&s.jsxs("p",{className:"text-xs text-slate-400 text-right mt-1",children:["Answered on ",new Date(r.answeredOn).toLocaleString()]})]})]})]})},Qte=({currentUser:t})=>{const e=ze(),[n,r]=P.useState([]),[i,a]=P.useState([]),[l,c]=P.useState(""),[d,f]=P.useState(""),[p,m]=P.useState("");P.useEffect(()=>{if(t.role!==le.SuperAdmin){e("/");return}const w=ax();w.sort((N,S)=>new Date(S.createdOn).getTime()-new Date(N.createdOn).getTime()),r(w),a(w)},[t,e]),P.useEffect(()=>{let w=n;if(l){const N=l.toLowerCase();w=w.filter(S=>S.companyName.toLowerCase().includes(N)||S.primaryAdminEmail.toLowerCase().includes(N))}if(d&&(w=w.filter(N=>N.planType===d)),p){const N=p==="active";w=w.filter(S=>(S.isActive??!0)===N)}a(w)},[n,l,d,p]);const v=w=>{switch(w){case Et.Pro:return"bg-purple-100 text-purple-800";case Et.Basic:return"bg-blue-100 text-blue-800";default:return"bg-slate-100 text-slate-800"}};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Companies"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Super Admin Console"})]}),s.jsx(ie,{to:"/super-admin/companies/new",children:s.jsxs(se,{children:[s.jsx(on,{size:18})," Create Company"]})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(Rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search company or admin email...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:w=>c(w.target.value)})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:[s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:d,onChange:w=>f(w.target.value),children:[s.jsx("option",{value:"",children:"All Plans"}),Object.values(Et).map(w=>s.jsx("option",{value:w,children:w},w))]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]}),s.jsxs("div",{className:"relative min-w-[150px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-700",value:p,onChange:w=>m(w.target.value),children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsx(mn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Company"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Plan"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Users Limit"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Created On"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[i.map(w=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-slate-100 p-2 rounded-lg text-slate-500",children:s.jsx(rc,{size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900",children:w.companyName}),s.jsx("div",{className:"text-xs text-slate-500",children:w.primaryAdminEmail})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${v(w.planType)}`,children:w.planType||"Basic"})}),s.jsx("td",{className:"px-6 py-4",children:w.isActive??!0?s.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs font-medium",children:[s.jsx(En,{size:14})," Active"]}):s.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-xs font-medium",children:[s.jsx(zB,{size:14})," Inactive"]})}),s.jsx("td",{className:"px-6 py-4 text-slate-600 font-mono",children:w.maxUsers||"Default"}),s.jsx("td",{className:"px-6 py-4 text-slate-500 text-xs",children:new Date(w.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx(ie,{to:`/super-admin/companies/${w.id}`,children:s.jsx(se,{variant:"secondary",className:"text-xs h-8 px-3",children:"View Details"})})})]},w.id)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No companies found."})})]})]})})})]})},Zte=({currentUser:t})=>{const{id:e}=Vt(),n=ze(),[r,i]=P.useState(null),[a,l]=P.useState(null),[c,d]=P.useState(!1),[f,p]=P.useState(""),[m,v]=P.useState({planType:Et.Basic,isActive:!0,maxUsers:10,notes:""});P.useEffect(()=>{if(t.role!==le.SuperAdmin){n("/");return}if(e){const S=ji(e);S?(i(S),v({planType:S.planType||Et.Basic,isActive:S.isActive??!0,maxUsers:S.maxUsers||10,notes:S.notes||""}),l(Fq(e))):p("Company not found")}},[e,t,n]);const w=async S=>{if(S.preventDefault(),!!r){d(!0);try{await fl({...r,planType:m.planType,isActive:m.isActive,maxUsers:m.maxUsers,notes:m.notes}),alert("Company settings updated successfully.")}catch(y){p(y.message)}finally{d(!1)}}},N=()=>{alert("Impersonation feature requires context switching not fully implemented in MVP. You can view Admin Users below.")};return r?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ie,{to:"/super-admin/companies",className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:r.companyName}),s.jsx("p",{className:"text-sm text-slate-500",children:"Company Details"})]})]}),s.jsxs(se,{variant:"secondary",onClick:N,children:[s.jsx(Ii,{size:16,className:"mr-2"})," Open Company as Admin"]})]}),f&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:f}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 border-b border-slate-100 pb-2",children:"Company Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name"}),s.jsx("div",{className:"w-full px-3 py-2 border border-slate-200 bg-slate-50 rounded-lg text-slate-600",children:r.companyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Primary Admin Email"}),s.jsx("div",{className:"w-full px-3 py-2 border border-slate-200 bg-slate-50 rounded-lg text-slate-600",children:r.primaryAdminEmail})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Plan Type"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:m.planType,onChange:S=>v({...m,planType:S.target.value}),children:Object.values(Et).map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Max Users Limit"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:m.maxUsers,onChange:S=>v({...m,maxUsers:parseInt(S.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Internal Notes (Super Admin Only)"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",value:m.notes,onChange:S=>v({...m,notes:S.target.value}),placeholder:"Add notes about this customer..."})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:m.isActive,onChange:S=>v({...m,isActive:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700 font-medium",children:"Company Active"})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(se,{type:"submit",isLoading:c,children:[s.jsx(cf,{size:16,className:"mr-2"})," Save Company Settings"]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 border-b border-slate-100 pb-4 mb-4",children:"Primary Admin Users"}),a!=null&&a.admins&&a.admins.length>0?s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-slate-500 border-b border-slate-100",children:[s.jsx("th",{className:"pb-2 font-semibold",children:"Name"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Email"}),s.jsx("th",{className:"pb-2 font-semibold",children:"Status"})]})}),s.jsx("tbody",{children:a.admins.map(S=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 font-medium text-slate-900",children:S.fullName}),s.jsx("td",{className:"py-2 text-slate-600",children:S.email}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded",children:S.status})})]},S.id))})]}):s.jsx("p",{className:"text-slate-500 text-sm",children:"No admin users found."})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Company Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{className:"text-blue-500",size:20}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Users"})]}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:(a==null?void 0:a.userCount)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tr,{className:"text-indigo-500",size:20}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Spaces"})]}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:(a==null?void 0:a.spaceCount)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qn,{className:"text-emerald-500",size:20}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Pages"})]}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:(a==null?void 0:a.pageCount)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gr,{className:"text-orange-500",size:20}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Documents"})]}),s.jsx("span",{className:"text-xl font-bold text-slate-900",children:(a==null?void 0:a.docCount)||0})]})]})]})})]})]}):s.jsx("div",{className:"p-12 text-center",children:"Loading..."})},ene=({currentUser:t})=>{const e=ze(),[n,r]=P.useState(!1),[i,a]=P.useState(""),[l,c]=P.useState(null),[d,f]=P.useState({companyName:"",primaryAdminFullName:"",primaryAdminEmail:"",planType:Et.Basic,maxUsers:10});P.useEffect(()=>{t.role!==le.SuperAdmin&&e("/")},[t,e]);const p=async v=>{v.preventDefault(),r(!0),a("");try{const w="Welcome123!";await jP(d.companyName,"",{fullName:d.primaryAdminFullName,email:d.primaryAdminEmail,password:w,designation:"Company Administrator",department:"Administration"},d.planType,d.maxUsers),c({companyName:d.companyName,adminEmail:d.primaryAdminEmail,tempPass:w})}catch(w){a(w.message)}finally{r(!1)}},m=(v,w)=>{f(N=>({...N,[v]:w}))};return l?s.jsx("div",{className:"max-w-xl mx-auto space-y-6 animate-fade-in",children:s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 text-green-600",children:s.jsx(En,{size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Company Created Successfully"}),s.jsxs("p",{className:"text-green-700 mb-6",children:["The workspace for ",s.jsx("strong",{children:l.companyName})," is ready."]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-100 text-left space-y-2 mb-6 shadow-sm",children:[s.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold",children:"Admin Credentials"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-sm block",children:"Email:"}),s.jsx("span",{className:"font-mono font-medium text-slate-900",children:l.adminEmail})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 text-sm block",children:"Temporary Password:"}),s.jsx("span",{className:"font-mono font-medium text-slate-900 bg-slate-100 px-2 py-1 rounded",children:l.tempPass})]})]}),s.jsx("p",{className:"text-sm text-green-800 mb-6",children:"Please share these login details securely with the primary administrator."}),s.jsx(se,{onClick:()=>e("/super-admin/companies"),children:"Back to Company List"})]})}):s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/super-admin/companies"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Create New Company"})]}),i&&s.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg border border-red-100",children:i}),s.jsxs("form",{onSubmit:p,className:"bg-white p-8 rounded-xl shadow-sm border border-slate-200 space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 pb-2",children:[s.jsx(rc,{size:20,className:"text-indigo-600"}),s.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Company Details"})]}),s.jsx(Ae,{label:"Company Name",value:d.companyName,onChange:v=>m("companyName",v.target.value),placeholder:"e.g. Acme Corp",required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subscription Plan"}),s.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d.planType,onChange:v=>m("planType",v.target.value),children:Object.values(Et).map(v=>s.jsx("option",{value:v,children:v},v))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Max Users"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d.maxUsers,onChange:v=>m("maxUsers",parseInt(v.target.value)),min:"1",required:!0})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 pb-2",children:[s.jsx("div",{className:"bg-indigo-100 p-1 rounded text-indigo-600 font-bold text-xs",children:"ADMIN"}),s.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Primary Administrator"})]}),s.jsx(Ae,{label:"Admin Full Name",value:d.primaryAdminFullName,onChange:v=>m("primaryAdminFullName",v.target.value),placeholder:"e.g. John Doe",required:!0}),s.jsx(Ae,{label:"Admin Email",type:"email",value:d.primaryAdminEmail,onChange:v=>m("primaryAdminEmail",v.target.value),placeholder:"admin@acmecorp.com",required:!0}),s.jsx("p",{className:"text-xs text-slate-500",children:"A temporary password will be generated automatically."})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx(se,{type:"button",variant:"secondary",onClick:()=>e("/super-admin/companies"),children:"Cancel"}),s.jsx(se,{type:"submit",isLoading:n,children:"Create Company"})]})]})]})},tne=({currentUser:t})=>{const e=ze(),[n,r]=P.useState([]),[i,a]=P.useState([]),[l,c]=P.useState("overview");P.useEffect(()=>{if(t.role!==le.SuperAdmin){e("/");return}d()},[t]);const d=()=>{ax().forEach(w=>id(w.id)),r(ax()),a(CP())},f=async v=>{window.confirm(`Extend ${v.companyName} by 1 month?`)&&(await TP(v.id),d())},p=async v=>{const w=v.planType===Et.Basic?Et.Pro:Et.Basic;window.confirm(`Change plan for ${v.companyName} to ${w}?`)&&(await fl({...v,planType:w,subscriptionPlan:w}),d())},m=async v=>{const w=!v.isActive;window.confirm(`${w?"Activate":"Deactivate"} company ${v.companyName}?`)&&(await fl({...v,isActive:w}),d())};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Billing Control Panel"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage company subscriptions and status."})]}),s.jsx(ie,{to:"/super-admin/razorpay-settings",children:s.jsxs(se,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(ek,{size:16})," Razorpay Settings"]})})]}),s.jsxs("div",{className:"flex space-x-4 border-b border-slate-200",children:[s.jsx("button",{onClick:()=>c("overview"),className:`pb-2 px-1 text-sm font-medium transition-colors ${l==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Subscription Overview"}),s.jsx("button",{onClick:()=>c("payments"),className:`pb-2 px-1 text-sm font-medium transition-colors ${l==="payments"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Payment Orders"})]}),l==="overview"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Company"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Plan"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Expires"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(v=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:v.companyName}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${v.planType===Et.Pro?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:v.planType})}),s.jsx("td",{className:"px-6 py-4 text-slate-600",children:v.subscriptionEndDate?new Date(v.subscriptionEndDate).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${v.renewalStatus==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.renewalStatus||"Unknown"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>f(v),className:"p-1.5 text-slate-500 hover:text-green-600 bg-white border border-slate-200 rounded shadow-sm",title:"Extend 1 Month",children:s.jsx(ZP,{size:14})}),s.jsx("button",{onClick:()=>p(v),className:"p-1.5 text-slate-500 hover:text-purple-600 bg-white border border-slate-200 rounded shadow-sm",title:"Switch Plan",children:s.jsx(pl,{size:14})}),s.jsx("button",{onClick:()=>m(v),className:`p-1.5 bg-white border border-slate-200 rounded shadow-sm ${v.isActive?"text-slate-500 hover:text-red-600":"text-red-500 hover:text-green-600"}`,title:v.isActive?"Deactivate":"Activate",children:v.isActive?s.jsx(_s,{size:14}):s.jsx(En,{size:14})})]})})]},v.id))})]})}),l==="payments"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Company ID"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Plan"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-slate-700",children:"Order ID"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[i.map(v=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(v.createdOn).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 font-mono text-xs text-slate-500",children:v.companyId}),s.jsxs("td",{className:"px-6 py-4",children:[v.planName," (",v.durationMonths,"m)"]}),s.jsxs("td",{className:"px-6 py-4 font-medium",children:["",v.amountInPaise/100]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${v.status==="Paid"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:v.status})}),s.jsx("td",{className:"px-6 py-4 font-mono text-xs text-slate-500",children:v.razorpayOrderId})]},v.id)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No payment orders found."})})]})]})})]})},nne=({currentUser:t})=>{const e=ze(),[n,r]=P.useState(""),[i,a]=P.useState(""),[l,c]=P.useState(!1),[d,f]=P.useState(!1);P.useEffect(()=>{if(t.role!==le.SuperAdmin){e("/");return}const m=rd();m&&(r(m.keyId),a(m.keySecret))},[t,e]);const p=m=>{m.preventDefault(),f(!0),Cq({keyId:n,keySecret:i}),setTimeout(()=>{f(!1),alert("Razorpay settings saved.")},500)};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/super-admin/billing"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(Ct,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Razorpay Settings"})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-700",children:[s.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(WP,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"API Configuration"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Enter your Razorpay test/live keys."})]})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsx(Ae,{label:"Key ID",value:n,onChange:m=>r(m.target.value),placeholder:"rzp_test_...",required:!0}),s.jsxs("div",{className:"relative",children:[s.jsx(Ae,{label:"Key Secret",type:l?"text":"password",value:i,onChange:m=>a(m.target.value),placeholder:"Enter secret",required:!0}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-9 text-slate-400 hover:text-slate-600",children:l?s.jsx(KP,{size:18}):s.jsx(As,{size:18})})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg flex items-start gap-3 text-sm text-slate-600",children:[s.jsx(ml,{size:18,className:"text-blue-600 mt-0.5 shrink-0"}),s.jsx("p",{children:"These keys are stored locally for this MVP simulation. In a real production app, they would be securely stored on the backend server."})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(se,{type:"submit",isLoading:d,children:"Save Settings"})})]})]})]})},rne=({currentUser:t})=>{const[e,n]=P.useState(void 0),[r,i]=P.useState(!1),[a,l]=P.useState(!1),[c,d]=P.useState(1),[f,p]=P.useState([]),[m,v]=P.useState(!1);P.useEffect(()=>{t.companyId&&w()},[t.companyId]);const w=()=>{const T=id(t.companyId);n(T);const A=rd();v(!!A&&!!A.keyId);const I=CP(t.companyId);p(I)},N=async(T,A)=>{if(e){i(!0);try{if(typeof window.Razorpay>"u")throw new Error("Razorpay SDK failed to load. Please refresh the page or check your connection.");const _=(T===Et.Pro?5e3:1e3)*A*100,k=await _q(e.id,T,A,_),M=rd();if(!M)throw new Error("Razorpay config missing");const R={key:M.keyId,amount:_,currency:"INR",name:"Company Intranet MVP",description:`${T} Plan Subscription (${A} Month${A>1?"s":""})`,order_id:k.razorpayOrderId,handler:async function(B){try{await Tq(B.razorpay_order_id,B.razorpay_payment_id,B.razorpay_signature)?(alert(`Payment Successful! Your ${T} subscription is active.`),w(),l(!1)):alert("Payment verification failed.")}catch($){console.error($),alert("Error verifying payment.")}},prefill:{name:t.fullName,email:t.email},theme:{color:"#2563eb"}},O=new window.Razorpay(R);O.on("payment.failed",function(B){alert(B.error.description)}),O.open()}catch(I){console.error(I),alert(I.message||"Payment init failed")}finally{i(!1)}}},S=async()=>{e&&window.confirm("Simulate manual renewal?")&&(await TP(e.id),l(!1),w())};if(!e)return s.jsx("div",{children:"Loading..."});const y=e.planType===Et.Pro,E=e.renewalStatus==="Active"?"text-green-600 bg-green-50":e.renewalStatus==="ExpiringSoon"?"text-amber-600 bg-amber-50":"text-red-600 bg-red-50";return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Billing & Subscription"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Manage your plan and renewal."})]}),!m&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-lg flex items-center gap-3 text-sm",children:[s.jsx(Na,{size:20}),s.jsx("p",{children:"Razorpay payments are not configured by Super Admin. Using manual mode."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-10 ${y?"text-purple-600":"text-blue-600"}`,children:s.jsx(pl,{size:120})}),s.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Current Plan"}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`p-3 rounded-lg ${y?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:s.jsx(pl,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.planType}),s.jsx("p",{className:"text-sm text-slate-500",children:y?"Unlimited Users & Spaces":"Up to 50 Users, 5 Spaces"})]})]}),!y&&s.jsx(se,{onClick:()=>m?N(Et.Pro,1):S(),isLoading:r,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 border-none",children:m?"Pay & Upgrade to Pro (5000/mo)":"Upgrade to Pro"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Subscription Status"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Status"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold uppercase ${E}`,children:e.renewalStatus})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ts,{size:20,className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Valid Until"}),s.jsx("p",{className:"text-slate-900 font-medium",children:e.subscriptionEndDate?new Date(e.subscriptionEndDate).toLocaleDateString():"N/A"})]})]}),s.jsxs(se,{variant:"secondary",className:"w-full mt-4",onClick:()=>l(!0),children:[s.jsx(ZP,{size:16,className:"mr-2"})," Renew Subscription"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-2 bg-slate-50/50",children:[s.jsx(EB,{size:18,className:"text-slate-500"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Payment History"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Date"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Status"}),s.jsx("th",{className:"px-6 py-3 font-semibold text-slate-700",children:"Order ID"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[f.map(T=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-3 text-slate-600",children:new Date(T.createdOn).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-3 font-medium text-slate-900",children:[T.planName," (",T.durationMonths," mo)"]}),s.jsxs("td",{className:"px-6 py-3 text-slate-600",children:["",T.amountInPaise/100]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${T.status==="Paid"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:T.status})}),s.jsx("td",{className:"px-6 py-3 font-mono text-xs text-slate-500",children:T.razorpayOrderId||"-"})]},T.id)),f.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 italic",children:"No payment history found."})})]})]})})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 animate-fade-in",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Renew Subscription"}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["Choose a duration to extend your current ",s.jsx("strong",{children:e.planType})," plan."]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("button",{onClick:()=>d(1),className:`w-full p-4 rounded-lg border text-left flex justify-between ${c===1?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[s.jsx("span",{className:"font-medium",children:"1 Month"}),c===1&&s.jsx(En,{size:20,className:"text-blue-600"})]}),s.jsxs("button",{onClick:()=>d(3),className:`w-full p-4 rounded-lg border text-left flex justify-between ${c===3?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[s.jsx("span",{className:"font-medium",children:"3 Months"}),c===3&&s.jsx(En,{size:20,className:"text-blue-600"})]}),s.jsxs("button",{onClick:()=>d(12),className:`w-full p-4 rounded-lg border text-left flex justify-between ${c===12?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[s.jsx("span",{className:"font-medium",children:"12 Months"}),c===12&&s.jsx(En,{size:20,className:"text-blue-600"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(se,{variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),m?s.jsx(se,{onClick:()=>N(e.planType,c),isLoading:r,children:"Pay with Razorpay"}):s.jsx(se,{onClick:S,isLoading:r,children:"Manual Renew (Test)"})]})]})})]})},ine=({onLogin:t})=>{var m;const e=ze(),n=Di(),[r,i]=P.useState(!1),[a,l]=P.useState(""),c=(m=n.state)==null?void 0:m.profile,[d,f]=P.useState({fullName:(c==null?void 0:c.name)||"",inviteCode:"",designation:"",department:""});P.useEffect(()=>{c||e("/login")},[c,e]);const p=async v=>{v.preventDefault(),i(!0),l("");try{const w=await Dq(d.inviteCode);if(!w)throw new Error("Invalid invite code. Please contact your administrator.");const N=await IP({fullName:d.fullName,email:c.email,password:"google_oauth_user",designation:d.designation,department:d.department,companyId:w.id,status:"active",role:le.Member});localStorage.setItem("intranet_session",JSON.stringify(N)),t(N),e("/")}catch(w){l(w.message)}finally{i(!1)}};return c?s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-100",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"h-12 w-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(En,{size:24})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Complete Signup"}),s.jsxs("p",{className:"text-slate-500 mt-2",children:["Authenticated as ",s.jsx("span",{className:"font-medium text-slate-900",children:c.email})]})]}),a&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 rounded-lg flex items-start gap-3",children:[s.jsx($y,{size:20,className:"text-red-600 shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-600",children:a})]}),s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg text-sm text-blue-800",children:[s.jsxs("p",{className:"flex items-center gap-2 font-medium mb-1",children:[s.jsx(rc,{size:16})," Join Existing Company"]}),s.jsxs("p",{className:"text-blue-700/80",children:["To join your team, please enter the ",s.jsx("strong",{children:"Invite Code"})," provided by your administrator.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-xs bg-white px-1 py-0.5 rounded border border-blue-200",children:"Hint: Try DEMO123"})]})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsx(Ae,{label:"Full Name",value:d.fullName,onChange:v=>f({...d,fullName:v.target.value}),required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ae,{label:"Designation",value:d.designation,onChange:v=>f({...d,designation:v.target.value}),placeholder:"e.g. Analyst",required:!0}),s.jsx(Ae,{label:"Department",value:d.department,onChange:v=>f({...d,department:v.target.value}),placeholder:"e.g. Sales",required:!0})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Invite Code"}),s.jsx("input",{type:"text",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-center tracking-widest uppercase text-lg",placeholder:"ENTER CODE",value:d.inviteCode,onChange:v=>f({...d,inviteCode:v.target.value.toUpperCase()}),required:!0})]}),s.jsx(se,{type:"submit",className:"w-full mt-4",isLoading:r,children:"Join Company"})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:s.jsx(ie,{to:"/login",className:"text-slate-400 hover:text-slate-600",children:"Cancel and return to login"})})]})}):null},sne=({currentDevice:t,onDeviceChange:e})=>s.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 p-2 bg-slate-900 text-white rounded-full shadow-2xl border border-slate-700 animate-fade-in",children:[s.jsx("span",{className:"px-3 text-xs font-bold uppercase tracking-wider text-slate-400",children:"Preview"}),s.jsx("button",{onClick:()=>e("mobile"),className:`p-2 rounded-full transition-all ${t==="mobile"?"bg-blue-600 text-white":"hover:bg-slate-800 text-slate-400"}`,title:"Mobile (375px)",children:s.jsx(LB,{size:18})}),s.jsx("button",{onClick:()=>e("tablet"),className:`p-2 rounded-full transition-all ${t==="tablet"?"bg-blue-600 text-white":"hover:bg-slate-800 text-slate-400"}`,title:"Tablet (768px)",children:s.jsx(FB,{size:18})}),s.jsx("button",{onClick:()=>e("desktop"),className:`p-2 rounded-full transition-all ${t==="desktop"?"bg-blue-600 text-white":"hover:bg-slate-800 text-slate-400"}`,title:"Desktop (Full)",children:s.jsx(QP,{size:18})}),s.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),s.jsx("button",{onClick:()=>e("desktop"),className:"p-2 rounded-full hover:bg-slate-800 text-slate-400 hover:text-white",title:"Reset View",children:s.jsx(RB,{size:16})})]}),ane=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(!0),[i,a]=P.useState("#f8fafc"),[l,c]=P.useState(!1),[d,f]=P.useState("desktop");P.useEffect(()=>{$q();const A=AP();if(sessionStorage.getItem("intranet_preview_mode")==="true"&&c(!0),A){e(A);const _=ji(A.companyId);_&&(m(_),id(_.id))}r(!1)},[]),P.useEffect(()=>{const A=()=>{const k=(t==null?void 0:t.themePreference)||Ei.System,M=document.documentElement;let R=!1;k===Ei.Dark?R=!0:k===Ei.Light?R=!1:R=window.matchMedia("(prefers-color-scheme: dark)").matches,R?(M.classList.add("theme-dark"),M.classList.remove("theme-light")):(M.classList.add("theme-light"),M.classList.remove("theme-dark"))};A();const I=window.matchMedia("(prefers-color-scheme: dark)"),_=()=>{(t==null?void 0:t.themePreference)===Ei.System&&A()};return I.addEventListener("change",_),()=>I.removeEventListener("change",_)},[t==null?void 0:t.themePreference]);const p=(A,I)=>{const _=new Set,k=M=>{M.includes("Inter")&&_.add("family=Inter:wght@400;500;600;700"),M.includes("Roboto")&&_.add("family=Roboto:wght@400;500;700"),M.includes("Open Sans")&&_.add("family=Open+Sans:wght@400;600;700"),M.includes("Lato")&&_.add("family=Lato:wght@400;700")};if(A&&k(A),I&&k(I),_.size>0){const M="google-fonts-dynamic";let R=document.getElementById(M);R||(R=document.createElement("link"),R.id=M,R.rel="stylesheet",document.head.appendChild(R));const O=Array.from(_).join("&");R.href=`https://fonts.googleapis.com/css2?${O}&display=swap`}},m=A=>{A.secondaryColor&&a(A.secondaryColor);const I="branding-overrides";let _=document.getElementById(I);_||(_=document.createElement("style"),_.id=I,document.head.appendChild(_));const k=A.primaryColor||"#dc2626",M=A.accentColor||"#b91c1c";if(_.innerHTML=`
          :root {
             --accent-color: ${k} !important;
             --accent-hover: ${M} !important;
             --accent-light: ${k}15 !important;
          }
          
          /* Hijack Common Tailwind Classes */
          .bg-blue-600 { background-color: var(--accent-color) !important; }
          .bg-blue-500 { background-color: var(--accent-color) !important; }
          .bg-indigo-600 { background-color: var(--accent-color) !important; }
          
          .text-blue-600 { color: var(--accent-color) !important; }
          .text-blue-500 { color: var(--accent-color) !important; }
          .text-indigo-600 { color: var(--accent-color) !important; }
          
          .border-blue-600 { border-color: var(--accent-color) !important; }
          .border-blue-200 { border-color: color-mix(in srgb, var(--accent-color), white 70%) !important; }
          
          .hover\\:bg-blue-700:hover { background-color: var(--accent-hover) !important; }
          .hover\\:text-blue-700:hover { color: var(--accent-hover) !important; }
          
          .bg-blue-50 { background-color: var(--accent-light) !important; }
          .bg-indigo-50 { background-color: var(--accent-light) !important; }
      `,A.faviconURL){const R=document.querySelector("link[rel*='icon']")||document.createElement("link");R.type="image/x-icon",R.rel="shortcut icon",R.href=A.faviconURL,document.getElementsByTagName("head")[0].appendChild(R)}A.headingFontFamily?document.documentElement.style.setProperty("--font-heading",A.headingFontFamily):document.documentElement.style.removeProperty("--font-heading"),A.bodyFontFamily?document.documentElement.style.setProperty("--font-body",A.bodyFontFamily):document.documentElement.style.removeProperty("--font-body"),p(A.headingFontFamily||"",A.bodyFontFamily||"")},v=A=>{e(A),c(!1),sessionStorage.removeItem("intranet_preview_mode");const I=ji(A.companyId);I&&(m(I),id(I.id))},w=()=>{e(null),a("#f8fafc"),c(!1),sessionStorage.removeItem("intranet_preview_mode"),document.documentElement.classList.remove("theme-dark"),document.documentElement.classList.add("theme-light"),document.documentElement.style.removeProperty("--font-heading"),document.documentElement.style.removeProperty("--font-body")},N=A=>{e(A)},S=()=>{const A=!l;c(A),sessionStorage.setItem("intranet_preview_mode",String(A))};if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 rounded-full border-t-transparent"})});const y=t?{...t,role:l?le.Member:t.role}:null,E=(t==null?void 0:t.role)===le.CompanyAdmin||(t==null?void 0:t.role)===le.SuperAdmin,T=()=>{if(!y)return s.jsx(Ze,{to:"/login"});const A=ji(y.companyId),I=A&&!A.isSubscriptionActive,_=y.role===le.SuperAdmin;if(I&&!_){const O=window.location.hash.replace("#","")==="/billing";if(y.role===le.CompanyAdmin){if(!O)return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Na,{size:32})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Subscription Expired"}),s.jsx("p",{className:"text-slate-500",children:"Your company subscription has expired. Please renew to restore access."}),s.jsx("a",{href:"#/billing",children:s.jsx(se,{children:"Go to Billing"})})]})})}else return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Na,{size:32})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Access Suspended"}),s.jsx("p",{className:"text-slate-500",children:"This company's subscription has expired. Please contact your administrator."}),s.jsx(se,{variant:"secondary",onClick:w,children:"Logout"})]})})}const k={width:d==="desktop"?"100%":d==="tablet"?"768px":"375px",maxWidth:"100%",margin:"0 auto",transition:"all 0.3s ease-in-out",boxShadow:d!=="desktop"?"0 0 40px rgba(0,0,0,0.15)":"none",borderLeft:d!=="desktop"?"1px solid #e2e8f0":"none",borderRight:d!=="desktop"?"1px solid #e2e8f0":"none",minHeight:"100vh",backgroundColor:y.themePreference==="Dark"?"var(--bg-app)":"#fff"},M=d!=="desktop"?"#f1f5f9":y.themePreference==="Dark"?"var(--bg-app)":i;return s.jsxs("div",{className:"min-h-screen flex flex-col font-sans",style:{backgroundColor:M},children:[l&&s.jsx("div",{className:"bg-indigo-600 text-white w-full relative z-50",children:s.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-2 text-sm font-medium flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{size:16}),"You are viewing the site in Preview as Employee mode."]}),s.jsx("button",{onClick:S,className:"bg-white text-indigo-600 px-3 py-1 rounded-md text-xs font-bold hover:bg-indigo-50 transition-colors",children:"Exit Preview"})]})}),E&&s.jsx(sne,{currentDevice:d,onDeviceChange:f}),s.jsx(VB,{user:y,realRole:t==null?void 0:t.role,previewMode:l,onTogglePreview:S,onLogout:w,onUserUpdate:N}),s.jsx("div",{style:k,className:"flex flex-col flex-1",children:s.jsx("main",{className:"flex-1 w-full max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(VL,{})})})]})};return s.jsx(e6,{children:s.jsxs(HL,{children:[s.jsx(Ne,{path:"/login",element:t?s.jsx(Ze,{to:"/"}):s.jsx(GB,{onLogin:v})}),s.jsx(Ne,{path:"/signup",element:t?s.jsx(Ze,{to:"/"}):s.jsx(HB,{onLogin:v})}),s.jsx(Ne,{path:"/google-signup",element:s.jsx(ine,{onLogin:v})}),s.jsxs(Ne,{element:s.jsx(T,{}),children:[s.jsx(Ne,{path:"/",element:s.jsx(bte,{currentUser:y})}),s.jsx(Ne,{path:"/workspace",element:s.jsx(Pte,{currentUser:y})}),s.jsx(Ne,{path:"/notifications",element:s.jsx(Rte,{currentUser:y})}),s.jsx(Ne,{path:"/profile/edit",element:s.jsx(kte,{currentUser:y})}),s.jsx(Ne,{path:"/search",element:s.jsx(Ite,{currentUser:y})}),s.jsx(Ne,{path:"/dashboard",element:s.jsx(yte,{currentUser:y})}),s.jsx(Ne,{path:"/directory",element:s.jsx(Lte,{currentUser:y})}),s.jsx(Ne,{path:"/directory/:userId",element:s.jsx(Fte,{currentUser:y})}),s.jsx(Ne,{path:"/announcements",element:s.jsx(Ate,{currentUser:y})}),s.jsx(Ne,{path:"/announcements/new",element:s.jsx(p2,{currentUser:y})}),s.jsx(Ne,{path:"/announcements/:id",element:s.jsx(jte,{currentUser:y})}),s.jsx(Ne,{path:"/announcements/:id/edit",element:s.jsx(p2,{currentUser:y})}),s.jsx(Ne,{path:"/events",element:s.jsx(Kte,{currentUser:y})}),s.jsx(Ne,{path:"/events/new",element:s.jsx(b2,{currentUser:y})}),s.jsx(Ne,{path:"/events/:id",element:s.jsx(Jte,{currentUser:y})}),s.jsx(Ne,{path:"/events/:id/edit",element:s.jsx(b2,{currentUser:y})}),s.jsx(Ne,{path:"/pages",element:s.jsx(Ete,{currentUser:y})}),s.jsx(Ne,{path:"/pages/new",element:s.jsx(u2,{currentUser:y})}),s.jsx(Ne,{path:"/pages/create-from-template",element:s.jsx(zte,{currentUser:y})}),s.jsx(Ne,{path:"/pages/:id",element:s.jsx(Cte,{currentUser:y})}),s.jsx(Ne,{path:"/pages/:id/edit",element:s.jsx(u2,{currentUser:y})}),s.jsx(Ne,{path:"/pages/:pageId/widgets/new",element:s.jsx(d2,{currentUser:y})}),s.jsx(Ne,{path:"/pages/:pageId/widgets/:widgetId/edit",element:s.jsx(d2,{currentUser:y})}),s.jsx(Ne,{path:"/documents",element:s.jsx(_te,{currentUser:y})}),s.jsx(Ne,{path:"/documents/new",element:s.jsx(f2,{currentUser:y})}),s.jsx(Ne,{path:"/documents/:id",element:s.jsx(Tte,{currentUser:y})}),s.jsx(Ne,{path:"/documents/:id/edit",element:s.jsx(f2,{currentUser:y})}),s.jsx(Ne,{path:"/spaces",element:s.jsx(Ste,{currentUser:y})}),s.jsx(Ne,{path:"/spaces/:spaceId/members",element:s.jsx(Nte,{currentUser:y})}),s.jsx(Ne,{path:"/help",element:s.jsx(Gte,{currentUser:y})}),s.jsx(Ne,{path:"/ai-assistant",element:s.jsx(Yte,{currentUser:y})}),s.jsx(Ne,{path:"/ai-assistant/:id",element:s.jsx(Xte,{currentUser:y})}),s.jsx(Ne,{path:"/users",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(wte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/departments",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx($te,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/departments/new",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(g2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/departments/:id/edit",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(g2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/policies",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Ute,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/activity",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Mte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/analytics",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Ote,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/billing",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(rne,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/settings",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Dte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/settings/nav-links/new",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(h2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/settings/nav-links/:id/edit",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(h2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/templates",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Bte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/templates/new",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(v2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/templates/:id/edit",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(v2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/acknowledgements",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Vte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-categories",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Hte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-categories/new",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(x2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-categories/:id/edit",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(x2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-articles",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(Wte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-articles/new",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(y2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/admin/knowledge-articles/:id/edit",element:(y==null?void 0:y.role)===le.CompanyAdmin?s.jsx(y2,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/favorites",element:s.jsx(qte,{currentUser:y})}),s.jsx(Ne,{path:"/super-admin/companies",element:(y==null?void 0:y.role)===le.SuperAdmin?s.jsx(Qte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/super-admin/companies/new",element:(y==null?void 0:y.role)===le.SuperAdmin?s.jsx(ene,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/super-admin/companies/:id",element:(y==null?void 0:y.role)===le.SuperAdmin?s.jsx(Zte,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/super-admin/billing",element:(y==null?void 0:y.role)===le.SuperAdmin?s.jsx(tne,{currentUser:y}):s.jsx(Ze,{to:"/"})}),s.jsx(Ne,{path:"/super-admin/razorpay-settings",element:(y==null?void 0:y.role)===le.SuperAdmin?s.jsx(nne,{currentUser:y}):s.jsx(Ze,{to:"/"})})]}),s.jsx(Ne,{path:"*",element:s.jsx(Ze,{to:"/"})})]})})},WR=document.getElementById("root");if(!WR)throw new Error("Could not find root element to mount to");const one=eL.createRoot(WR);one.render(s.jsx(Z.StrictMode,{children:s.jsx(ane,{})}));
